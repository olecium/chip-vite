function lx(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function uv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var HT={exports:{}},nf={},qT={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nu=Symbol.for("react.element"),ux=Symbol.for("react.portal"),cx=Symbol.for("react.fragment"),dx=Symbol.for("react.strict_mode"),fx=Symbol.for("react.profiler"),hx=Symbol.for("react.provider"),px=Symbol.for("react.context"),gx=Symbol.for("react.forward_ref"),mx=Symbol.for("react.suspense"),vx=Symbol.for("react.memo"),yx=Symbol.for("react.lazy"),Pw=Symbol.iterator;function _x(t){return t===null||typeof t!="object"?null:(t=Pw&&t[Pw]||t["@@iterator"],typeof t=="function"?t:null)}var GT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},KT=Object.assign,QT={};function Ws(t,e,n){this.props=t,this.context=e,this.refs=QT,this.updater=n||GT}Ws.prototype.isReactComponent={};Ws.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ws.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function YT(){}YT.prototype=Ws.prototype;function cv(t,e,n){this.props=t,this.context=e,this.refs=QT,this.updater=n||GT}var dv=cv.prototype=new YT;dv.constructor=cv;KT(dv,Ws.prototype);dv.isPureReactComponent=!0;var Dw=Array.isArray,XT=Object.prototype.hasOwnProperty,fv={current:null},JT={key:!0,ref:!0,__self:!0,__source:!0};function ZT(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)XT.call(e,r)&&!JT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:nu,type:t,key:o,ref:s,props:i,_owner:fv.current}}function wx(t,e){return{$$typeof:nu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hv(t){return typeof t=="object"&&t!==null&&t.$$typeof===nu}function Ex(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xw=/\/+/g;function qh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ex(""+t.key):e.toString(36)}function Rc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case nu:case ux:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+qh(s,0):r,Dw(i)?(n="",t!=null&&(n=t.replace(xw,"$&/")+"/"),Rc(i,e,n,"",function(u){return u})):i!=null&&(hv(i)&&(i=wx(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(xw,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Dw(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+qh(o,a);s+=Rc(o,e,n,l,i)}else if(l=_x(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+qh(o,a++),s+=Rc(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Gu(t,e,n){if(t==null)return t;var r=[],i=0;return Rc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Ix(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qt={current:null},Ac={transition:null},Tx={ReactCurrentDispatcher:qt,ReactCurrentBatchConfig:Ac,ReactCurrentOwner:fv};ae.Children={map:Gu,forEach:function(t,e,n){Gu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Gu(t,function(){e++}),e},toArray:function(t){return Gu(t,function(e){return e})||[]},only:function(t){if(!hv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ae.Component=Ws;ae.Fragment=cx;ae.Profiler=fx;ae.PureComponent=cv;ae.StrictMode=dx;ae.Suspense=mx;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tx;ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=KT({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=fv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)XT.call(e,l)&&!JT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:nu,type:t.type,key:i,ref:o,props:r,_owner:s}};ae.createContext=function(t){return t={$$typeof:px,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hx,_context:t},t.Consumer=t};ae.createElement=ZT;ae.createFactory=function(t){var e=ZT.bind(null,t);return e.type=t,e};ae.createRef=function(){return{current:null}};ae.forwardRef=function(t){return{$$typeof:gx,render:t}};ae.isValidElement=hv;ae.lazy=function(t){return{$$typeof:yx,_payload:{_status:-1,_result:t},_init:Ix}};ae.memo=function(t,e){return{$$typeof:vx,type:t,compare:e===void 0?null:e}};ae.startTransition=function(t){var e=Ac.transition;Ac.transition={};try{t()}finally{Ac.transition=e}};ae.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ae.useCallback=function(t,e){return qt.current.useCallback(t,e)};ae.useContext=function(t){return qt.current.useContext(t)};ae.useDebugValue=function(){};ae.useDeferredValue=function(t){return qt.current.useDeferredValue(t)};ae.useEffect=function(t,e){return qt.current.useEffect(t,e)};ae.useId=function(){return qt.current.useId()};ae.useImperativeHandle=function(t,e,n){return qt.current.useImperativeHandle(t,e,n)};ae.useInsertionEffect=function(t,e){return qt.current.useInsertionEffect(t,e)};ae.useLayoutEffect=function(t,e){return qt.current.useLayoutEffect(t,e)};ae.useMemo=function(t,e){return qt.current.useMemo(t,e)};ae.useReducer=function(t,e,n){return qt.current.useReducer(t,e,n)};ae.useRef=function(t){return qt.current.useRef(t)};ae.useState=function(t){return qt.current.useState(t)};ae.useSyncExternalStore=function(t,e,n){return qt.current.useSyncExternalStore(t,e,n)};ae.useTransition=function(){return qt.current.useTransition()};ae.version="18.2.0";qT.exports=ae;var E=qT.exports;const ge=uv(E),Sx=lx({__proto__:null,default:ge},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bx=E,Rx=Symbol.for("react.element"),Ax=Symbol.for("react.fragment"),Cx=Object.prototype.hasOwnProperty,Px=bx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dx={key:!0,ref:!0,__self:!0,__source:!0};function eS(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Cx.call(e,r)&&!Dx.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Rx,type:t,key:o,ref:s,props:i,_owner:Px.current}}nf.Fragment=Ax;nf.jsx=eS;nf.jsxs=eS;HT.exports=nf;var A=HT.exports,mg={},tS={exports:{}},vn={},nS={exports:{}},rS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,z){var W=L.length;L.push(z);e:for(;0<W;){var ue=W-1>>>1,ie=L[ue];if(0<i(ie,z))L[ue]=z,L[W]=ie,W=ue;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var z=L[0],W=L.pop();if(W!==z){L[0]=W;e:for(var ue=0,ie=L.length,lt=ie>>>1;ue<lt;){var Ze=2*(ue+1)-1,Pt=L[Ze],Kt=Ze+1,Mn=L[Kt];if(0>i(Pt,W))Kt<ie&&0>i(Mn,Pt)?(L[ue]=Mn,L[Kt]=W,ue=Kt):(L[ue]=Pt,L[Ze]=W,ue=Ze);else if(Kt<ie&&0>i(Mn,W))L[ue]=Mn,L[Kt]=W,ue=Kt;else break e}}return z}function i(L,z){var W=L.sortIndex-z.sortIndex;return W!==0?W:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,f=3,h=!1,p=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(L){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=L)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function y(L){if(m=!1,_(L),!p)if(n(l)!==null)p=!0,Ke(I);else{var z=n(u);z!==null&&Ct(y,z.startTime-L)}}function I(L,z){p=!1,m&&(m=!1,g(C),C=-1),h=!0;var W=f;try{for(_(z),d=n(l);d!==null&&(!(d.expirationTime>z)||L&&!j());){var ue=d.callback;if(typeof ue=="function"){d.callback=null,f=d.priorityLevel;var ie=ue(d.expirationTime<=z);z=t.unstable_now(),typeof ie=="function"?d.callback=ie:d===n(l)&&r(l),_(z)}else r(l);d=n(l)}if(d!==null)var lt=!0;else{var Ze=n(u);Ze!==null&&Ct(y,Ze.startTime-z),lt=!1}return lt}finally{d=null,f=W,h=!1}}var S=!1,b=null,C=-1,O=5,N=-1;function j(){return!(t.unstable_now()-N<O)}function Ee(){if(b!==null){var L=t.unstable_now();N=L;var z=!0;try{z=b(!0,L)}finally{z?Le():(S=!1,b=null)}}else S=!1}var Le;if(typeof v=="function")Le=function(){v(Ee)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,le=ve.port2;ve.port1.onmessage=Ee,Le=function(){le.postMessage(null)}}else Le=function(){w(Ee,0)};function Ke(L){b=L,S||(S=!0,Le())}function Ct(L,z){C=w(function(){L(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,Ke(I))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var W=f;f=z;try{return L()}finally{f=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var W=f;f=L;try{return z()}finally{f=W}},t.unstable_scheduleCallback=function(L,z,W){var ue=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ue+W:ue):W=ue,L){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=W+ie,L={id:c++,callback:z,priorityLevel:L,startTime:W,expirationTime:ie,sortIndex:-1},W>ue?(L.sortIndex=W,e(u,L),n(l)===null&&L===n(u)&&(m?(g(C),C=-1):m=!0,Ct(y,W-ue))):(L.sortIndex=ie,e(l,L),p||h||(p=!0,Ke(I))),L},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(L){var z=f;return function(){var W=f;f=z;try{return L.apply(this,arguments)}finally{f=W}}}})(rS);nS.exports=rS;var xx=nS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iS=E,pn=xx;function k(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oS=new Set,ll={};function Co(t,e){Ss(t,e),Ss(t+"Capture",e)}function Ss(t,e){for(ll[t]=e,t=0;t<e.length;t++)oS.add(e[t])}var Rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vg=Object.prototype.hasOwnProperty,kx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kw={},Ow={};function Ox(t){return vg.call(Ow,t)?!0:vg.call(kw,t)?!1:kx.test(t)?Ow[t]=!0:(kw[t]=!0,!1)}function Nx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Mx(t,e,n,r){if(e===null||typeof e>"u"||Nx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Gt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var At={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){At[t]=new Gt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];At[e]=new Gt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){At[t]=new Gt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){At[t]=new Gt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){At[t]=new Gt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){At[t]=new Gt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){At[t]=new Gt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){At[t]=new Gt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){At[t]=new Gt(t,5,!1,t.toLowerCase(),null,!1,!1)});var pv=/[\-:]([a-z])/g;function gv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(pv,gv);At[e]=new Gt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(pv,gv);At[e]=new Gt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(pv,gv);At[e]=new Gt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){At[t]=new Gt(t,1,!1,t.toLowerCase(),null,!1,!1)});At.xlinkHref=new Gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){At[t]=new Gt(t,1,!1,t.toLowerCase(),null,!0,!0)});function mv(t,e,n,r){var i=At.hasOwnProperty(e)?At[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Mx(e,n,i,r)&&(n=null),r||i===null?Ox(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Mr=iS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ku=Symbol.for("react.element"),Qo=Symbol.for("react.portal"),Yo=Symbol.for("react.fragment"),vv=Symbol.for("react.strict_mode"),yg=Symbol.for("react.profiler"),sS=Symbol.for("react.provider"),aS=Symbol.for("react.context"),yv=Symbol.for("react.forward_ref"),_g=Symbol.for("react.suspense"),wg=Symbol.for("react.suspense_list"),_v=Symbol.for("react.memo"),zr=Symbol.for("react.lazy"),lS=Symbol.for("react.offscreen"),Nw=Symbol.iterator;function ca(t){return t===null||typeof t!="object"?null:(t=Nw&&t[Nw]||t["@@iterator"],typeof t=="function"?t:null)}var Ue=Object.assign,Gh;function Pa(t){if(Gh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Gh=e&&e[1]||""}return`
`+Gh+t}var Kh=!1;function Qh(t,e){if(!t||Kh)return"";Kh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Kh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Pa(t):""}function Lx(t){switch(t.tag){case 5:return Pa(t.type);case 16:return Pa("Lazy");case 13:return Pa("Suspense");case 19:return Pa("SuspenseList");case 0:case 2:case 15:return t=Qh(t.type,!1),t;case 11:return t=Qh(t.type.render,!1),t;case 1:return t=Qh(t.type,!0),t;default:return""}}function Eg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Yo:return"Fragment";case Qo:return"Portal";case yg:return"Profiler";case vv:return"StrictMode";case _g:return"Suspense";case wg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case aS:return(t.displayName||"Context")+".Consumer";case sS:return(t._context.displayName||"Context")+".Provider";case yv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _v:return e=t.displayName||null,e!==null?e:Eg(t.type)||"Memo";case zr:e=t._payload,t=t._init;try{return Eg(t(e))}catch{}}return null}function Vx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Eg(e);case 8:return e===vv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _i(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function uS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Fx(t){var e=uS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qu(t){t._valueTracker||(t._valueTracker=Fx(t))}function cS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=uS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Gc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ig(t,e){var n=e.checked;return Ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Mw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=_i(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dS(t,e){e=e.checked,e!=null&&mv(t,"checked",e,!1)}function Tg(t,e){dS(t,e);var n=_i(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Sg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Sg(t,e.type,_i(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Lw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Sg(t,e,n){(e!=="number"||Gc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Da=Array.isArray;function cs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+_i(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function bg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(k(91));return Ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(k(92));if(Da(n)){if(1<n.length)throw Error(k(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:_i(n)}}function fS(t,e){var n=_i(e.value),r=_i(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Fw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function hS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yu,pS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Yu=Yu||document.createElement("div"),Yu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Yu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ul(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ba={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$x=["Webkit","ms","Moz","O"];Object.keys(Ba).forEach(function(t){$x.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ba[e]=Ba[t]})});function gS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ba.hasOwnProperty(t)&&Ba[t]?(""+e).trim():e+"px"}function mS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=gS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Ux=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ag(t,e){if(e){if(Ux[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(k(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(k(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(k(61))}if(e.style!=null&&typeof e.style!="object")throw Error(k(62))}}function Cg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pg=null;function wv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dg=null,ds=null,fs=null;function $w(t){if(t=ou(t)){if(typeof Dg!="function")throw Error(k(280));var e=t.stateNode;e&&(e=lf(e),Dg(t.stateNode,t.type,e))}}function vS(t){ds?fs?fs.push(t):fs=[t]:ds=t}function yS(){if(ds){var t=ds,e=fs;if(fs=ds=null,$w(t),e)for(t=0;t<e.length;t++)$w(e[t])}}function _S(t,e){return t(e)}function wS(){}var Yh=!1;function ES(t,e,n){if(Yh)return t(e,n);Yh=!0;try{return _S(t,e,n)}finally{Yh=!1,(ds!==null||fs!==null)&&(wS(),yS())}}function cl(t,e){var n=t.stateNode;if(n===null)return null;var r=lf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(k(231,e,typeof n));return n}var xg=!1;if(Rr)try{var da={};Object.defineProperty(da,"passive",{get:function(){xg=!0}}),window.addEventListener("test",da,da),window.removeEventListener("test",da,da)}catch{xg=!1}function Bx(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ja=!1,Kc=null,Qc=!1,kg=null,jx={onError:function(t){ja=!0,Kc=t}};function zx(t,e,n,r,i,o,s,a,l){ja=!1,Kc=null,Bx.apply(jx,arguments)}function Wx(t,e,n,r,i,o,s,a,l){if(zx.apply(this,arguments),ja){if(ja){var u=Kc;ja=!1,Kc=null}else throw Error(k(198));Qc||(Qc=!0,kg=u)}}function Po(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function IS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Uw(t){if(Po(t)!==t)throw Error(k(188))}function Hx(t){var e=t.alternate;if(!e){if(e=Po(t),e===null)throw Error(k(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Uw(i),t;if(o===r)return Uw(i),e;o=o.sibling}throw Error(k(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(k(189))}}if(n.alternate!==r)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?t:e}function TS(t){return t=Hx(t),t!==null?SS(t):null}function SS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=SS(t);if(e!==null)return e;t=t.sibling}return null}var bS=pn.unstable_scheduleCallback,Bw=pn.unstable_cancelCallback,qx=pn.unstable_shouldYield,Gx=pn.unstable_requestPaint,Je=pn.unstable_now,Kx=pn.unstable_getCurrentPriorityLevel,Ev=pn.unstable_ImmediatePriority,RS=pn.unstable_UserBlockingPriority,Yc=pn.unstable_NormalPriority,Qx=pn.unstable_LowPriority,AS=pn.unstable_IdlePriority,rf=null,sr=null;function Yx(t){if(sr&&typeof sr.onCommitFiberRoot=="function")try{sr.onCommitFiberRoot(rf,t,void 0,(t.current.flags&128)===128)}catch{}}var Hn=Math.clz32?Math.clz32:Zx,Xx=Math.log,Jx=Math.LN2;function Zx(t){return t>>>=0,t===0?32:31-(Xx(t)/Jx|0)|0}var Xu=64,Ju=4194304;function xa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=xa(a):(o&=s,o!==0&&(r=xa(o)))}else s=n&~i,s!==0?r=xa(s):o!==0&&(r=xa(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Hn(e),i=1<<n,r|=t[n],e&=~i;return r}function ek(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Hn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=ek(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Og(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function CS(){var t=Xu;return Xu<<=1,!(Xu&4194240)&&(Xu=64),t}function Xh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ru(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Hn(e),t[e]=n}function nk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Hn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Iv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Hn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ye=0;function PS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var DS,Tv,xS,kS,OS,Ng=!1,Zu=[],ni=null,ri=null,ii=null,dl=new Map,fl=new Map,Hr=[],rk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jw(t,e){switch(t){case"focusin":case"focusout":ni=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":dl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(e.pointerId)}}function fa(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ou(e),e!==null&&Tv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ik(t,e,n,r,i){switch(e){case"focusin":return ni=fa(ni,t,e,n,r,i),!0;case"dragenter":return ri=fa(ri,t,e,n,r,i),!0;case"mouseover":return ii=fa(ii,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return dl.set(o,fa(dl.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,fl.set(o,fa(fl.get(o)||null,t,e,n,r,i)),!0}return!1}function NS(t){var e=Gi(t.target);if(e!==null){var n=Po(e);if(n!==null){if(e=n.tag,e===13){if(e=IS(n),e!==null){t.blockedOn=e,OS(t.priority,function(){xS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Mg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Pg=r,n.target.dispatchEvent(r),Pg=null}else return e=ou(n),e!==null&&Tv(e),t.blockedOn=n,!1;e.shift()}return!0}function zw(t,e,n){Cc(t)&&n.delete(e)}function ok(){Ng=!1,ni!==null&&Cc(ni)&&(ni=null),ri!==null&&Cc(ri)&&(ri=null),ii!==null&&Cc(ii)&&(ii=null),dl.forEach(zw),fl.forEach(zw)}function ha(t,e){t.blockedOn===e&&(t.blockedOn=null,Ng||(Ng=!0,pn.unstable_scheduleCallback(pn.unstable_NormalPriority,ok)))}function hl(t){function e(i){return ha(i,t)}if(0<Zu.length){ha(Zu[0],t);for(var n=1;n<Zu.length;n++){var r=Zu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ni!==null&&ha(ni,t),ri!==null&&ha(ri,t),ii!==null&&ha(ii,t),dl.forEach(e),fl.forEach(e),n=0;n<Hr.length;n++)r=Hr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Hr.length&&(n=Hr[0],n.blockedOn===null);)NS(n),n.blockedOn===null&&Hr.shift()}var hs=Mr.ReactCurrentBatchConfig,Jc=!0;function sk(t,e,n,r){var i=ye,o=hs.transition;hs.transition=null;try{ye=1,Sv(t,e,n,r)}finally{ye=i,hs.transition=o}}function ak(t,e,n,r){var i=ye,o=hs.transition;hs.transition=null;try{ye=4,Sv(t,e,n,r)}finally{ye=i,hs.transition=o}}function Sv(t,e,n,r){if(Jc){var i=Mg(t,e,n,r);if(i===null)ap(t,e,r,Zc,n),jw(t,r);else if(ik(i,t,e,n,r))r.stopPropagation();else if(jw(t,r),e&4&&-1<rk.indexOf(t)){for(;i!==null;){var o=ou(i);if(o!==null&&DS(o),o=Mg(t,e,n,r),o===null&&ap(t,e,r,Zc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else ap(t,e,r,null,n)}}var Zc=null;function Mg(t,e,n,r){if(Zc=null,t=wv(r),t=Gi(t),t!==null)if(e=Po(t),e===null)t=null;else if(n=e.tag,n===13){if(t=IS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zc=t,null}function MS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kx()){case Ev:return 1;case RS:return 4;case Yc:case Qx:return 16;case AS:return 536870912;default:return 16}default:return 16}}var Zr=null,bv=null,Pc=null;function LS(){if(Pc)return Pc;var t,e=bv,n=e.length,r,i="value"in Zr?Zr.value:Zr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Pc=i.slice(t,1<r?1-r:void 0)}function Dc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ec(){return!0}function Ww(){return!1}function yn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ec:Ww,this.isPropagationStopped=Ww,this}return Ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ec)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ec)},persist:function(){},isPersistent:ec}),e}var Hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rv=yn(Hs),iu=Ue({},Hs,{view:0,detail:0}),lk=yn(iu),Jh,Zh,pa,of=Ue({},iu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Av,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pa&&(pa&&t.type==="mousemove"?(Jh=t.screenX-pa.screenX,Zh=t.screenY-pa.screenY):Zh=Jh=0,pa=t),Jh)},movementY:function(t){return"movementY"in t?t.movementY:Zh}}),Hw=yn(of),uk=Ue({},of,{dataTransfer:0}),ck=yn(uk),dk=Ue({},iu,{relatedTarget:0}),ep=yn(dk),fk=Ue({},Hs,{animationName:0,elapsedTime:0,pseudoElement:0}),hk=yn(fk),pk=Ue({},Hs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gk=yn(pk),mk=Ue({},Hs,{data:0}),qw=yn(mk),vk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_k={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_k[t])?!!e[t]:!1}function Av(){return wk}var Ek=Ue({},iu,{key:function(t){if(t.key){var e=vk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Dc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Av,charCode:function(t){return t.type==="keypress"?Dc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Dc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ik=yn(Ek),Tk=Ue({},of,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gw=yn(Tk),Sk=Ue({},iu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Av}),bk=yn(Sk),Rk=Ue({},Hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ak=yn(Rk),Ck=Ue({},of,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Pk=yn(Ck),Dk=[9,13,27,32],Cv=Rr&&"CompositionEvent"in window,za=null;Rr&&"documentMode"in document&&(za=document.documentMode);var xk=Rr&&"TextEvent"in window&&!za,VS=Rr&&(!Cv||za&&8<za&&11>=za),Kw=String.fromCharCode(32),Qw=!1;function FS(t,e){switch(t){case"keyup":return Dk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $S(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xo=!1;function kk(t,e){switch(t){case"compositionend":return $S(e);case"keypress":return e.which!==32?null:(Qw=!0,Kw);case"textInput":return t=e.data,t===Kw&&Qw?null:t;default:return null}}function Ok(t,e){if(Xo)return t==="compositionend"||!Cv&&FS(t,e)?(t=LS(),Pc=bv=Zr=null,Xo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return VS&&e.locale!=="ko"?null:e.data;default:return null}}var Nk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Nk[t.type]:e==="textarea"}function US(t,e,n,r){vS(r),e=ed(e,"onChange"),0<e.length&&(n=new Rv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Wa=null,pl=null;function Mk(t){XS(t,0)}function sf(t){var e=es(t);if(cS(e))return t}function Lk(t,e){if(t==="change")return e}var BS=!1;if(Rr){var tp;if(Rr){var np="oninput"in document;if(!np){var Xw=document.createElement("div");Xw.setAttribute("oninput","return;"),np=typeof Xw.oninput=="function"}tp=np}else tp=!1;BS=tp&&(!document.documentMode||9<document.documentMode)}function Jw(){Wa&&(Wa.detachEvent("onpropertychange",jS),pl=Wa=null)}function jS(t){if(t.propertyName==="value"&&sf(pl)){var e=[];US(e,pl,t,wv(t)),ES(Mk,e)}}function Vk(t,e,n){t==="focusin"?(Jw(),Wa=e,pl=n,Wa.attachEvent("onpropertychange",jS)):t==="focusout"&&Jw()}function Fk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sf(pl)}function $k(t,e){if(t==="click")return sf(e)}function Uk(t,e){if(t==="input"||t==="change")return sf(e)}function Bk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gn=typeof Object.is=="function"?Object.is:Bk;function gl(t,e){if(Gn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!vg.call(e,i)||!Gn(t[i],e[i]))return!1}return!0}function Zw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function e0(t,e){var n=Zw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zw(n)}}function zS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function WS(){for(var t=window,e=Gc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Gc(t.document)}return e}function Pv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function jk(t){var e=WS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&zS(n.ownerDocument.documentElement,n)){if(r!==null&&Pv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=e0(n,o);var s=e0(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zk=Rr&&"documentMode"in document&&11>=document.documentMode,Jo=null,Lg=null,Ha=null,Vg=!1;function t0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vg||Jo==null||Jo!==Gc(r)||(r=Jo,"selectionStart"in r&&Pv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ha&&gl(Ha,r)||(Ha=r,r=ed(Lg,"onSelect"),0<r.length&&(e=new Rv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Jo)))}function tc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zo={animationend:tc("Animation","AnimationEnd"),animationiteration:tc("Animation","AnimationIteration"),animationstart:tc("Animation","AnimationStart"),transitionend:tc("Transition","TransitionEnd")},rp={},HS={};Rr&&(HS=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function af(t){if(rp[t])return rp[t];if(!Zo[t])return t;var e=Zo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in HS)return rp[t]=e[n];return t}var qS=af("animationend"),GS=af("animationiteration"),KS=af("animationstart"),QS=af("transitionend"),YS=new Map,n0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ai(t,e){YS.set(t,e),Co(e,[t])}for(var ip=0;ip<n0.length;ip++){var op=n0[ip],Wk=op.toLowerCase(),Hk=op[0].toUpperCase()+op.slice(1);Ai(Wk,"on"+Hk)}Ai(qS,"onAnimationEnd");Ai(GS,"onAnimationIteration");Ai(KS,"onAnimationStart");Ai("dblclick","onDoubleClick");Ai("focusin","onFocus");Ai("focusout","onBlur");Ai(QS,"onTransitionEnd");Ss("onMouseEnter",["mouseout","mouseover"]);Ss("onMouseLeave",["mouseout","mouseover"]);Ss("onPointerEnter",["pointerout","pointerover"]);Ss("onPointerLeave",["pointerout","pointerover"]);Co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Co("onBeforeInput",["compositionend","keypress","textInput","paste"]);Co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qk=new Set("cancel close invalid load scroll toggle".split(" ").concat(ka));function r0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Wx(r,e,void 0,t),t.currentTarget=null}function XS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;r0(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;r0(i,a,u),o=l}}}if(Qc)throw t=kg,Qc=!1,kg=null,t}function Ce(t,e){var n=e[jg];n===void 0&&(n=e[jg]=new Set);var r=t+"__bubble";n.has(r)||(JS(e,t,2,!1),n.add(r))}function sp(t,e,n){var r=0;e&&(r|=4),JS(n,t,r,e)}var nc="_reactListening"+Math.random().toString(36).slice(2);function ml(t){if(!t[nc]){t[nc]=!0,oS.forEach(function(n){n!=="selectionchange"&&(qk.has(n)||sp(n,!1,t),sp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[nc]||(e[nc]=!0,sp("selectionchange",!1,e))}}function JS(t,e,n,r){switch(MS(e)){case 1:var i=sk;break;case 4:i=ak;break;default:i=Sv}n=i.bind(null,e,n,t),i=void 0,!xg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ap(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Gi(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}ES(function(){var u=o,c=wv(n),d=[];e:{var f=YS.get(t);if(f!==void 0){var h=Rv,p=t;switch(t){case"keypress":if(Dc(n)===0)break e;case"keydown":case"keyup":h=Ik;break;case"focusin":p="focus",h=ep;break;case"focusout":p="blur",h=ep;break;case"beforeblur":case"afterblur":h=ep;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Hw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=ck;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=bk;break;case qS:case GS:case KS:h=hk;break;case QS:h=Ak;break;case"scroll":h=lk;break;case"wheel":h=Pk;break;case"copy":case"cut":case"paste":h=gk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Gw}var m=(e&4)!==0,w=!m&&t==="scroll",g=m?f!==null?f+"Capture":null:f;m=[];for(var v=u,_;v!==null;){_=v;var y=_.stateNode;if(_.tag===5&&y!==null&&(_=y,g!==null&&(y=cl(v,g),y!=null&&m.push(vl(v,y,_)))),w)break;v=v.return}0<m.length&&(f=new h(f,p,null,n,c),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==Pg&&(p=n.relatedTarget||n.fromElement)&&(Gi(p)||p[Ar]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?Gi(p):null,p!==null&&(w=Po(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(m=Hw,y="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=Gw,y="onPointerLeave",g="onPointerEnter",v="pointer"),w=h==null?f:es(h),_=p==null?f:es(p),f=new m(y,v+"leave",h,n,c),f.target=w,f.relatedTarget=_,y=null,Gi(c)===u&&(m=new m(g,v+"enter",p,n,c),m.target=_,m.relatedTarget=w,y=m),w=y,h&&p)t:{for(m=h,g=p,v=0,_=m;_;_=jo(_))v++;for(_=0,y=g;y;y=jo(y))_++;for(;0<v-_;)m=jo(m),v--;for(;0<_-v;)g=jo(g),_--;for(;v--;){if(m===g||g!==null&&m===g.alternate)break t;m=jo(m),g=jo(g)}m=null}else m=null;h!==null&&i0(d,f,h,m,!1),p!==null&&w!==null&&i0(d,w,p,m,!0)}}e:{if(f=u?es(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var I=Lk;else if(Yw(f))if(BS)I=Uk;else{I=Fk;var S=Vk}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(I=$k);if(I&&(I=I(t,u))){US(d,I,n,c);break e}S&&S(t,f,u),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Sg(f,"number",f.value)}switch(S=u?es(u):window,t){case"focusin":(Yw(S)||S.contentEditable==="true")&&(Jo=S,Lg=u,Ha=null);break;case"focusout":Ha=Lg=Jo=null;break;case"mousedown":Vg=!0;break;case"contextmenu":case"mouseup":case"dragend":Vg=!1,t0(d,n,c);break;case"selectionchange":if(zk)break;case"keydown":case"keyup":t0(d,n,c)}var b;if(Cv)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Xo?FS(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(VS&&n.locale!=="ko"&&(Xo||C!=="onCompositionStart"?C==="onCompositionEnd"&&Xo&&(b=LS()):(Zr=c,bv="value"in Zr?Zr.value:Zr.textContent,Xo=!0)),S=ed(u,C),0<S.length&&(C=new qw(C,t,null,n,c),d.push({event:C,listeners:S}),b?C.data=b:(b=$S(n),b!==null&&(C.data=b)))),(b=xk?kk(t,n):Ok(t,n))&&(u=ed(u,"onBeforeInput"),0<u.length&&(c=new qw("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=b))}XS(d,e)})}function vl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ed(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=cl(t,n),o!=null&&r.unshift(vl(t,o,i)),o=cl(t,e),o!=null&&r.push(vl(t,o,i))),t=t.return}return r}function jo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function i0(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=cl(n,o),l!=null&&s.unshift(vl(n,l,a))):i||(l=cl(n,o),l!=null&&s.push(vl(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var Gk=/\r\n?/g,Kk=/\u0000|\uFFFD/g;function o0(t){return(typeof t=="string"?t:""+t).replace(Gk,`
`).replace(Kk,"")}function rc(t,e,n){if(e=o0(e),o0(t)!==e&&n)throw Error(k(425))}function td(){}var Fg=null,$g=null;function Ug(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Bg=typeof setTimeout=="function"?setTimeout:void 0,Qk=typeof clearTimeout=="function"?clearTimeout:void 0,s0=typeof Promise=="function"?Promise:void 0,Yk=typeof queueMicrotask=="function"?queueMicrotask:typeof s0<"u"?function(t){return s0.resolve(null).then(t).catch(Xk)}:Bg;function Xk(t){setTimeout(function(){throw t})}function lp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),hl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);hl(e)}function oi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function a0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qs=Math.random().toString(36).slice(2),tr="__reactFiber$"+qs,yl="__reactProps$"+qs,Ar="__reactContainer$"+qs,jg="__reactEvents$"+qs,Jk="__reactListeners$"+qs,Zk="__reactHandles$"+qs;function Gi(t){var e=t[tr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ar]||n[tr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=a0(t);t!==null;){if(n=t[tr])return n;t=a0(t)}return e}t=n,n=t.parentNode}return null}function ou(t){return t=t[tr]||t[Ar],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function es(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(k(33))}function lf(t){return t[yl]||null}var zg=[],ts=-1;function Ci(t){return{current:t}}function xe(t){0>ts||(t.current=zg[ts],zg[ts]=null,ts--)}function Ae(t,e){ts++,zg[ts]=t.current,t.current=e}var wi={},Ft=Ci(wi),Jt=Ci(!1),lo=wi;function bs(t,e){var n=t.type.contextTypes;if(!n)return wi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Zt(t){return t=t.childContextTypes,t!=null}function nd(){xe(Jt),xe(Ft)}function l0(t,e,n){if(Ft.current!==wi)throw Error(k(168));Ae(Ft,e),Ae(Jt,n)}function ZS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(k(108,Vx(t)||"Unknown",i));return Ue({},n,r)}function rd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wi,lo=Ft.current,Ae(Ft,t),Ae(Jt,Jt.current),!0}function u0(t,e,n){var r=t.stateNode;if(!r)throw Error(k(169));n?(t=ZS(t,e,lo),r.__reactInternalMemoizedMergedChildContext=t,xe(Jt),xe(Ft),Ae(Ft,t)):xe(Jt),Ae(Jt,n)}var yr=null,uf=!1,up=!1;function eb(t){yr===null?yr=[t]:yr.push(t)}function eO(t){uf=!0,eb(t)}function Pi(){if(!up&&yr!==null){up=!0;var t=0,e=ye;try{var n=yr;for(ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}yr=null,uf=!1}catch(i){throw yr!==null&&(yr=yr.slice(t+1)),bS(Ev,Pi),i}finally{ye=e,up=!1}}return null}var ns=[],rs=0,id=null,od=0,Tn=[],Sn=0,uo=null,_r=1,wr="";function ji(t,e){ns[rs++]=od,ns[rs++]=id,id=t,od=e}function tb(t,e,n){Tn[Sn++]=_r,Tn[Sn++]=wr,Tn[Sn++]=uo,uo=t;var r=_r;t=wr;var i=32-Hn(r)-1;r&=~(1<<i),n+=1;var o=32-Hn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,_r=1<<32-Hn(e)+i|n<<i|r,wr=o+t}else _r=1<<o|n<<i|r,wr=t}function Dv(t){t.return!==null&&(ji(t,1),tb(t,1,0))}function xv(t){for(;t===id;)id=ns[--rs],ns[rs]=null,od=ns[--rs],ns[rs]=null;for(;t===uo;)uo=Tn[--Sn],Tn[Sn]=null,wr=Tn[--Sn],Tn[Sn]=null,_r=Tn[--Sn],Tn[Sn]=null}var cn=null,sn=null,Me=!1,jn=null;function nb(t,e){var n=Rn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function c0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,cn=t,sn=oi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,cn=t,sn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=uo!==null?{id:_r,overflow:wr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Rn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,cn=t,sn=null,!0):!1;default:return!1}}function Wg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Hg(t){if(Me){var e=sn;if(e){var n=e;if(!c0(t,e)){if(Wg(t))throw Error(k(418));e=oi(n.nextSibling);var r=cn;e&&c0(t,e)?nb(r,n):(t.flags=t.flags&-4097|2,Me=!1,cn=t)}}else{if(Wg(t))throw Error(k(418));t.flags=t.flags&-4097|2,Me=!1,cn=t}}}function d0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;cn=t}function ic(t){if(t!==cn)return!1;if(!Me)return d0(t),Me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ug(t.type,t.memoizedProps)),e&&(e=sn)){if(Wg(t))throw rb(),Error(k(418));for(;e;)nb(t,e),e=oi(e.nextSibling)}if(d0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(k(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){sn=oi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}sn=null}}else sn=cn?oi(t.stateNode.nextSibling):null;return!0}function rb(){for(var t=sn;t;)t=oi(t.nextSibling)}function Rs(){sn=cn=null,Me=!1}function kv(t){jn===null?jn=[t]:jn.push(t)}var tO=Mr.ReactCurrentBatchConfig;function $n(t,e){if(t&&t.defaultProps){e=Ue({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var sd=Ci(null),ad=null,is=null,Ov=null;function Nv(){Ov=is=ad=null}function Mv(t){var e=sd.current;xe(sd),t._currentValue=e}function qg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ps(t,e){ad=t,Ov=is=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Xt=!0),t.firstContext=null)}function Dn(t){var e=t._currentValue;if(Ov!==t)if(t={context:t,memoizedValue:e,next:null},is===null){if(ad===null)throw Error(k(308));is=t,ad.dependencies={lanes:0,firstContext:t}}else is=is.next=t;return e}var Ki=null;function Lv(t){Ki===null?Ki=[t]:Ki.push(t)}function ib(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Lv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Cr(t,r)}function Cr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Wr=!1;function Vv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ob(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function si(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Cr(t,n)}return i=r.interleaved,i===null?(e.next=e,Lv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Cr(t,n)}function xc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Iv(t,n)}}function f0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ld(t,e,n,r){var i=t.updateQueue;Wr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,c=u=l=null,a=o;do{var f=a.lane,h=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(f=e,h=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=Ue({},d,f);break e;case 2:Wr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);fo|=s,t.lanes=s,t.memoizedState=d}}function h0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(k(191,i));i.call(r)}}}var sb=new iS.Component().refs;function Gg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ue({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var cf={isMounted:function(t){return(t=t._reactInternals)?Po(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ht(),i=li(t),o=Sr(r,i);o.payload=e,n!=null&&(o.callback=n),e=si(t,o,i),e!==null&&(qn(e,t,i,r),xc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ht(),i=li(t),o=Sr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=si(t,o,i),e!==null&&(qn(e,t,i,r),xc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ht(),r=li(t),i=Sr(n,r);i.tag=2,e!=null&&(i.callback=e),e=si(t,i,r),e!==null&&(qn(e,t,r,n),xc(e,t,r))}};function p0(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!gl(n,r)||!gl(i,o):!0}function ab(t,e,n){var r=!1,i=wi,o=e.contextType;return typeof o=="object"&&o!==null?o=Dn(o):(i=Zt(e)?lo:Ft.current,r=e.contextTypes,o=(r=r!=null)?bs(t,i):wi),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=cf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function g0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&cf.enqueueReplaceState(e,e.state,null)}function Kg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=sb,Vv(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Dn(o):(o=Zt(e)?lo:Ft.current,i.context=bs(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Gg(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&cf.enqueueReplaceState(i,i.state,null),ld(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ga(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var r=n.stateNode}if(!r)throw Error(k(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===sb&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,t))}return t}function oc(t,e){throw t=Object.prototype.toString.call(e),Error(k(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function m0(t){var e=t._init;return e(t._payload)}function lb(t){function e(g,v){if(t){var _=g.deletions;_===null?(g.deletions=[v],g.flags|=16):_.push(v)}}function n(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=ui(g,v),g.index=0,g.sibling=null,g}function o(g,v,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<v?(g.flags|=2,v):_):(g.flags|=2,v)):(g.flags|=1048576,v)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,v,_,y){return v===null||v.tag!==6?(v=mp(_,g.mode,y),v.return=g,v):(v=i(v,_),v.return=g,v)}function l(g,v,_,y){var I=_.type;return I===Yo?c(g,v,_.props.children,y,_.key):v!==null&&(v.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===zr&&m0(I)===v.type)?(y=i(v,_.props),y.ref=ga(g,v,_),y.return=g,y):(y=Vc(_.type,_.key,_.props,null,g.mode,y),y.ref=ga(g,v,_),y.return=g,y)}function u(g,v,_,y){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=vp(_,g.mode,y),v.return=g,v):(v=i(v,_.children||[]),v.return=g,v)}function c(g,v,_,y,I){return v===null||v.tag!==7?(v=no(_,g.mode,y,I),v.return=g,v):(v=i(v,_),v.return=g,v)}function d(g,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=mp(""+v,g.mode,_),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ku:return _=Vc(v.type,v.key,v.props,null,g.mode,_),_.ref=ga(g,null,v),_.return=g,_;case Qo:return v=vp(v,g.mode,_),v.return=g,v;case zr:var y=v._init;return d(g,y(v._payload),_)}if(Da(v)||ca(v))return v=no(v,g.mode,_,null),v.return=g,v;oc(g,v)}return null}function f(g,v,_,y){var I=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return I!==null?null:a(g,v,""+_,y);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ku:return _.key===I?l(g,v,_,y):null;case Qo:return _.key===I?u(g,v,_,y):null;case zr:return I=_._init,f(g,v,I(_._payload),y)}if(Da(_)||ca(_))return I!==null?null:c(g,v,_,y,null);oc(g,_)}return null}function h(g,v,_,y,I){if(typeof y=="string"&&y!==""||typeof y=="number")return g=g.get(_)||null,a(v,g,""+y,I);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ku:return g=g.get(y.key===null?_:y.key)||null,l(v,g,y,I);case Qo:return g=g.get(y.key===null?_:y.key)||null,u(v,g,y,I);case zr:var S=y._init;return h(g,v,_,S(y._payload),I)}if(Da(y)||ca(y))return g=g.get(_)||null,c(v,g,y,I,null);oc(v,y)}return null}function p(g,v,_,y){for(var I=null,S=null,b=v,C=v=0,O=null;b!==null&&C<_.length;C++){b.index>C?(O=b,b=null):O=b.sibling;var N=f(g,b,_[C],y);if(N===null){b===null&&(b=O);break}t&&b&&N.alternate===null&&e(g,b),v=o(N,v,C),S===null?I=N:S.sibling=N,S=N,b=O}if(C===_.length)return n(g,b),Me&&ji(g,C),I;if(b===null){for(;C<_.length;C++)b=d(g,_[C],y),b!==null&&(v=o(b,v,C),S===null?I=b:S.sibling=b,S=b);return Me&&ji(g,C),I}for(b=r(g,b);C<_.length;C++)O=h(b,g,C,_[C],y),O!==null&&(t&&O.alternate!==null&&b.delete(O.key===null?C:O.key),v=o(O,v,C),S===null?I=O:S.sibling=O,S=O);return t&&b.forEach(function(j){return e(g,j)}),Me&&ji(g,C),I}function m(g,v,_,y){var I=ca(_);if(typeof I!="function")throw Error(k(150));if(_=I.call(_),_==null)throw Error(k(151));for(var S=I=null,b=v,C=v=0,O=null,N=_.next();b!==null&&!N.done;C++,N=_.next()){b.index>C?(O=b,b=null):O=b.sibling;var j=f(g,b,N.value,y);if(j===null){b===null&&(b=O);break}t&&b&&j.alternate===null&&e(g,b),v=o(j,v,C),S===null?I=j:S.sibling=j,S=j,b=O}if(N.done)return n(g,b),Me&&ji(g,C),I;if(b===null){for(;!N.done;C++,N=_.next())N=d(g,N.value,y),N!==null&&(v=o(N,v,C),S===null?I=N:S.sibling=N,S=N);return Me&&ji(g,C),I}for(b=r(g,b);!N.done;C++,N=_.next())N=h(b,g,C,N.value,y),N!==null&&(t&&N.alternate!==null&&b.delete(N.key===null?C:N.key),v=o(N,v,C),S===null?I=N:S.sibling=N,S=N);return t&&b.forEach(function(Ee){return e(g,Ee)}),Me&&ji(g,C),I}function w(g,v,_,y){if(typeof _=="object"&&_!==null&&_.type===Yo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ku:e:{for(var I=_.key,S=v;S!==null;){if(S.key===I){if(I=_.type,I===Yo){if(S.tag===7){n(g,S.sibling),v=i(S,_.props.children),v.return=g,g=v;break e}}else if(S.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===zr&&m0(I)===S.type){n(g,S.sibling),v=i(S,_.props),v.ref=ga(g,S,_),v.return=g,g=v;break e}n(g,S);break}else e(g,S);S=S.sibling}_.type===Yo?(v=no(_.props.children,g.mode,y,_.key),v.return=g,g=v):(y=Vc(_.type,_.key,_.props,null,g.mode,y),y.ref=ga(g,v,_),y.return=g,g=y)}return s(g);case Qo:e:{for(S=_.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(g,v.sibling),v=i(v,_.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else e(g,v);v=v.sibling}v=vp(_,g.mode,y),v.return=g,g=v}return s(g);case zr:return S=_._init,w(g,v,S(_._payload),y)}if(Da(_))return p(g,v,_,y);if(ca(_))return m(g,v,_,y);oc(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(n(g,v.sibling),v=i(v,_),v.return=g,g=v):(n(g,v),v=mp(_,g.mode,y),v.return=g,g=v),s(g)):n(g,v)}return w}var As=lb(!0),ub=lb(!1),su={},ar=Ci(su),_l=Ci(su),wl=Ci(su);function Qi(t){if(t===su)throw Error(k(174));return t}function Fv(t,e){switch(Ae(wl,e),Ae(_l,t),Ae(ar,su),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Rg(e,t)}xe(ar),Ae(ar,e)}function Cs(){xe(ar),xe(_l),xe(wl)}function cb(t){Qi(wl.current);var e=Qi(ar.current),n=Rg(e,t.type);e!==n&&(Ae(_l,t),Ae(ar,n))}function $v(t){_l.current===t&&(xe(ar),xe(_l))}var Fe=Ci(0);function ud(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cp=[];function Uv(){for(var t=0;t<cp.length;t++)cp[t]._workInProgressVersionPrimary=null;cp.length=0}var kc=Mr.ReactCurrentDispatcher,dp=Mr.ReactCurrentBatchConfig,co=0,$e=null,ot=null,ct=null,cd=!1,qa=!1,El=0,nO=0;function Dt(){throw Error(k(321))}function Bv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gn(t[n],e[n]))return!1;return!0}function jv(t,e,n,r,i,o){if(co=o,$e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,kc.current=t===null||t.memoizedState===null?sO:aO,t=n(r,i),qa){o=0;do{if(qa=!1,El=0,25<=o)throw Error(k(301));o+=1,ct=ot=null,e.updateQueue=null,kc.current=lO,t=n(r,i)}while(qa)}if(kc.current=dd,e=ot!==null&&ot.next!==null,co=0,ct=ot=$e=null,cd=!1,e)throw Error(k(300));return t}function zv(){var t=El!==0;return El=0,t}function er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?$e.memoizedState=ct=t:ct=ct.next=t,ct}function xn(){if(ot===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var e=ct===null?$e.memoizedState:ct.next;if(e!==null)ct=e,ot=t;else{if(t===null)throw Error(k(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},ct===null?$e.memoizedState=ct=t:ct=ct.next=t}return ct}function Il(t,e){return typeof e=="function"?e(t):e}function fp(t){var e=xn(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var r=ot,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((co&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,$e.lanes|=c,fo|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Gn(r,e.memoizedState)||(Xt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,$e.lanes|=o,fo|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function hp(t){var e=xn(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Gn(o,e.memoizedState)||(Xt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function db(){}function fb(t,e){var n=$e,r=xn(),i=e(),o=!Gn(r.memoizedState,i);if(o&&(r.memoizedState=i,Xt=!0),r=r.queue,Wv(gb.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||ct!==null&&ct.memoizedState.tag&1){if(n.flags|=2048,Tl(9,pb.bind(null,n,r,i,e),void 0,null),dt===null)throw Error(k(349));co&30||hb(n,e,i)}return i}function hb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function pb(t,e,n,r){e.value=n,e.getSnapshot=r,mb(e)&&vb(t)}function gb(t,e,n){return n(function(){mb(e)&&vb(t)})}function mb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gn(t,n)}catch{return!0}}function vb(t){var e=Cr(t,1);e!==null&&qn(e,t,1,-1)}function v0(t){var e=er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:t},e.queue=t,t=t.dispatch=oO.bind(null,$e,t),[e.memoizedState,t]}function Tl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function yb(){return xn().memoizedState}function Oc(t,e,n,r){var i=er();$e.flags|=t,i.memoizedState=Tl(1|e,n,void 0,r===void 0?null:r)}function df(t,e,n,r){var i=xn();r=r===void 0?null:r;var o=void 0;if(ot!==null){var s=ot.memoizedState;if(o=s.destroy,r!==null&&Bv(r,s.deps)){i.memoizedState=Tl(e,n,o,r);return}}$e.flags|=t,i.memoizedState=Tl(1|e,n,o,r)}function y0(t,e){return Oc(8390656,8,t,e)}function Wv(t,e){return df(2048,8,t,e)}function _b(t,e){return df(4,2,t,e)}function wb(t,e){return df(4,4,t,e)}function Eb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ib(t,e,n){return n=n!=null?n.concat([t]):null,df(4,4,Eb.bind(null,e,t),n)}function Hv(){}function Tb(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Sb(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function bb(t,e,n){return co&21?(Gn(n,e)||(n=CS(),$e.lanes|=n,fo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Xt=!0),t.memoizedState=n)}function rO(t,e){var n=ye;ye=n!==0&&4>n?n:4,t(!0);var r=dp.transition;dp.transition={};try{t(!1),e()}finally{ye=n,dp.transition=r}}function Rb(){return xn().memoizedState}function iO(t,e,n){var r=li(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ab(t))Cb(e,n);else if(n=ib(t,e,n,r),n!==null){var i=Ht();qn(n,t,r,i),Pb(n,e,r)}}function oO(t,e,n){var r=li(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ab(t))Cb(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Gn(a,s)){var l=e.interleaved;l===null?(i.next=i,Lv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=ib(t,e,i,r),n!==null&&(i=Ht(),qn(n,t,r,i),Pb(n,e,r))}}function Ab(t){var e=t.alternate;return t===$e||e!==null&&e===$e}function Cb(t,e){qa=cd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Pb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Iv(t,n)}}var dd={readContext:Dn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},sO={readContext:Dn,useCallback:function(t,e){return er().memoizedState=[t,e===void 0?null:e],t},useContext:Dn,useEffect:y0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Oc(4194308,4,Eb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Oc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Oc(4,2,t,e)},useMemo:function(t,e){var n=er();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=er();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=iO.bind(null,$e,t),[r.memoizedState,t]},useRef:function(t){var e=er();return t={current:t},e.memoizedState=t},useState:v0,useDebugValue:Hv,useDeferredValue:function(t){return er().memoizedState=t},useTransition:function(){var t=v0(!1),e=t[0];return t=rO.bind(null,t[1]),er().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$e,i=er();if(Me){if(n===void 0)throw Error(k(407));n=n()}else{if(n=e(),dt===null)throw Error(k(349));co&30||hb(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,y0(gb.bind(null,r,o,t),[t]),r.flags|=2048,Tl(9,pb.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=er(),e=dt.identifierPrefix;if(Me){var n=wr,r=_r;n=(r&~(1<<32-Hn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=El++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=nO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},aO={readContext:Dn,useCallback:Tb,useContext:Dn,useEffect:Wv,useImperativeHandle:Ib,useInsertionEffect:_b,useLayoutEffect:wb,useMemo:Sb,useReducer:fp,useRef:yb,useState:function(){return fp(Il)},useDebugValue:Hv,useDeferredValue:function(t){var e=xn();return bb(e,ot.memoizedState,t)},useTransition:function(){var t=fp(Il)[0],e=xn().memoizedState;return[t,e]},useMutableSource:db,useSyncExternalStore:fb,useId:Rb,unstable_isNewReconciler:!1},lO={readContext:Dn,useCallback:Tb,useContext:Dn,useEffect:Wv,useImperativeHandle:Ib,useInsertionEffect:_b,useLayoutEffect:wb,useMemo:Sb,useReducer:hp,useRef:yb,useState:function(){return hp(Il)},useDebugValue:Hv,useDeferredValue:function(t){var e=xn();return ot===null?e.memoizedState=t:bb(e,ot.memoizedState,t)},useTransition:function(){var t=hp(Il)[0],e=xn().memoizedState;return[t,e]},useMutableSource:db,useSyncExternalStore:fb,useId:Rb,unstable_isNewReconciler:!1};function Ps(t,e){try{var n="",r=e;do n+=Lx(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function pp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Qg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var uO=typeof WeakMap=="function"?WeakMap:Map;function Db(t,e,n){n=Sr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hd||(hd=!0,om=r),Qg(t,e)},n}function xb(t,e,n){n=Sr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Qg(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Qg(t,e),typeof r!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function _0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new uO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=TO.bind(null,t,e,n),e.then(t,t))}function w0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function E0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Sr(-1,1),e.tag=2,si(n,e,1))),n.lanes|=1),t)}var cO=Mr.ReactCurrentOwner,Xt=!1;function zt(t,e,n,r){e.child=t===null?ub(e,null,n,r):As(e,t.child,n,r)}function I0(t,e,n,r,i){n=n.render;var o=e.ref;return ps(e,i),r=jv(t,e,n,r,o,i),n=zv(),t!==null&&!Xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pr(t,e,i)):(Me&&n&&Dv(e),e.flags|=1,zt(t,e,r,i),e.child)}function T0(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Zv(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,kb(t,e,o,r,i)):(t=Vc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:gl,n(s,r)&&t.ref===e.ref)return Pr(t,e,i)}return e.flags|=1,t=ui(o,r),t.ref=e.ref,t.return=e,e.child=t}function kb(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(gl(o,r)&&t.ref===e.ref)if(Xt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Xt=!0);else return e.lanes=t.lanes,Pr(t,e,i)}return Yg(t,e,n,r,i)}function Ob(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(ss,on),on|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ae(ss,on),on|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ae(ss,on),on|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ae(ss,on),on|=r;return zt(t,e,i,n),e.child}function Nb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Yg(t,e,n,r,i){var o=Zt(n)?lo:Ft.current;return o=bs(e,o),ps(e,i),n=jv(t,e,n,r,o,i),r=zv(),t!==null&&!Xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pr(t,e,i)):(Me&&r&&Dv(e),e.flags|=1,zt(t,e,n,i),e.child)}function S0(t,e,n,r,i){if(Zt(n)){var o=!0;rd(e)}else o=!1;if(ps(e,i),e.stateNode===null)Nc(t,e),ab(e,n,r),Kg(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Dn(u):(u=Zt(n)?lo:Ft.current,u=bs(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&g0(e,s,r,u),Wr=!1;var f=e.memoizedState;s.state=f,ld(e,r,s,i),l=e.memoizedState,a!==r||f!==l||Jt.current||Wr?(typeof c=="function"&&(Gg(e,n,c,r),l=e.memoizedState),(a=Wr||p0(e,n,a,r,f,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,ob(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:$n(e.type,a),s.props=u,d=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Dn(l):(l=Zt(n)?lo:Ft.current,l=bs(e,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&g0(e,s,r,l),Wr=!1,f=e.memoizedState,s.state=f,ld(e,r,s,i);var p=e.memoizedState;a!==d||f!==p||Jt.current||Wr?(typeof h=="function"&&(Gg(e,n,h,r),p=e.memoizedState),(u=Wr||p0(e,n,u,r,f,p,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Xg(t,e,n,r,o,i)}function Xg(t,e,n,r,i,o){Nb(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&u0(e,n,!1),Pr(t,e,o);r=e.stateNode,cO.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=As(e,t.child,null,o),e.child=As(e,null,a,o)):zt(t,e,a,o),e.memoizedState=r.state,i&&u0(e,n,!0),e.child}function Mb(t){var e=t.stateNode;e.pendingContext?l0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&l0(t,e.context,!1),Fv(t,e.containerInfo)}function b0(t,e,n,r,i){return Rs(),kv(i),e.flags|=256,zt(t,e,n,r),e.child}var Jg={dehydrated:null,treeContext:null,retryLane:0};function Zg(t){return{baseLanes:t,cachePool:null,transitions:null}}function Lb(t,e,n){var r=e.pendingProps,i=Fe.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ae(Fe,i&1),t===null)return Hg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=pf(s,r,0,null),t=no(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Zg(n),e.memoizedState=Jg,t):qv(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return dO(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ui(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=ui(a,o):(o=no(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Zg(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Jg,r}return o=t.child,t=o.sibling,r=ui(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function qv(t,e){return e=pf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function sc(t,e,n,r){return r!==null&&kv(r),As(e,t.child,null,n),t=qv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function dO(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=pp(Error(k(422))),sc(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=pf({mode:"visible",children:r.children},i,0,null),o=no(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&As(e,t.child,null,s),e.child.memoizedState=Zg(s),e.memoizedState=Jg,o);if(!(e.mode&1))return sc(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(k(419)),r=pp(o,r,void 0),sc(t,e,s,r)}if(a=(s&t.childLanes)!==0,Xt||a){if(r=dt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Cr(t,i),qn(r,t,i,-1))}return Jv(),r=pp(Error(k(421))),sc(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=SO.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,sn=oi(i.nextSibling),cn=e,Me=!0,jn=null,t!==null&&(Tn[Sn++]=_r,Tn[Sn++]=wr,Tn[Sn++]=uo,_r=t.id,wr=t.overflow,uo=e),e=qv(e,r.children),e.flags|=4096,e)}function R0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),qg(t.return,e,n)}function gp(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Vb(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(zt(t,e,r.children,n),r=Fe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&R0(t,n,e);else if(t.tag===19)R0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ae(Fe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ud(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),gp(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ud(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}gp(e,!0,n,null,o);break;case"together":gp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(k(153));if(e.child!==null){for(t=e.child,n=ui(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ui(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function fO(t,e,n){switch(e.tag){case 3:Mb(e),Rs();break;case 5:cb(e);break;case 1:Zt(e.type)&&rd(e);break;case 4:Fv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ae(sd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ae(Fe,Fe.current&1),e.flags|=128,null):n&e.child.childLanes?Lb(t,e,n):(Ae(Fe,Fe.current&1),t=Pr(t,e,n),t!==null?t.sibling:null);Ae(Fe,Fe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Vb(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ae(Fe,Fe.current),r)break;return null;case 22:case 23:return e.lanes=0,Ob(t,e,n)}return Pr(t,e,n)}var Fb,em,$b,Ub;Fb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};em=function(){};$b=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Qi(ar.current);var o=null;switch(n){case"input":i=Ig(t,i),r=Ig(t,r),o=[];break;case"select":i=Ue({},i,{value:void 0}),r=Ue({},r,{value:void 0}),o=[];break;case"textarea":i=bg(t,i),r=bg(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=td)}Ag(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ll.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ll.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ce("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};Ub=function(t,e,n,r){n!==r&&(e.flags|=4)};function ma(t,e){if(!Me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function hO(t,e,n){var r=e.pendingProps;switch(xv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(e),null;case 1:return Zt(e.type)&&nd(),xt(e),null;case 3:return r=e.stateNode,Cs(),xe(Jt),xe(Ft),Uv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ic(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jn!==null&&(lm(jn),jn=null))),em(t,e),xt(e),null;case 5:$v(e);var i=Qi(wl.current);if(n=e.type,t!==null&&e.stateNode!=null)$b(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(k(166));return xt(e),null}if(t=Qi(ar.current),ic(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[tr]=e,r[yl]=o,t=(e.mode&1)!==0,n){case"dialog":Ce("cancel",r),Ce("close",r);break;case"iframe":case"object":case"embed":Ce("load",r);break;case"video":case"audio":for(i=0;i<ka.length;i++)Ce(ka[i],r);break;case"source":Ce("error",r);break;case"img":case"image":case"link":Ce("error",r),Ce("load",r);break;case"details":Ce("toggle",r);break;case"input":Mw(r,o),Ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ce("invalid",r);break;case"textarea":Vw(r,o),Ce("invalid",r)}Ag(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&rc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&rc(r.textContent,a,t),i=["children",""+a]):ll.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ce("scroll",r)}switch(n){case"input":Qu(r),Lw(r,o,!0);break;case"textarea":Qu(r),Fw(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=td)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=hS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[tr]=e,t[yl]=r,Fb(t,e,!1,!1),e.stateNode=t;e:{switch(s=Cg(n,r),n){case"dialog":Ce("cancel",t),Ce("close",t),i=r;break;case"iframe":case"object":case"embed":Ce("load",t),i=r;break;case"video":case"audio":for(i=0;i<ka.length;i++)Ce(ka[i],t);i=r;break;case"source":Ce("error",t),i=r;break;case"img":case"image":case"link":Ce("error",t),Ce("load",t),i=r;break;case"details":Ce("toggle",t),i=r;break;case"input":Mw(t,r),i=Ig(t,r),Ce("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ue({},r,{value:void 0}),Ce("invalid",t);break;case"textarea":Vw(t,r),i=bg(t,r),Ce("invalid",t);break;default:i=r}Ag(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?mS(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&pS(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ul(t,l):typeof l=="number"&&ul(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ll.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ce("scroll",t):l!=null&&mv(t,o,l,s))}switch(n){case"input":Qu(t),Lw(t,r,!1);break;case"textarea":Qu(t),Fw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+_i(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?cs(t,!!r.multiple,o,!1):r.defaultValue!=null&&cs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=td)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xt(e),null;case 6:if(t&&e.stateNode!=null)Ub(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(k(166));if(n=Qi(wl.current),Qi(ar.current),ic(e)){if(r=e.stateNode,n=e.memoizedProps,r[tr]=e,(o=r.nodeValue!==n)&&(t=cn,t!==null))switch(t.tag){case 3:rc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&rc(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tr]=e,e.stateNode=r}return xt(e),null;case 13:if(xe(Fe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&sn!==null&&e.mode&1&&!(e.flags&128))rb(),Rs(),e.flags|=98560,o=!1;else if(o=ic(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(k(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(k(317));o[tr]=e}else Rs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xt(e),o=!1}else jn!==null&&(lm(jn),jn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Fe.current&1?st===0&&(st=3):Jv())),e.updateQueue!==null&&(e.flags|=4),xt(e),null);case 4:return Cs(),em(t,e),t===null&&ml(e.stateNode.containerInfo),xt(e),null;case 10:return Mv(e.type._context),xt(e),null;case 17:return Zt(e.type)&&nd(),xt(e),null;case 19:if(xe(Fe),o=e.memoizedState,o===null)return xt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)ma(o,!1);else{if(st!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=ud(t),s!==null){for(e.flags|=128,ma(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ae(Fe,Fe.current&1|2),e.child}t=t.sibling}o.tail!==null&&Je()>Ds&&(e.flags|=128,r=!0,ma(o,!1),e.lanes=4194304)}else{if(!r)if(t=ud(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ma(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Me)return xt(e),null}else 2*Je()-o.renderingStartTime>Ds&&n!==1073741824&&(e.flags|=128,r=!0,ma(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Je(),e.sibling=null,n=Fe.current,Ae(Fe,r?n&1|2:n&1),e):(xt(e),null);case 22:case 23:return Xv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?on&1073741824&&(xt(e),e.subtreeFlags&6&&(e.flags|=8192)):xt(e),null;case 24:return null;case 25:return null}throw Error(k(156,e.tag))}function pO(t,e){switch(xv(e),e.tag){case 1:return Zt(e.type)&&nd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Cs(),xe(Jt),xe(Ft),Uv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $v(e),null;case 13:if(xe(Fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(k(340));Rs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xe(Fe),null;case 4:return Cs(),null;case 10:return Mv(e.type._context),null;case 22:case 23:return Xv(),null;case 24:return null;default:return null}}var ac=!1,Nt=!1,gO=typeof WeakSet=="function"?WeakSet:Set,$=null;function os(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ze(t,e,r)}else n.current=null}function tm(t,e,n){try{n()}catch(r){ze(t,e,r)}}var A0=!1;function mO(t,e){if(Fg=Jc,t=WS(),Pv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=s),f===o&&++c===r&&(l=s),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for($g={focusedElem:t,selectionRange:n},Jc=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,w=p.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:$n(e.type,m),w);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(y){ze(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return p=A0,A0=!1,p}function Ga(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&tm(e,n,o)}i=i.next}while(i!==r)}}function ff(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function nm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Bb(t){var e=t.alternate;e!==null&&(t.alternate=null,Bb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[tr],delete e[yl],delete e[jg],delete e[Jk],delete e[Zk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jb(t){return t.tag===5||t.tag===3||t.tag===4}function C0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=td));else if(r!==4&&(t=t.child,t!==null))for(rm(t,e,n),t=t.sibling;t!==null;)rm(t,e,n),t=t.sibling}function im(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(im(t,e,n),t=t.sibling;t!==null;)im(t,e,n),t=t.sibling}var yt=null,Un=!1;function Ur(t,e,n){for(n=n.child;n!==null;)zb(t,e,n),n=n.sibling}function zb(t,e,n){if(sr&&typeof sr.onCommitFiberUnmount=="function")try{sr.onCommitFiberUnmount(rf,n)}catch{}switch(n.tag){case 5:Nt||os(n,e);case 6:var r=yt,i=Un;yt=null,Ur(t,e,n),yt=r,Un=i,yt!==null&&(Un?(t=yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yt.removeChild(n.stateNode));break;case 18:yt!==null&&(Un?(t=yt,n=n.stateNode,t.nodeType===8?lp(t.parentNode,n):t.nodeType===1&&lp(t,n),hl(t)):lp(yt,n.stateNode));break;case 4:r=yt,i=Un,yt=n.stateNode.containerInfo,Un=!0,Ur(t,e,n),yt=r,Un=i;break;case 0:case 11:case 14:case 15:if(!Nt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&tm(n,e,s),i=i.next}while(i!==r)}Ur(t,e,n);break;case 1:if(!Nt&&(os(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ze(n,e,a)}Ur(t,e,n);break;case 21:Ur(t,e,n);break;case 22:n.mode&1?(Nt=(r=Nt)||n.memoizedState!==null,Ur(t,e,n),Nt=r):Ur(t,e,n);break;default:Ur(t,e,n)}}function P0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gO),e.forEach(function(r){var i=bO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Fn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:yt=a.stateNode,Un=!1;break e;case 3:yt=a.stateNode.containerInfo,Un=!0;break e;case 4:yt=a.stateNode.containerInfo,Un=!0;break e}a=a.return}if(yt===null)throw Error(k(160));zb(o,s,i),yt=null,Un=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ze(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Wb(e,t),e=e.sibling}function Wb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fn(e,t),Zn(t),r&4){try{Ga(3,t,t.return),ff(3,t)}catch(m){ze(t,t.return,m)}try{Ga(5,t,t.return)}catch(m){ze(t,t.return,m)}}break;case 1:Fn(e,t),Zn(t),r&512&&n!==null&&os(n,n.return);break;case 5:if(Fn(e,t),Zn(t),r&512&&n!==null&&os(n,n.return),t.flags&32){var i=t.stateNode;try{ul(i,"")}catch(m){ze(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&dS(i,o),Cg(a,s);var u=Cg(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?mS(i,d):c==="dangerouslySetInnerHTML"?pS(i,d):c==="children"?ul(i,d):mv(i,c,d,u)}switch(a){case"input":Tg(i,o);break;case"textarea":fS(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?cs(i,!!o.multiple,h,!1):f!==!!o.multiple&&(o.defaultValue!=null?cs(i,!!o.multiple,o.defaultValue,!0):cs(i,!!o.multiple,o.multiple?[]:"",!1))}i[yl]=o}catch(m){ze(t,t.return,m)}}break;case 6:if(Fn(e,t),Zn(t),r&4){if(t.stateNode===null)throw Error(k(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(m){ze(t,t.return,m)}}break;case 3:if(Fn(e,t),Zn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hl(e.containerInfo)}catch(m){ze(t,t.return,m)}break;case 4:Fn(e,t),Zn(t);break;case 13:Fn(e,t),Zn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Qv=Je())),r&4&&P0(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Nt=(u=Nt)||c,Fn(e,t),Nt=u):Fn(e,t),Zn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for($=t,c=t.child;c!==null;){for(d=$=c;$!==null;){switch(f=$,h=f.child,f.tag){case 0:case 11:case 14:case 15:Ga(4,f,f.return);break;case 1:os(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){ze(r,n,m)}}break;case 5:os(f,f.return);break;case 22:if(f.memoizedState!==null){x0(d);continue}}h!==null?(h.return=f,$=h):x0(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=gS("display",s))}catch(m){ze(t,t.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){ze(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Fn(e,t),Zn(t),r&4&&P0(t);break;case 21:break;default:Fn(e,t),Zn(t)}}function Zn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(jb(n)){var r=n;break e}n=n.return}throw Error(k(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ul(i,""),r.flags&=-33);var o=C0(t);im(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=C0(t);rm(t,a,s);break;default:throw Error(k(161))}}catch(l){ze(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vO(t,e,n){$=t,Hb(t)}function Hb(t,e,n){for(var r=(t.mode&1)!==0;$!==null;){var i=$,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ac;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Nt;a=ac;var u=Nt;if(ac=s,(Nt=l)&&!u)for($=i;$!==null;)s=$,l=s.child,s.tag===22&&s.memoizedState!==null?k0(i):l!==null?(l.return=s,$=l):k0(i);for(;o!==null;)$=o,Hb(o),o=o.sibling;$=i,ac=a,Nt=u}D0(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,$=o):D0(t)}}function D0(t){for(;$!==null;){var e=$;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Nt||ff(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Nt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:$n(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&h0(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}h0(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&hl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}Nt||e.flags&512&&nm(e)}catch(f){ze(e,e.return,f)}}if(e===t){$=null;break}if(n=e.sibling,n!==null){n.return=e.return,$=n;break}$=e.return}}function x0(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$=n;break}$=e.return}}function k0(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ff(4,e)}catch(l){ze(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ze(e,i,l)}}var o=e.return;try{nm(e)}catch(l){ze(e,o,l)}break;case 5:var s=e.return;try{nm(e)}catch(l){ze(e,s,l)}}}catch(l){ze(e,e.return,l)}if(e===t){$=null;break}var a=e.sibling;if(a!==null){a.return=e.return,$=a;break}$=e.return}}var yO=Math.ceil,fd=Mr.ReactCurrentDispatcher,Gv=Mr.ReactCurrentOwner,Cn=Mr.ReactCurrentBatchConfig,pe=0,dt=null,nt=null,St=0,on=0,ss=Ci(0),st=0,Sl=null,fo=0,hf=0,Kv=0,Ka=null,Qt=null,Qv=0,Ds=1/0,vr=null,hd=!1,om=null,ai=null,lc=!1,ei=null,pd=0,Qa=0,sm=null,Mc=-1,Lc=0;function Ht(){return pe&6?Je():Mc!==-1?Mc:Mc=Je()}function li(t){return t.mode&1?pe&2&&St!==0?St&-St:tO.transition!==null?(Lc===0&&(Lc=CS()),Lc):(t=ye,t!==0||(t=window.event,t=t===void 0?16:MS(t.type)),t):1}function qn(t,e,n,r){if(50<Qa)throw Qa=0,sm=null,Error(k(185));ru(t,n,r),(!(pe&2)||t!==dt)&&(t===dt&&(!(pe&2)&&(hf|=n),st===4&&qr(t,St)),en(t,r),n===1&&pe===0&&!(e.mode&1)&&(Ds=Je()+500,uf&&Pi()))}function en(t,e){var n=t.callbackNode;tk(t,e);var r=Xc(t,t===dt?St:0);if(r===0)n!==null&&Bw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Bw(n),e===1)t.tag===0?eO(O0.bind(null,t)):eb(O0.bind(null,t)),Yk(function(){!(pe&6)&&Pi()}),n=null;else{switch(PS(r)){case 1:n=Ev;break;case 4:n=RS;break;case 16:n=Yc;break;case 536870912:n=AS;break;default:n=Yc}n=Zb(n,qb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function qb(t,e){if(Mc=-1,Lc=0,pe&6)throw Error(k(327));var n=t.callbackNode;if(gs()&&t.callbackNode!==n)return null;var r=Xc(t,t===dt?St:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=gd(t,r);else{e=r;var i=pe;pe|=2;var o=Kb();(dt!==t||St!==e)&&(vr=null,Ds=Je()+500,to(t,e));do try{EO();break}catch(a){Gb(t,a)}while(1);Nv(),fd.current=o,pe=i,nt!==null?e=0:(dt=null,St=0,e=st)}if(e!==0){if(e===2&&(i=Og(t),i!==0&&(r=i,e=am(t,i))),e===1)throw n=Sl,to(t,0),qr(t,r),en(t,Je()),n;if(e===6)qr(t,r);else{if(i=t.current.alternate,!(r&30)&&!_O(i)&&(e=gd(t,r),e===2&&(o=Og(t),o!==0&&(r=o,e=am(t,o))),e===1))throw n=Sl,to(t,0),qr(t,r),en(t,Je()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(k(345));case 2:zi(t,Qt,vr);break;case 3:if(qr(t,r),(r&130023424)===r&&(e=Qv+500-Je(),10<e)){if(Xc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ht(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Bg(zi.bind(null,t,Qt,vr),e);break}zi(t,Qt,vr);break;case 4:if(qr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Hn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yO(r/1960))-r,10<r){t.timeoutHandle=Bg(zi.bind(null,t,Qt,vr),r);break}zi(t,Qt,vr);break;case 5:zi(t,Qt,vr);break;default:throw Error(k(329))}}}return en(t,Je()),t.callbackNode===n?qb.bind(null,t):null}function am(t,e){var n=Ka;return t.current.memoizedState.isDehydrated&&(to(t,e).flags|=256),t=gd(t,e),t!==2&&(e=Qt,Qt=n,e!==null&&lm(e)),t}function lm(t){Qt===null?Qt=t:Qt.push.apply(Qt,t)}function _O(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Gn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qr(t,e){for(e&=~Kv,e&=~hf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Hn(e),r=1<<n;t[n]=-1,e&=~r}}function O0(t){if(pe&6)throw Error(k(327));gs();var e=Xc(t,0);if(!(e&1))return en(t,Je()),null;var n=gd(t,e);if(t.tag!==0&&n===2){var r=Og(t);r!==0&&(e=r,n=am(t,r))}if(n===1)throw n=Sl,to(t,0),qr(t,e),en(t,Je()),n;if(n===6)throw Error(k(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zi(t,Qt,vr),en(t,Je()),null}function Yv(t,e){var n=pe;pe|=1;try{return t(e)}finally{pe=n,pe===0&&(Ds=Je()+500,uf&&Pi())}}function ho(t){ei!==null&&ei.tag===0&&!(pe&6)&&gs();var e=pe;pe|=1;var n=Cn.transition,r=ye;try{if(Cn.transition=null,ye=1,t)return t()}finally{ye=r,Cn.transition=n,pe=e,!(pe&6)&&Pi()}}function Xv(){on=ss.current,xe(ss)}function to(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Qk(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(xv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nd();break;case 3:Cs(),xe(Jt),xe(Ft),Uv();break;case 5:$v(r);break;case 4:Cs();break;case 13:xe(Fe);break;case 19:xe(Fe);break;case 10:Mv(r.type._context);break;case 22:case 23:Xv()}n=n.return}if(dt=t,nt=t=ui(t.current,null),St=on=e,st=0,Sl=null,Kv=hf=fo=0,Qt=Ka=null,Ki!==null){for(e=0;e<Ki.length;e++)if(n=Ki[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Ki=null}return t}function Gb(t,e){do{var n=nt;try{if(Nv(),kc.current=dd,cd){for(var r=$e.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}cd=!1}if(co=0,ct=ot=$e=null,qa=!1,El=0,Gv.current=null,n===null||n.return===null){st=1,Sl=e,nt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=St,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=w0(s);if(h!==null){h.flags&=-257,E0(h,s,a,o,e),h.mode&1&&_0(o,u,e),e=h,l=u;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){_0(o,u,e),Jv();break e}l=Error(k(426))}}else if(Me&&a.mode&1){var w=w0(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),E0(w,s,a,o,e),kv(Ps(l,a));break e}}o=l=Ps(l,a),st!==4&&(st=2),Ka===null?Ka=[o]:Ka.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=Db(o,l,e);f0(o,g);break e;case 1:a=l;var v=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ai===null||!ai.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var y=xb(o,a,e);f0(o,y);break e}}o=o.return}while(o!==null)}Yb(n)}catch(I){e=I,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(1)}function Kb(){var t=fd.current;return fd.current=dd,t===null?dd:t}function Jv(){(st===0||st===3||st===2)&&(st=4),dt===null||!(fo&268435455)&&!(hf&268435455)||qr(dt,St)}function gd(t,e){var n=pe;pe|=2;var r=Kb();(dt!==t||St!==e)&&(vr=null,to(t,e));do try{wO();break}catch(i){Gb(t,i)}while(1);if(Nv(),pe=n,fd.current=r,nt!==null)throw Error(k(261));return dt=null,St=0,st}function wO(){for(;nt!==null;)Qb(nt)}function EO(){for(;nt!==null&&!qx();)Qb(nt)}function Qb(t){var e=Jb(t.alternate,t,on);t.memoizedProps=t.pendingProps,e===null?Yb(t):nt=e,Gv.current=null}function Yb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=pO(n,e),n!==null){n.flags&=32767,nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{st=6,nt=null;return}}else if(n=hO(n,e,on),n!==null){nt=n;return}if(e=e.sibling,e!==null){nt=e;return}nt=e=t}while(e!==null);st===0&&(st=5)}function zi(t,e,n){var r=ye,i=Cn.transition;try{Cn.transition=null,ye=1,IO(t,e,n,r)}finally{Cn.transition=i,ye=r}return null}function IO(t,e,n,r){do gs();while(ei!==null);if(pe&6)throw Error(k(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(k(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(nk(t,o),t===dt&&(nt=dt=null,St=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||lc||(lc=!0,Zb(Yc,function(){return gs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Cn.transition,Cn.transition=null;var s=ye;ye=1;var a=pe;pe|=4,Gv.current=null,mO(t,n),Wb(n,t),jk($g),Jc=!!Fg,$g=Fg=null,t.current=n,vO(n),Gx(),pe=a,ye=s,Cn.transition=o}else t.current=n;if(lc&&(lc=!1,ei=t,pd=i),o=t.pendingLanes,o===0&&(ai=null),Yx(n.stateNode),en(t,Je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(hd)throw hd=!1,t=om,om=null,t;return pd&1&&t.tag!==0&&gs(),o=t.pendingLanes,o&1?t===sm?Qa++:(Qa=0,sm=t):Qa=0,Pi(),null}function gs(){if(ei!==null){var t=PS(pd),e=Cn.transition,n=ye;try{if(Cn.transition=null,ye=16>t?16:t,ei===null)var r=!1;else{if(t=ei,ei=null,pd=0,pe&6)throw Error(k(331));var i=pe;for(pe|=4,$=t.current;$!==null;){var o=$,s=o.child;if($.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for($=u;$!==null;){var c=$;switch(c.tag){case 0:case 11:case 15:Ga(8,c,o)}var d=c.child;if(d!==null)d.return=c,$=d;else for(;$!==null;){c=$;var f=c.sibling,h=c.return;if(Bb(c),c===u){$=null;break}if(f!==null){f.return=h,$=f;break}$=h}}}var p=o.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}$=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,$=s;else e:for(;$!==null;){if(o=$,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ga(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,$=g;break e}$=o.return}}var v=t.current;for($=v;$!==null;){s=$;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,$=_;else e:for(s=v;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ff(9,a)}}catch(I){ze(a,a.return,I)}if(a===s){$=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,$=y;break e}$=a.return}}if(pe=i,Pi(),sr&&typeof sr.onPostCommitFiberRoot=="function")try{sr.onPostCommitFiberRoot(rf,t)}catch{}r=!0}return r}finally{ye=n,Cn.transition=e}}return!1}function N0(t,e,n){e=Ps(n,e),e=Db(t,e,1),t=si(t,e,1),e=Ht(),t!==null&&(ru(t,1,e),en(t,e))}function ze(t,e,n){if(t.tag===3)N0(t,t,n);else for(;e!==null;){if(e.tag===3){N0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ai===null||!ai.has(r))){t=Ps(n,t),t=xb(e,t,1),e=si(e,t,1),t=Ht(),e!==null&&(ru(e,1,t),en(e,t));break}}e=e.return}}function TO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ht(),t.pingedLanes|=t.suspendedLanes&n,dt===t&&(St&n)===n&&(st===4||st===3&&(St&130023424)===St&&500>Je()-Qv?to(t,0):Kv|=n),en(t,e)}function Xb(t,e){e===0&&(t.mode&1?(e=Ju,Ju<<=1,!(Ju&130023424)&&(Ju=4194304)):e=1);var n=Ht();t=Cr(t,e),t!==null&&(ru(t,e,n),en(t,n))}function SO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Xb(t,n)}function bO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(k(314))}r!==null&&r.delete(e),Xb(t,n)}var Jb;Jb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Jt.current)Xt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Xt=!1,fO(t,e,n);Xt=!!(t.flags&131072)}else Xt=!1,Me&&e.flags&1048576&&tb(e,od,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Nc(t,e),t=e.pendingProps;var i=bs(e,Ft.current);ps(e,n),i=jv(null,e,r,t,i,n);var o=zv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zt(r)?(o=!0,rd(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Vv(e),i.updater=cf,e.stateNode=i,i._reactInternals=e,Kg(e,r,t,n),e=Xg(null,e,r,!0,o,n)):(e.tag=0,Me&&o&&Dv(e),zt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Nc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=AO(r),t=$n(r,t),i){case 0:e=Yg(null,e,r,t,n);break e;case 1:e=S0(null,e,r,t,n);break e;case 11:e=I0(null,e,r,t,n);break e;case 14:e=T0(null,e,r,$n(r.type,t),n);break e}throw Error(k(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$n(r,i),Yg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$n(r,i),S0(t,e,r,i,n);case 3:e:{if(Mb(e),t===null)throw Error(k(387));r=e.pendingProps,o=e.memoizedState,i=o.element,ob(t,e),ld(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ps(Error(k(423)),e),e=b0(t,e,r,n,i);break e}else if(r!==i){i=Ps(Error(k(424)),e),e=b0(t,e,r,n,i);break e}else for(sn=oi(e.stateNode.containerInfo.firstChild),cn=e,Me=!0,jn=null,n=ub(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rs(),r===i){e=Pr(t,e,n);break e}zt(t,e,r,n)}e=e.child}return e;case 5:return cb(e),t===null&&Hg(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Ug(r,i)?s=null:o!==null&&Ug(r,o)&&(e.flags|=32),Nb(t,e),zt(t,e,s,n),e.child;case 6:return t===null&&Hg(e),null;case 13:return Lb(t,e,n);case 4:return Fv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=As(e,null,r,n):zt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$n(r,i),I0(t,e,r,i,n);case 7:return zt(t,e,e.pendingProps,n),e.child;case 8:return zt(t,e,e.pendingProps.children,n),e.child;case 12:return zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ae(sd,r._currentValue),r._currentValue=s,o!==null)if(Gn(o.value,s)){if(o.children===i.children&&!Jt.current){e=Pr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Sr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),qg(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(k(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),qg(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}zt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ps(e,n),i=Dn(i),r=r(i),e.flags|=1,zt(t,e,r,n),e.child;case 14:return r=e.type,i=$n(r,e.pendingProps),i=$n(r.type,i),T0(t,e,r,i,n);case 15:return kb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$n(r,i),Nc(t,e),e.tag=1,Zt(r)?(t=!0,rd(e)):t=!1,ps(e,n),ab(e,r,i),Kg(e,r,i,n),Xg(null,e,r,!0,t,n);case 19:return Vb(t,e,n);case 22:return Ob(t,e,n)}throw Error(k(156,e.tag))};function Zb(t,e){return bS(t,e)}function RO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,e,n,r){return new RO(t,e,n,r)}function Zv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function AO(t){if(typeof t=="function")return Zv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===yv)return 11;if(t===_v)return 14}return 2}function ui(t,e){var n=t.alternate;return n===null?(n=Rn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vc(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Zv(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Yo:return no(n.children,i,o,e);case vv:s=8,i|=8;break;case yg:return t=Rn(12,n,e,i|2),t.elementType=yg,t.lanes=o,t;case _g:return t=Rn(13,n,e,i),t.elementType=_g,t.lanes=o,t;case wg:return t=Rn(19,n,e,i),t.elementType=wg,t.lanes=o,t;case lS:return pf(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sS:s=10;break e;case aS:s=9;break e;case yv:s=11;break e;case _v:s=14;break e;case zr:s=16,r=null;break e}throw Error(k(130,t==null?t:typeof t,""))}return e=Rn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function no(t,e,n,r){return t=Rn(7,t,r,e),t.lanes=n,t}function pf(t,e,n,r){return t=Rn(22,t,r,e),t.elementType=lS,t.lanes=n,t.stateNode={isHidden:!1},t}function mp(t,e,n){return t=Rn(6,t,null,e),t.lanes=n,t}function vp(t,e,n){return e=Rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function CO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xh(0),this.expirationTimes=Xh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ey(t,e,n,r,i,o,s,a,l){return t=new CO(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Rn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vv(o),t}function PO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function e1(t){if(!t)return wi;t=t._reactInternals;e:{if(Po(t)!==t||t.tag!==1)throw Error(k(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(k(171))}if(t.tag===1){var n=t.type;if(Zt(n))return ZS(t,n,e)}return e}function t1(t,e,n,r,i,o,s,a,l){return t=ey(n,r,!0,t,i,o,s,a,l),t.context=e1(null),n=t.current,r=Ht(),i=li(n),o=Sr(r,i),o.callback=e??null,si(n,o,i),t.current.lanes=i,ru(t,i,r),en(t,r),t}function gf(t,e,n,r){var i=e.current,o=Ht(),s=li(i);return n=e1(n),e.context===null?e.context=n:e.pendingContext=n,e=Sr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=si(i,e,s),t!==null&&(qn(t,i,s,o),xc(t,i,s)),s}function md(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function M0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ty(t,e){M0(t,e),(t=t.alternate)&&M0(t,e)}function DO(){return null}var n1=typeof reportError=="function"?reportError:function(t){console.error(t)};function ny(t){this._internalRoot=t}mf.prototype.render=ny.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(k(409));gf(t,e,null,null)};mf.prototype.unmount=ny.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ho(function(){gf(null,t,null,null)}),e[Ar]=null}};function mf(t){this._internalRoot=t}mf.prototype.unstable_scheduleHydration=function(t){if(t){var e=kS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Hr.length&&e!==0&&e<Hr[n].priority;n++);Hr.splice(n,0,t),n===0&&NS(t)}};function ry(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function L0(){}function xO(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=md(s);o.call(u)}}var s=t1(e,r,t,0,null,!1,!1,"",L0);return t._reactRootContainer=s,t[Ar]=s.current,ml(t.nodeType===8?t.parentNode:t),ho(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=md(l);a.call(u)}}var l=ey(t,0,!1,null,null,!1,!1,"",L0);return t._reactRootContainer=l,t[Ar]=l.current,ml(t.nodeType===8?t.parentNode:t),ho(function(){gf(e,l,n,r)}),l}function yf(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=md(s);a.call(l)}}gf(e,s,t,i)}else s=xO(n,e,t,i,r);return md(s)}DS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=xa(e.pendingLanes);n!==0&&(Iv(e,n|1),en(e,Je()),!(pe&6)&&(Ds=Je()+500,Pi()))}break;case 13:ho(function(){var r=Cr(t,1);if(r!==null){var i=Ht();qn(r,t,1,i)}}),ty(t,1)}};Tv=function(t){if(t.tag===13){var e=Cr(t,134217728);if(e!==null){var n=Ht();qn(e,t,134217728,n)}ty(t,134217728)}};xS=function(t){if(t.tag===13){var e=li(t),n=Cr(t,e);if(n!==null){var r=Ht();qn(n,t,e,r)}ty(t,e)}};kS=function(){return ye};OS=function(t,e){var n=ye;try{return ye=t,e()}finally{ye=n}};Dg=function(t,e,n){switch(e){case"input":if(Tg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=lf(r);if(!i)throw Error(k(90));cS(r),Tg(r,i)}}}break;case"textarea":fS(t,n);break;case"select":e=n.value,e!=null&&cs(t,!!n.multiple,e,!1)}};_S=Yv;wS=ho;var kO={usingClientEntryPoint:!1,Events:[ou,es,lf,vS,yS,Yv]},va={findFiberByHostInstance:Gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},OO={bundleType:va.bundleType,version:va.version,rendererPackageName:va.rendererPackageName,rendererConfig:va.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=TS(t),t===null?null:t.stateNode},findFiberByHostInstance:va.findFiberByHostInstance||DO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{rf=uc.inject(OO),sr=uc}catch{}}vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kO;vn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ry(e))throw Error(k(200));return PO(t,e,null,n)};vn.createRoot=function(t,e){if(!ry(t))throw Error(k(299));var n=!1,r="",i=n1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ey(t,1,!1,null,null,n,!1,r,i),t[Ar]=e.current,ml(t.nodeType===8?t.parentNode:t),new ny(e)};vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(k(188)):(t=Object.keys(t).join(","),Error(k(268,t)));return t=TS(e),t=t===null?null:t.stateNode,t};vn.flushSync=function(t){return ho(t)};vn.hydrate=function(t,e,n){if(!vf(e))throw Error(k(200));return yf(null,t,e,!0,n)};vn.hydrateRoot=function(t,e,n){if(!ry(t))throw Error(k(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=n1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=t1(e,null,t,1,n??null,i,!1,o,s),t[Ar]=e.current,ml(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new mf(e)};vn.render=function(t,e,n){if(!vf(e))throw Error(k(200));return yf(null,t,e,!1,n)};vn.unmountComponentAtNode=function(t){if(!vf(t))throw Error(k(40));return t._reactRootContainer?(ho(function(){yf(null,null,t,!1,function(){t._reactRootContainer=null,t[Ar]=null})}),!0):!1};vn.unstable_batchedUpdates=Yv;vn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!vf(n))throw Error(k(200));if(t==null||t._reactInternals===void 0)throw Error(k(38));return yf(t,e,n,!1,r)};vn.version="18.2.0-next-9e3b772b8-20220608";function r1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r1)}catch(t){console.error(t)}}r1(),tS.exports=vn;var _f=tS.exports;const NO=uv(_f);var V0=_f;mg.createRoot=V0.createRoot,mg.hydrateRoot=V0.hydrateRoot;const MO=t=>A.jsx("div",{className:`tooltip ${t.type}`,children:t.message});/**
 * @remix-run/router v1.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function We(){return We=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},We.apply(this,arguments)}var Ye;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ye||(Ye={}));const F0="popstate";function LO(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return bl("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:go(i)}return FO(e,n,null,t)}function oe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function po(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VO(){return Math.random().toString(36).substr(2,8)}function $0(t,e){return{usr:t.state,key:t.key,idx:e}}function bl(t,e,n,r){return n===void 0&&(n=null),We({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Lr(e):e,{state:n,key:e&&e.key||r||VO()})}function go(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Lr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function FO(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Ye.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(We({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function d(){a=Ye.Pop;let w=c(),g=w==null?null:w-u;u=w,l&&l({action:a,location:m.location,delta:g})}function f(w,g){a=Ye.Push;let v=bl(m.location,w,g);n&&n(v,w),u=c()+1;let _=$0(v,u),y=m.createHref(v);try{s.pushState(_,"",y)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(y)}o&&l&&l({action:a,location:m.location,delta:1})}function h(w,g){a=Ye.Replace;let v=bl(m.location,w,g);n&&n(v,w),u=c();let _=$0(v,u),y=m.createHref(v);s.replaceState(_,"",y),o&&l&&l({action:a,location:m.location,delta:0})}function p(w){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof w=="string"?w:go(w);return oe(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let m={get action(){return a},get location(){return t(i,s)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(F0,d),l=w,()=>{i.removeEventListener(F0,d),l=null}},createHref(w){return e(i,w)},createURL:p,encodeLocation(w){let g=p(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:h,go(w){return s.go(w)}};return m}var Xe;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Xe||(Xe={}));const $O=new Set(["lazy","caseSensitive","path","id","index","children"]);function UO(t){return t.index===!0}function um(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,o],a=typeof i.id=="string"?i.id:s.join("-");if(oe(i.index!==!0||!i.children,"Cannot specify children on an index route"),oe(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),UO(i)){let l=We({},i,e(i),{id:a});return r[a]=l,l}else{let l=We({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=um(i.children,e,s,r)),l}})}function as(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Lr(e):e,i=Gs(r.pathname||"/",n);if(i==null)return null;let o=i1(t);jO(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=XO(o[a],eN(i));return s}function BO(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function i1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(oe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=br([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(oe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),i1(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:QO(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of o1(o.path))i(o,s,l)}),e}function o1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=o1(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function jO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:YO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const zO=/^:\w+$/,WO=3,HO=2,qO=1,GO=10,KO=-2,U0=t=>t==="*";function QO(t,e){let n=t.split("/"),r=n.length;return n.some(U0)&&(r+=KO),e&&(r+=HO),n.filter(i=>!U0(i)).reduce((i,o)=>i+(zO.test(o)?WO:o===""?qO:GO),r)}function YO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function XO(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=JO({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;o.push({params:r,pathname:br([i,c.pathname]),pathnameBase:iN(br([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=br([i,c.pathnameBase]))}return o}function JO(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ZO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:f,isOptional:h}=c;if(f==="*"){let m=a[d]||"";s=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[d];return h&&!p?u[f]=void 0:u[f]=tN(p||"",f),u},{}),pathname:o,pathnameBase:s,pattern:t}}function ZO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),po(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function eN(t){try{return decodeURI(t)}catch(e){return po(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function tN(t,e){try{return decodeURIComponent(t)}catch(n){return po(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Gs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function nN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Lr(t):t;return{pathname:n?n.startsWith("/")?n:rN(n,e):e,search:oN(r),hash:sN(i)}}function rN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function yp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wf(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function iy(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Lr(t):(i=We({},t),oe(!i.pathname||!i.pathname.includes("?"),yp("?","pathname","search",i)),oe(!i.pathname||!i.pathname.includes("#"),yp("#","pathname","hash",i)),oe(!i.search||!i.search.includes("#"),yp("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let d=e.length-1;if(s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=nN(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const br=t=>t.join("/").replace(/\/\/+/g,"/"),iN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),oN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,sN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class oy{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function s1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const a1=["post","put","patch","delete"],aN=new Set(a1),lN=["get",...a1],uN=new Set(lN),cN=new Set([301,302,303,307,308]),dN=new Set([307,308]),_p={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},fN={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ya={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},l1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hN=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),u1="remix-router-transitions";function pN(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;oe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let T=t.detectErrorBoundary;i=R=>({hasErrorBoundary:T(R)})}else i=hN;let o={},s=um(t.routes,i,void 0,o),a,l=t.basename||"/",u=We({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),c=null,d=new Set,f=null,h=null,p=null,m=t.hydrationData!=null,w=as(s,t.history.location,l),g=null;if(w==null){let T=In(404,{pathname:t.history.location.pathname}),{matches:R,route:D}=K0(s);w=R,g={[D.id]:T}}let v=!w.some(T=>T.route.lazy)&&(!w.some(T=>T.route.loader)||t.hydrationData!=null),_,y={historyAction:t.history.action,location:t.history.location,matches:w,initialized:v,navigation:_p,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||g,fetchers:new Map,blockers:new Map},I=Ye.Pop,S=!1,b,C=!1,O=new Map,N=null,j=!1,Ee=!1,Le=[],ve=[],le=new Map,Ke=0,Ct=-1,L=new Map,z=new Set,W=new Map,ue=new Map,ie=new Set,lt=new Map,Ze=new Map,Pt=!1;function Kt(){if(c=t.history.listen(T=>{let{action:R,location:D,delta:F}=T;if(Pt){Pt=!1;return}po(Ze.size===0||F!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let K=bw({currentLocation:y.location,nextLocation:D,historyAction:R});if(K&&F!=null){Pt=!0,t.history.go(F*-1),Hu(K,{state:"blocked",location:D,proceed(){Hu(K,{state:"proceeding",proceed:void 0,reset:void 0,location:D}),t.history.go(F)},reset(){let Y=new Map(y.blockers);Y.set(K,ya),Oe({blockers:Y})}});return}return Ln(R,D)}),n){bN(e,O);let T=()=>RN(e,O);e.addEventListener("pagehide",T),N=()=>e.removeEventListener("pagehide",T)}return y.initialized||Ln(Ye.Pop,y.location),_}function Mn(){c&&c(),N&&N(),d.clear(),b&&b.abort(),y.fetchers.forEach((T,R)=>Wu(R)),y.blockers.forEach((T,R)=>Sw(R))}function Fo(T){return d.add(T),()=>d.delete(T)}function Oe(T,R){y=We({},y,T);let D=[],F=[];u.v7_fetcherPersist&&y.fetchers.forEach((K,Y)=>{K.state==="idle"&&(ie.has(Y)?F.push(Y):D.push(Y))}),d.forEach(K=>K(y,{deletedFetchers:F,unstable_viewTransitionOpts:R})),u.v7_fetcherPersist&&(D.forEach(K=>y.fetchers.delete(K)),F.forEach(K=>Wu(K)))}function wn(T,R){var D,F;let K=y.actionData!=null&&y.navigation.formMethod!=null&&Bn(y.navigation.formMethod)&&y.navigation.state==="loading"&&((D=T.state)==null?void 0:D._isRedirect)!==!0,Y;R.actionData?Object.keys(R.actionData).length>0?Y=R.actionData:Y=null:K?Y=y.actionData:Y=null;let ne=R.loaderData?G0(y.loaderData,R.loaderData,R.matches||[],R.errors):y.loaderData,X=y.blockers;X.size>0&&(X=new Map(X),X.forEach((Ve,de)=>X.set(de,ya)));let G=S===!0||y.navigation.formMethod!=null&&Bn(y.navigation.formMethod)&&((F=T.state)==null?void 0:F._isRedirect)!==!0;a&&(s=a,a=void 0),j||I===Ye.Pop||(I===Ye.Push?t.history.push(T,T.state):I===Ye.Replace&&t.history.replace(T,T.state));let Se;if(I===Ye.Pop){let Ve=O.get(y.location.pathname);Ve&&Ve.has(T.pathname)?Se={currentLocation:y.location,nextLocation:T}:O.has(T.pathname)&&(Se={currentLocation:T,nextLocation:y.location})}else if(C){let Ve=O.get(y.location.pathname);Ve?Ve.add(T.pathname):(Ve=new Set([T.pathname]),O.set(y.location.pathname,Ve)),Se={currentLocation:y.location,nextLocation:T}}Oe(We({},R,{actionData:Y,loaderData:ne,historyAction:I,location:T,initialized:!0,navigation:_p,revalidation:"idle",restoreScrollPosition:Aw(T,R.matches||y.matches),preventScrollReset:G,blockers:X}),Se),I=Ye.Pop,S=!1,C=!1,j=!1,Ee=!1,Le=[],ve=[]}async function $o(T,R){if(typeof T=="number"){t.history.go(T);return}let D=cm(y.location,y.matches,l,u.v7_prependBasename,T,R==null?void 0:R.fromRouteId,R==null?void 0:R.relative),{path:F,submission:K,error:Y}=B0(u.v7_normalizeFormMethod,!1,D,R),ne=y.location,X=bl(y.location,F,R&&R.state);X=We({},X,t.history.encodeLocation(X));let G=R&&R.replace!=null?R.replace:void 0,Se=Ye.Push;G===!0?Se=Ye.Replace:G===!1||K!=null&&Bn(K.formMethod)&&K.formAction===y.location.pathname+y.location.search&&(Se=Ye.Replace);let Ve=R&&"preventScrollReset"in R?R.preventScrollReset===!0:void 0,de=bw({currentLocation:ne,nextLocation:X,historyAction:Se});if(de){Hu(de,{state:"blocked",location:X,proceed(){Hu(de,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),$o(T,R)},reset(){let be=new Map(y.blockers);be.set(de,ya),Oe({blockers:be})}});return}return await Ln(Se,X,{submission:K,pendingError:Y,preventScrollReset:Ve,replace:R&&R.replace,enableViewTransition:R&&R.unstable_viewTransition})}function ju(){if(Uh(),Oe({revalidation:"loading"}),y.navigation.state!=="submitting"){if(y.navigation.state==="idle"){Ln(y.historyAction,y.location,{startUninterruptedRevalidation:!0});return}Ln(I||y.historyAction,y.navigation.location,{overrideNavigation:y.navigation})}}async function Ln(T,R,D){b&&b.abort(),b=null,I=T,j=(D&&D.startUninterruptedRevalidation)===!0,ox(y.location,y.matches),S=(D&&D.preventScrollReset)===!0,C=(D&&D.enableViewTransition)===!0;let F=a||s,K=D&&D.overrideNavigation,Y=as(F,R,l);if(!Y){let be=In(404,{pathname:R.pathname}),{matches:it,route:$i}=K0(F);Bh(),wn(R,{matches:it,loaderData:{},errors:{[$i.id]:be}});return}if(y.initialized&&!Ee&&_N(y.location,R)&&!(D&&D.submission&&Bn(D.submission.formMethod))){wn(R,{matches:Y});return}b=new AbortController;let ne=wa(t.history,R,b.signal,D&&D.submission),X,G;if(D&&D.pendingError)G={[Ya(Y).route.id]:D.pendingError};else if(D&&D.submission&&Bn(D.submission.formMethod)){let be=await Uo(ne,R,D.submission,Y,{replace:D.replace});if(be.shortCircuited)return;X=be.pendingActionData,G=be.pendingActionError,K=wp(R,D.submission),ne=new Request(ne.url,{signal:ne.signal})}let{shortCircuited:Se,loaderData:Ve,errors:de}=await zu(ne,R,Y,K,D&&D.submission,D&&D.fetcherSubmission,D&&D.replace,X,G);Se||(b=null,wn(R,We({matches:Y},X?{actionData:X}:{},{loaderData:Ve,errors:de})))}async function Uo(T,R,D,F,K){K===void 0&&(K={}),Uh();let Y=TN(R,D);Oe({navigation:Y});let ne,X=fm(F,R);if(!X.route.action&&!X.route.lazy)ne={type:Xe.error,error:In(405,{method:T.method,pathname:R.pathname,routeId:X.route.id})};else if(ne=await _a("action",T,X,F,o,i,l),T.signal.aborted)return{shortCircuited:!0};if(ms(ne)){let G;return K&&K.replace!=null?G=K.replace:G=ne.location===y.location.pathname+y.location.search,await gr(y,ne,{submission:D,replace:G}),{shortCircuited:!0}}if(Xa(ne)){let G=Ya(F,X.route.id);return(K&&K.replace)!==!0&&(I=Ye.Push),{pendingActionData:{},pendingActionError:{[G.route.id]:ne.error}}}if(Yi(ne))throw In(400,{type:"defer-action"});return{pendingActionData:{[X.route.id]:ne.data}}}async function zu(T,R,D,F,K,Y,ne,X,G){let Se=F||wp(R,K),Ve=K||Y||X0(Se),de=a||s,[be,it]=j0(t.history,y,D,Ve,R,Ee,Le,ve,W,z,de,l,X,G);if(Bh(Ie=>!(D&&D.some(Vn=>Vn.route.id===Ie))||be&&be.some(Vn=>Vn.route.id===Ie)),Ct=++Ke,be.length===0&&it.length===0){let Ie=Iw();return wn(R,We({matches:D,loaderData:{},errors:G||null},X?{actionData:X}:{},Ie?{fetchers:new Map(y.fetchers)}:{})),{shortCircuited:!0}}if(!j){it.forEach(Vn=>{let $r=y.fetchers.get(Vn.key),Qe=Ea(void 0,$r?$r.data:void 0);y.fetchers.set(Vn.key,Qe)});let Ie=X||y.actionData;Oe(We({navigation:Se},Ie?Object.keys(Ie).length===0?{actionData:null}:{actionData:Ie}:{},it.length>0?{fetchers:new Map(y.fetchers)}:{}))}it.forEach(Ie=>{le.has(Ie.key)&&Vr(Ie.key),Ie.controller&&le.set(Ie.key,Ie.controller)});let $i=()=>it.forEach(Ie=>Vr(Ie.key));b&&b.signal.addEventListener("abort",$i);let{results:Ui,loaderResults:la,fetcherResults:jh}=await ww(y.matches,D,be,it,T);if(T.signal.aborted)return{shortCircuited:!0};b&&b.signal.removeEventListener("abort",$i),it.forEach(Ie=>le.delete(Ie.key));let mr=Q0(Ui);if(mr){if(mr.idx>=be.length){let Ie=it[mr.idx-be.length].key;z.add(Ie)}return await gr(y,mr.result,{replace:ne}),{shortCircuited:!0}}let{loaderData:Fr,errors:qu}=q0(y,D,be,la,G,it,jh,lt);lt.forEach((Ie,Vn)=>{Ie.subscribe($r=>{($r||Ie.done)&&lt.delete(Vn)})});let zh=Iw(),Wh=Tw(Ct),Hh=zh||Wh||it.length>0;return We({loaderData:Fr,errors:qu},Hh?{fetchers:new Map(y.fetchers)}:{})}function Bo(T){return u.v7_fetcherPersist&&(ue.set(T,(ue.get(T)||0)+1),ie.has(T)&&ie.delete(T)),y.fetchers.get(T)||fN}function sa(T,R,D,F){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");le.has(T)&&Vr(T);let K=a||s,Y=cm(y.location,y.matches,l,u.v7_prependBasename,D,R,F==null?void 0:F.relative),ne=as(K,Y,l);if(!ne){aa(T,R,In(404,{pathname:Y}));return}let{path:X,submission:G,error:Se}=B0(u.v7_normalizeFormMethod,!0,Y,F);if(Se){aa(T,R,Se);return}let Ve=fm(ne,X);if(S=(F&&F.preventScrollReset)===!0,G&&Bn(G.formMethod)){$h(T,R,X,Ve,ne,G);return}W.set(T,{routeId:R,path:X}),Fi(T,R,X,Ve,ne,G)}async function $h(T,R,D,F,K,Y){if(Uh(),W.delete(T),!F.route.action&&!F.route.lazy){let Qe=In(405,{method:Y.formMethod,pathname:D,routeId:R});aa(T,R,Qe);return}let ne=y.fetchers.get(T),X=SN(Y,ne);y.fetchers.set(T,X),Oe({fetchers:new Map(y.fetchers)});let G=new AbortController,Se=wa(t.history,D,G.signal,Y);le.set(T,G);let Ve=Ke,de=await _a("action",Se,F,K,o,i,l);if(Se.signal.aborted){le.get(T)===G&&le.delete(T);return}if(ie.has(T)){y.fetchers.set(T,jr(void 0)),Oe({fetchers:new Map(y.fetchers)});return}if(ms(de))if(le.delete(T),Ct>Ve){let Qe=jr(void 0);y.fetchers.set(T,Qe),Oe({fetchers:new Map(y.fetchers)});return}else{z.add(T);let Qe=Ea(Y);return y.fetchers.set(T,Qe),Oe({fetchers:new Map(y.fetchers)}),gr(y,de,{fetcherSubmission:Y})}if(Xa(de)){aa(T,R,de.error);return}if(Yi(de))throw In(400,{type:"defer-action"});let be=y.navigation.location||y.location,it=wa(t.history,be,G.signal),$i=a||s,Ui=y.navigation.state!=="idle"?as($i,y.navigation.location,l):y.matches;oe(Ui,"Didn't find any matches after fetcher action");let la=++Ke;L.set(T,la);let jh=Ea(Y,de.data);y.fetchers.set(T,jh);let[mr,Fr]=j0(t.history,y,Ui,Y,be,Ee,Le,ve,W,z,$i,l,{[F.route.id]:de.data},void 0);Fr.filter(Qe=>Qe.key!==T).forEach(Qe=>{let ua=Qe.key,Cw=y.fetchers.get(ua),ax=Ea(void 0,Cw?Cw.data:void 0);y.fetchers.set(ua,ax),le.has(ua)&&Vr(ua),Qe.controller&&le.set(ua,Qe.controller)}),Oe({fetchers:new Map(y.fetchers)});let qu=()=>Fr.forEach(Qe=>Vr(Qe.key));G.signal.addEventListener("abort",qu);let{results:zh,loaderResults:Wh,fetcherResults:Hh}=await ww(y.matches,Ui,mr,Fr,it);if(G.signal.aborted)return;G.signal.removeEventListener("abort",qu),L.delete(T),le.delete(T),Fr.forEach(Qe=>le.delete(Qe.key));let Ie=Q0(zh);if(Ie){if(Ie.idx>=mr.length){let Qe=Fr[Ie.idx-mr.length].key;z.add(Qe)}return gr(y,Ie.result)}let{loaderData:Vn,errors:$r}=q0(y,y.matches,mr,Wh,void 0,Fr,Hh,lt);if(y.fetchers.has(T)){let Qe=jr(de.data);y.fetchers.set(T,Qe)}Tw(la),y.navigation.state==="loading"&&la>Ct?(oe(I,"Expected pending action"),b&&b.abort(),wn(y.navigation.location,{matches:Ui,loaderData:Vn,errors:$r,fetchers:new Map(y.fetchers)})):(Oe({errors:$r,loaderData:G0(y.loaderData,Vn,Ui,$r),fetchers:new Map(y.fetchers)}),Ee=!1)}async function Fi(T,R,D,F,K,Y){let ne=y.fetchers.get(T),X=Ea(Y,ne?ne.data:void 0);y.fetchers.set(T,X),Oe({fetchers:new Map(y.fetchers)});let G=new AbortController,Se=wa(t.history,D,G.signal);le.set(T,G);let Ve=Ke,de=await _a("loader",Se,F,K,o,i,l);if(Yi(de)&&(de=await f1(de,Se.signal,!0)||de),le.get(T)===G&&le.delete(T),Se.signal.aborted)return;if(ie.has(T)){y.fetchers.set(T,jr(void 0)),Oe({fetchers:new Map(y.fetchers)});return}if(ms(de))if(Ct>Ve){let it=jr(void 0);y.fetchers.set(T,it),Oe({fetchers:new Map(y.fetchers)});return}else{z.add(T),await gr(y,de);return}if(Xa(de)){aa(T,R,de.error);return}oe(!Yi(de),"Unhandled fetcher deferred data");let be=jr(de.data);y.fetchers.set(T,be),Oe({fetchers:new Map(y.fetchers)})}async function gr(T,R,D){let{submission:F,fetcherSubmission:K,replace:Y}=D===void 0?{}:D;R.revalidate&&(Ee=!0);let ne=bl(T.location,R.location,{_isRedirect:!0});if(oe(ne,"Expected a location on the redirect navigation"),n){let be=!1;if(R.reloadDocument)be=!0;else if(l1.test(R.location)){const it=t.history.createURL(R.location);be=it.origin!==e.location.origin||Gs(it.pathname,l)==null}if(be){Y?e.location.replace(R.location):e.location.assign(R.location);return}}b=null;let X=Y===!0?Ye.Replace:Ye.Push,{formMethod:G,formAction:Se,formEncType:Ve}=T.navigation;!F&&!K&&G&&Se&&Ve&&(F=X0(T.navigation));let de=F||K;if(dN.has(R.status)&&de&&Bn(de.formMethod))await Ln(X,ne,{submission:We({},de,{formAction:R.location}),preventScrollReset:S});else{let be=wp(ne,F);await Ln(X,ne,{overrideNavigation:be,fetcherSubmission:K,preventScrollReset:S})}}async function ww(T,R,D,F,K){let Y=await Promise.all([...D.map(G=>_a("loader",K,G,R,o,i,l)),...F.map(G=>G.matches&&G.match&&G.controller?_a("loader",wa(t.history,G.path,G.controller.signal),G.match,G.matches,o,i,l):{type:Xe.error,error:In(404,{pathname:G.path})})]),ne=Y.slice(0,D.length),X=Y.slice(D.length);return await Promise.all([Y0(T,D,ne,ne.map(()=>K.signal),!1,y.loaderData),Y0(T,F.map(G=>G.match),X,F.map(G=>G.controller?G.controller.signal:null),!0)]),{results:Y,loaderResults:ne,fetcherResults:X}}function Uh(){Ee=!0,Le.push(...Bh()),W.forEach((T,R)=>{le.has(R)&&(ve.push(R),Vr(R))})}function aa(T,R,D){let F=Ya(y.matches,R);Wu(T),Oe({errors:{[F.route.id]:D},fetchers:new Map(y.fetchers)})}function Wu(T){let R=y.fetchers.get(T);le.has(T)&&!(R&&R.state==="loading"&&L.has(T))&&Vr(T),W.delete(T),L.delete(T),z.delete(T),ie.delete(T),y.fetchers.delete(T)}function nx(T){if(u.v7_fetcherPersist){let R=(ue.get(T)||0)-1;R<=0?(ue.delete(T),ie.add(T)):ue.set(T,R)}else Wu(T);Oe({fetchers:new Map(y.fetchers)})}function Vr(T){let R=le.get(T);oe(R,"Expected fetch controller: "+T),R.abort(),le.delete(T)}function Ew(T){for(let R of T){let D=Bo(R),F=jr(D.data);y.fetchers.set(R,F)}}function Iw(){let T=[],R=!1;for(let D of z){let F=y.fetchers.get(D);oe(F,"Expected fetcher: "+D),F.state==="loading"&&(z.delete(D),T.push(D),R=!0)}return Ew(T),R}function Tw(T){let R=[];for(let[D,F]of L)if(F<T){let K=y.fetchers.get(D);oe(K,"Expected fetcher: "+D),K.state==="loading"&&(Vr(D),L.delete(D),R.push(D))}return Ew(R),R.length>0}function rx(T,R){let D=y.blockers.get(T)||ya;return Ze.get(T)!==R&&Ze.set(T,R),D}function Sw(T){y.blockers.delete(T),Ze.delete(T)}function Hu(T,R){let D=y.blockers.get(T)||ya;oe(D.state==="unblocked"&&R.state==="blocked"||D.state==="blocked"&&R.state==="blocked"||D.state==="blocked"&&R.state==="proceeding"||D.state==="blocked"&&R.state==="unblocked"||D.state==="proceeding"&&R.state==="unblocked","Invalid blocker state transition: "+D.state+" -> "+R.state);let F=new Map(y.blockers);F.set(T,R),Oe({blockers:F})}function bw(T){let{currentLocation:R,nextLocation:D,historyAction:F}=T;if(Ze.size===0)return;Ze.size>1&&po(!1,"A router only supports one blocker at a time");let K=Array.from(Ze.entries()),[Y,ne]=K[K.length-1],X=y.blockers.get(Y);if(!(X&&X.state==="proceeding")&&ne({currentLocation:R,nextLocation:D,historyAction:F}))return Y}function Bh(T){let R=[];return lt.forEach((D,F)=>{(!T||T(F))&&(D.cancel(),R.push(F),lt.delete(F))}),R}function ix(T,R,D){if(f=T,p=R,h=D||null,!m&&y.navigation===_p){m=!0;let F=Aw(y.location,y.matches);F!=null&&Oe({restoreScrollPosition:F})}return()=>{f=null,p=null,h=null}}function Rw(T,R){return h&&h(T,R.map(F=>BO(F,y.loaderData)))||T.key}function ox(T,R){if(f&&p){let D=Rw(T,R);f[D]=p()}}function Aw(T,R){if(f){let D=Rw(T,R),F=f[D];if(typeof F=="number")return F}return null}function sx(T){o={},a=um(T,i,void 0,o)}return _={get basename(){return l},get state(){return y},get routes(){return s},get window(){return e},initialize:Kt,subscribe:Fo,enableScrollRestoration:ix,navigate:$o,fetch:sa,revalidate:ju,createHref:T=>t.history.createHref(T),encodeLocation:T=>t.history.encodeLocation(T),getFetcher:Bo,deleteFetcher:nx,dispose:Mn,getBlocker:rx,deleteBlocker:Sw,_internalFetchControllers:le,_internalActiveDeferreds:lt,_internalSetRoutes:sx},_}function gN(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function cm(t,e,n,r,i,o,s){let a,l;if(o!=null&&s!=="path"){a=[];for(let c of e)if(a.push(c),c.route.id===o){l=c;break}}else a=e,l=e[e.length-1];let u=iy(i||".",wf(a).map(c=>c.pathnameBase),Gs(t.pathname,n)||t.pathname,s==="path");return i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!sy(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:br([n,u.pathname])),go(u)}function B0(t,e,n,r){if(!r||!gN(r))return{path:n};if(r.formMethod&&!IN(r.formMethod))return{path:n,error:In(405,{method:r.formMethod})};let i=()=>({path:n,error:In(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),a=d1(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Bn(s))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((h,p)=>{let[m,w]=p;return""+h+m+"="+w+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Bn(s))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}oe(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=dm(r.formData),u=r.formData;else if(r.body instanceof FormData)l=dm(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=H0(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=H0(l)}catch{return i()}let c={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Bn(c.formMethod))return{path:n,submission:c};let d=Lr(n);return e&&d.search&&sy(d.search)&&l.append("index",""),d.search="?"+l,{path:go(d),submission:c}}function mN(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function j0(t,e,n,r,i,o,s,a,l,u,c,d,f,h){let p=h?Object.values(h)[0]:f?Object.values(f)[0]:void 0,m=t.createURL(e.location),w=t.createURL(i),g=h?Object.keys(h)[0]:void 0,_=mN(n,g).filter((I,S)=>{if(I.route.lazy)return!0;if(I.route.loader==null)return!1;if(vN(e.loaderData,e.matches[S],I)||s.some(O=>O===I.route.id))return!0;let b=e.matches[S],C=I;return z0(I,We({currentUrl:m,currentParams:b.params,nextUrl:w,nextParams:C.params},r,{actionResult:p,defaultShouldRevalidate:o||m.pathname+m.search===w.pathname+w.search||m.search!==w.search||c1(b,C)}))}),y=[];return l.forEach((I,S)=>{if(!n.some(j=>j.route.id===I.routeId))return;let b=as(c,I.path,d);if(!b){y.push({key:S,routeId:I.routeId,path:I.path,matches:null,match:null,controller:null});return}let C=e.fetchers.get(S),O=fm(b,I.path),N=!1;u.has(S)?N=!1:a.includes(S)?N=!0:C&&C.state!=="idle"&&C.data===void 0?N=o:N=z0(O,We({currentUrl:m,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:p,defaultShouldRevalidate:o})),N&&y.push({key:S,routeId:I.routeId,path:I.path,matches:b,match:O,controller:new AbortController})}),[_,y]}function vN(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function c1(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function z0(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function W0(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];oe(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";po(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!$O.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,We({},e(i),{lazy:void 0}))}async function _a(t,e,n,r,i,o,s,a){a===void 0&&(a={});let l,u,c,d=p=>{let m,w=new Promise((g,v)=>m=v);return c=()=>m(),e.signal.addEventListener("abort",c),Promise.race([p({request:e,params:n.params,context:a.requestContext}),w])};try{let p=n.route[t];if(n.route.lazy)if(p){let m,w=await Promise.all([d(p).catch(g=>{m=g}),W0(n.route,o,i)]);if(m)throw m;u=w[0]}else if(await W0(n.route,o,i),p=n.route[t],p)u=await d(p);else if(t==="action"){let m=new URL(e.url),w=m.pathname+m.search;throw In(405,{method:e.method,pathname:w,routeId:n.route.id})}else return{type:Xe.data,data:void 0};else if(p)u=await d(p);else{let m=new URL(e.url),w=m.pathname+m.search;throw In(404,{pathname:w})}oe(u!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(p){l=Xe.error,u=p}finally{c&&e.signal.removeEventListener("abort",c)}if(EN(u)){let p=u.status;if(cN.has(p)){let g=u.headers.get("Location");if(oe(g,"Redirects returned/thrown from loaders/actions must have a Location header"),!l1.test(g))g=cm(new URL(e.url),r.slice(0,r.indexOf(n)+1),s,!0,g);else if(!a.isStaticRequest){let v=new URL(e.url),_=g.startsWith("//")?new URL(v.protocol+g):new URL(g),y=Gs(_.pathname,s)!=null;_.origin===v.origin&&y&&(g=_.pathname+_.search+_.hash)}if(a.isStaticRequest)throw u.headers.set("Location",g),u;return{type:Xe.redirect,status:p,location:g,revalidate:u.headers.get("X-Remix-Revalidate")!==null,reloadDocument:u.headers.get("X-Remix-Reload-Document")!==null}}if(a.isRouteRequest)throw{type:l===Xe.error?Xe.error:Xe.data,response:u};let m,w=u.headers.get("Content-Type");return w&&/\bapplication\/json\b/.test(w)?m=await u.json():m=await u.text(),l===Xe.error?{type:l,error:new oy(p,u.statusText,m),headers:u.headers}:{type:Xe.data,data:m,statusCode:u.status,headers:u.headers}}if(l===Xe.error)return{type:l,error:u};if(wN(u)){var f,h;return{type:Xe.deferred,deferredData:u,statusCode:(f=u.init)==null?void 0:f.status,headers:((h=u.init)==null?void 0:h.headers)&&new Headers(u.init.headers)}}return{type:Xe.data,data:u}}function wa(t,e,n,r){let i=t.createURL(d1(e)).toString(),o={signal:n};if(r&&Bn(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=dm(r.formData):o.body=r.formData}return new Request(i,o)}function dm(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function H0(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function yN(t,e,n,r,i){let o={},s=null,a,l=!1,u={};return n.forEach((c,d)=>{let f=e[d].route.id;if(oe(!ms(c),"Cannot handle redirect results in processLoaderData"),Xa(c)){let h=Ya(t,f),p=c.error;r&&(p=Object.values(r)[0],r=void 0),s=s||{},s[h.route.id]==null&&(s[h.route.id]=p),o[f]=void 0,l||(l=!0,a=s1(c.error)?c.error.status:500),c.headers&&(u[f]=c.headers)}else Yi(c)?(i.set(f,c.deferredData),o[f]=c.deferredData.data):o[f]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[f]=c.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:u}}function q0(t,e,n,r,i,o,s,a){let{loaderData:l,errors:u}=yN(e,n,r,i,a);for(let c=0;c<o.length;c++){let{key:d,match:f,controller:h}=o[c];oe(s!==void 0&&s[c]!==void 0,"Did not find corresponding fetcher result");let p=s[c];if(!(h&&h.signal.aborted))if(Xa(p)){let m=Ya(t.matches,f==null?void 0:f.route.id);u&&u[m.route.id]||(u=We({},u,{[m.route.id]:p.error})),t.fetchers.delete(d)}else if(ms(p))oe(!1,"Unhandled fetcher revalidation redirect");else if(Yi(p))oe(!1,"Unhandled fetcher deferred data");else{let m=jr(p.data);t.fetchers.set(d,m)}}return{loaderData:l,errors:u}}function G0(t,e,n,r){let i=We({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function Ya(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function K0(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function In(t,e){let{pathname:n,routeId:r,method:i,type:o}=e===void 0?{}:e,s="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):t===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",a='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new oy(t||500,s,new Error(a),!0)}function Q0(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(ms(n))return{result:n,idx:e}}}function d1(t){let e=typeof t=="string"?Lr(t):t;return go(We({},e,{hash:""}))}function _N(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Yi(t){return t.type===Xe.deferred}function Xa(t){return t.type===Xe.error}function ms(t){return(t&&t.type)===Xe.redirect}function wN(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function EN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function IN(t){return uN.has(t.toLowerCase())}function Bn(t){return aN.has(t.toLowerCase())}async function Y0(t,e,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=e[s];if(!l)continue;let u=t.find(d=>d.route.id===l.route.id),c=u!=null&&!c1(u,l)&&(o&&o[l.route.id])!==void 0;if(Yi(a)&&(i||c)){let d=r[s];oe(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await f1(a,d,i).then(f=>{f&&(n[s]=f||n[s])})}}}async function f1(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Xe.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Xe.error,error:i}}return{type:Xe.data,data:t.deferredData.data}}}function sy(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function fm(t,e){let n=typeof e=="string"?Lr(e).search:e.search;if(t[t.length-1].route.index&&sy(n||""))return t[t.length-1];let r=wf(t);return r[r.length-1]}function X0(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function wp(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function TN(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ea(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function SN(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function jr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function bN(t,e){try{let n=t.sessionStorage.getItem(u1);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function RN(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(u1,JSON.stringify(n))}catch(r){po(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vd(){return vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vd.apply(this,arguments)}const Ef=E.createContext(null),h1=E.createContext(null),Ks=E.createContext(null),If=E.createContext(null),Do=E.createContext({outlet:null,matches:[],isDataRoute:!1}),p1=E.createContext(null);function AN(t,e){let{relative:n}=e===void 0?{}:e;au()||oe(!1);let{basename:r,navigator:i}=E.useContext(Ks),{hash:o,pathname:s,search:a}=m1(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:br([r,s])),i.createHref({pathname:l,search:a,hash:o})}function au(){return E.useContext(If)!=null}function lu(){return au()||oe(!1),E.useContext(If).location}function g1(t){E.useContext(Ks).static||E.useLayoutEffect(t)}function xo(){let{isDataRoute:t}=E.useContext(Do);return t?$N():CN()}function CN(){au()||oe(!1);let t=E.useContext(Ef),{basename:e,navigator:n}=E.useContext(Ks),{matches:r}=E.useContext(Do),{pathname:i}=lu(),o=JSON.stringify(wf(r).map(l=>l.pathnameBase)),s=E.useRef(!1);return g1(()=>{s.current=!0}),E.useCallback(function(l,u){if(u===void 0&&(u={}),!s.current)return;if(typeof l=="number"){n.go(l);return}let c=iy(l,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:br([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,o,i,t])}function m1(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=E.useContext(Do),{pathname:i}=lu(),o=JSON.stringify(wf(r).map(s=>s.pathnameBase));return E.useMemo(()=>iy(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function PN(t,e){return v1(t,e)}function v1(t,e,n){au()||oe(!1);let{navigator:r}=E.useContext(Ks),{matches:i}=E.useContext(Do),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l=lu(),u;if(e){var c;let m=typeof e=="string"?Lr(e):e;a==="/"||(c=m.pathname)!=null&&c.startsWith(a)||oe(!1),u=m}else u=l;let d=u.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",h=as(t,{pathname:f}),p=NN(h&&h.map(m=>Object.assign({},m,{params:Object.assign({},s,m.params),pathname:br([a,r.encodeLocation?r.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?a:br([a,r.encodeLocation?r.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,n);return e&&p?E.createElement(If.Provider,{value:{location:vd({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ye.Pop}},p):p}function DN(){let t=FN(),e=s1(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,o)}const xN=E.createElement(DN,null);class kN extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?E.createElement(Do.Provider,{value:this.props.routeContext},E.createElement(p1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ON(t){let{routeContext:e,match:n,children:r}=t,i=E.useContext(Ef);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(Do.Provider,{value:e},r)}function NN(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,s=(r=n)==null?void 0:r.errors;if(s!=null){let a=o.findIndex(l=>l.route.id&&(s==null?void 0:s[l.route.id]));a>=0||oe(!1),o=o.slice(0,Math.min(o.length,a+1))}return o.reduceRight((a,l,u)=>{let c=l.route.id?s==null?void 0:s[l.route.id]:null,d=null;n&&(d=l.route.errorElement||xN);let f=e.concat(o.slice(0,u+1)),h=()=>{let p;return c?p=d:l.route.Component?p=E.createElement(l.route.Component,null):l.route.element?p=l.route.element:p=a,E.createElement(ON,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:p})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?E.createElement(kN,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:h(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):h()},null)}var y1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(y1||{}),yd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(yd||{});function MN(t){let e=E.useContext(Ef);return e||oe(!1),e}function LN(t){let e=E.useContext(h1);return e||oe(!1),e}function VN(t){let e=E.useContext(Do);return e||oe(!1),e}function _1(t){let e=VN(),n=e.matches[e.matches.length-1];return n.route.id||oe(!1),n.route.id}function FN(){var t;let e=E.useContext(p1),n=LN(yd.UseRouteError),r=_1(yd.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function $N(){let{router:t}=MN(y1.UseNavigateStable),e=_1(yd.UseNavigateStable),n=E.useRef(!1);return g1(()=>{n.current=!0}),E.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,vd({fromRouteId:e},o)))},[t,e])}function Ho(t){oe(!1)}function UN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ye.Pop,navigator:o,static:s=!1}=t;au()&&oe(!1);let a=e.replace(/^\/*/,"/"),l=E.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=Lr(r));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:h="default"}=r,p=E.useMemo(()=>{let m=Gs(u,a);return m==null?null:{location:{pathname:m,search:c,hash:d,state:f,key:h},navigationType:i}},[a,u,c,d,f,h,i]);return p==null?null:E.createElement(Ks.Provider,{value:l},E.createElement(If.Provider,{children:n,value:p}))}function BN(t){let{children:e,location:n}=t;return PN(hm(e),n)}new Promise(()=>{});function hm(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let o=[...e,i];if(r.type===E.Fragment){n.push.apply(n,hm(r.props.children,o));return}r.type!==Ho&&oe(!1),!r.props.index||!r.props.children||oe(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=hm(r.props.children,o)),n.push(s)}),n}function jN(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:E.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:E.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rl(){return Rl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rl.apply(this,arguments)}function zN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function WN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function HN(t,e){return t.button===0&&(!e||e==="_self")&&!WN(t)}const qN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];function GN(t,e){return pN({basename:e==null?void 0:e.basename,future:Rl({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:LO({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||KN(),routes:t,mapRouteProperties:jN,window:e==null?void 0:e.window}).initialize()}function KN(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Rl({},e,{errors:QN(e.errors)})),e}function QN(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new oy(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const YN=E.createContext({isTransitioning:!1}),XN=E.createContext(new Map),JN="startTransition",J0=Sx[JN];function ZN(t){J0?J0(t):t()}let eM=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function tM(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=E.useState(n.state),[s,a]=E.useState(),[l,u]=E.useState({isTransitioning:!1}),[c,d]=E.useState(),[f,h]=E.useState(),[p,m]=E.useState(),w=E.useRef(new Map),{v7_startTransition:g}=r||{},v=E.useCallback(b=>{g?ZN(b):b()},[g]),_=E.useCallback((b,C)=>{let{deletedFetchers:O,unstable_viewTransitionOpts:N}=C;O.forEach(j=>w.current.delete(j)),b.fetchers.forEach((j,Ee)=>{j.data!==void 0&&w.current.set(Ee,j.data)}),!N||n.window==null||typeof n.window.document.startViewTransition!="function"?v(()=>o(b)):f&&c?(c.resolve(),f.skipTransition(),m({state:b,currentLocation:N.currentLocation,nextLocation:N.nextLocation})):(a(b),u({isTransitioning:!0,currentLocation:N.currentLocation,nextLocation:N.nextLocation}))},[n.window,f,c,w,v]);E.useLayoutEffect(()=>n.subscribe(_),[n,_]),E.useEffect(()=>{l.isTransitioning&&d(new eM)},[l.isTransitioning]),E.useEffect(()=>{if(c&&s&&n.window){let b=s,C=c.promise,O=n.window.document.startViewTransition(async()=>{v(()=>o(b)),await C});O.finished.finally(()=>{d(void 0),h(void 0),a(void 0),u({isTransitioning:!1})}),h(O)}},[v,s,c,n.window]),E.useEffect(()=>{c&&s&&i.location.key===s.location.key&&c.resolve()},[c,f,i.location,s]),E.useEffect(()=>{!l.isTransitioning&&p&&(a(p.state),u({isTransitioning:!0,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),m(void 0))},[l.isTransitioning,p]);let y=E.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:b=>n.navigate(b),push:(b,C,O)=>n.navigate(b,{state:C,preventScrollReset:O==null?void 0:O.preventScrollReset}),replace:(b,C,O)=>n.navigate(b,{replace:!0,state:C,preventScrollReset:O==null?void 0:O.preventScrollReset})}),[n]),I=n.basename||"/",S=E.useMemo(()=>({router:n,navigator:y,static:!1,basename:I}),[n,y,I]);return E.createElement(E.Fragment,null,E.createElement(Ef.Provider,{value:S},E.createElement(h1.Provider,{value:i},E.createElement(XN.Provider,{value:w.current},E.createElement(YN.Provider,{value:l},E.createElement(UN,{basename:I,location:i.location,navigationType:i.historyAction,navigator:y},i.initialized?E.createElement(nM,{routes:n.routes,state:i}):e))))),null)}function nM(t){let{routes:e,state:n}=t;return v1(e,void 0,n)}const rM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cc=E.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=e,f=zN(e,qN),{basename:h}=E.useContext(Ks),p,m=!1;if(typeof u=="string"&&iM.test(u)&&(p=u,rM))try{let _=new URL(window.location.href),y=u.startsWith("//")?new URL(_.protocol+u):new URL(u),I=Gs(y.pathname,h);y.origin===_.origin&&I!=null?u=I+y.search+y.hash:m=!0}catch{}let w=AN(u,{relative:i}),g=oM(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:d});function v(_){r&&r(_),_.defaultPrevented||g(_)}return E.createElement("a",Rl({},f,{href:p||w,onClick:m||o?r:v,ref:n,target:l}))});var Z0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Z0||(Z0={}));var eE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(eE||(eE={}));function oM(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a}=e===void 0?{}:e,l=xo(),u=lu(),c=m1(t,{relative:s});return E.useCallback(d=>{if(HN(d,n)){d.preventDefault();let f=r!==void 0?r:go(u)===go(c);l(t,{replace:f,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,o,s,a])}var w1={exports:{}},E1={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xs=E;function sM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var aM=typeof Object.is=="function"?Object.is:sM,lM=xs.useState,uM=xs.useEffect,cM=xs.useLayoutEffect,dM=xs.useDebugValue;function fM(t,e){var n=e(),r=lM({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return cM(function(){i.value=n,i.getSnapshot=e,Ep(i)&&o({inst:i})},[t,n,e]),uM(function(){return Ep(i)&&o({inst:i}),t(function(){Ep(i)&&o({inst:i})})},[t]),dM(n),n}function Ep(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!aM(t,n)}catch{return!0}}function hM(t,e){return e()}var pM=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?hM:fM;E1.useSyncExternalStore=xs.useSyncExternalStore!==void 0?xs.useSyncExternalStore:pM;w1.exports=E1;var gM=w1.exports,I1={exports:{}},T1={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tf=E,mM=gM;function vM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yM=typeof Object.is=="function"?Object.is:vM,_M=mM.useSyncExternalStore,wM=Tf.useRef,EM=Tf.useEffect,IM=Tf.useMemo,TM=Tf.useDebugValue;T1.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=wM(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=IM(function(){function l(h){if(!u){if(u=!0,c=h,h=r(h),i!==void 0&&s.hasValue){var p=s.value;if(i(p,h))return d=p}return d=h}if(p=d,yM(c,h))return p;var m=r(h);return i!==void 0&&i(p,m)?p:(c=h,d=m)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=_M(t,o[0],o[1]);return EM(function(){s.hasValue=!0,s.value=a},[a]),TM(a),a};I1.exports=T1;var SM=I1.exports;function bM(t){t()}let S1=bM;const RM=t=>S1=t,AM=()=>S1,tE=Symbol.for("react-redux-context"),nE=typeof globalThis<"u"?globalThis:{};function CM(){var t;if(!E.createContext)return{};const e=(t=nE[tE])!=null?t:nE[tE]=new Map;let n=e.get(E.createContext);return n||(n=E.createContext(null),e.set(E.createContext,n)),n}const Ei=CM();function ay(t=Ei){return function(){return E.useContext(t)}}const b1=ay(),PM=()=>{throw new Error("uSES not initialized!")};let R1=PM;const DM=t=>{R1=t},xM=(t,e)=>t===e;function kM(t=Ei){const e=t===Ei?b1:ay(t);return function(r,i={}){const{equalityFn:o=xM,stabilityCheck:s=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:l,subscription:u,getServerState:c,stabilityCheck:d,noopCheck:f}=e();E.useRef(!0);const h=E.useCallback({[r.name](m){return r(m)}}[r.name],[r,d,s]),p=R1(u.addNestedSub,l.getState,c||l.getState,h,o);return E.useDebugValue(p),p}}const OM=kM();function Q(){return Q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q.apply(this,arguments)}function _d(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var A1={exports:{}},we={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gt=typeof Symbol=="function"&&Symbol.for,ly=gt?Symbol.for("react.element"):60103,uy=gt?Symbol.for("react.portal"):60106,Sf=gt?Symbol.for("react.fragment"):60107,bf=gt?Symbol.for("react.strict_mode"):60108,Rf=gt?Symbol.for("react.profiler"):60114,Af=gt?Symbol.for("react.provider"):60109,Cf=gt?Symbol.for("react.context"):60110,cy=gt?Symbol.for("react.async_mode"):60111,Pf=gt?Symbol.for("react.concurrent_mode"):60111,Df=gt?Symbol.for("react.forward_ref"):60112,xf=gt?Symbol.for("react.suspense"):60113,NM=gt?Symbol.for("react.suspense_list"):60120,kf=gt?Symbol.for("react.memo"):60115,Of=gt?Symbol.for("react.lazy"):60116,MM=gt?Symbol.for("react.block"):60121,LM=gt?Symbol.for("react.fundamental"):60117,VM=gt?Symbol.for("react.responder"):60118,FM=gt?Symbol.for("react.scope"):60119;function _n(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case ly:switch(t=t.type,t){case cy:case Pf:case Sf:case Rf:case bf:case xf:return t;default:switch(t=t&&t.$$typeof,t){case Cf:case Df:case Of:case kf:case Af:return t;default:return e}}case uy:return e}}}function C1(t){return _n(t)===Pf}we.AsyncMode=cy;we.ConcurrentMode=Pf;we.ContextConsumer=Cf;we.ContextProvider=Af;we.Element=ly;we.ForwardRef=Df;we.Fragment=Sf;we.Lazy=Of;we.Memo=kf;we.Portal=uy;we.Profiler=Rf;we.StrictMode=bf;we.Suspense=xf;we.isAsyncMode=function(t){return C1(t)||_n(t)===cy};we.isConcurrentMode=C1;we.isContextConsumer=function(t){return _n(t)===Cf};we.isContextProvider=function(t){return _n(t)===Af};we.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===ly};we.isForwardRef=function(t){return _n(t)===Df};we.isFragment=function(t){return _n(t)===Sf};we.isLazy=function(t){return _n(t)===Of};we.isMemo=function(t){return _n(t)===kf};we.isPortal=function(t){return _n(t)===uy};we.isProfiler=function(t){return _n(t)===Rf};we.isStrictMode=function(t){return _n(t)===bf};we.isSuspense=function(t){return _n(t)===xf};we.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Sf||t===Pf||t===Rf||t===bf||t===xf||t===NM||typeof t=="object"&&t!==null&&(t.$$typeof===Of||t.$$typeof===kf||t.$$typeof===Af||t.$$typeof===Cf||t.$$typeof===Df||t.$$typeof===LM||t.$$typeof===VM||t.$$typeof===FM||t.$$typeof===MM)};we.typeOf=_n;A1.exports=we;var $M=A1.exports,dy=$M,UM={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},BM={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},jM={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},P1={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},fy={};fy[dy.ForwardRef]=jM;fy[dy.Memo]=P1;function rE(t){return dy.isMemo(t)?P1:fy[t.$$typeof]||UM}var zM=Object.defineProperty,WM=Object.getOwnPropertyNames,iE=Object.getOwnPropertySymbols,HM=Object.getOwnPropertyDescriptor,qM=Object.getPrototypeOf,oE=Object.prototype;function D1(t,e,n){if(typeof e!="string"){if(oE){var r=qM(e);r&&r!==oE&&D1(t,r,n)}var i=WM(e);iE&&(i=i.concat(iE(e)));for(var o=rE(t),s=rE(e),a=0;a<i.length;++a){var l=i[a];if(!BM[l]&&!(n&&n[l])&&!(s&&s[l])&&!(o&&o[l])){var u=HM(e,l);try{zM(t,l,u)}catch{}}}}return t}var GM=D1;const sE=uv(GM);var Te={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy=Symbol.for("react.element"),py=Symbol.for("react.portal"),Nf=Symbol.for("react.fragment"),Mf=Symbol.for("react.strict_mode"),Lf=Symbol.for("react.profiler"),Vf=Symbol.for("react.provider"),Ff=Symbol.for("react.context"),KM=Symbol.for("react.server_context"),$f=Symbol.for("react.forward_ref"),Uf=Symbol.for("react.suspense"),Bf=Symbol.for("react.suspense_list"),jf=Symbol.for("react.memo"),zf=Symbol.for("react.lazy"),QM=Symbol.for("react.offscreen"),x1;x1=Symbol.for("react.module.reference");function On(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case hy:switch(t=t.type,t){case Nf:case Lf:case Mf:case Uf:case Bf:return t;default:switch(t=t&&t.$$typeof,t){case KM:case Ff:case $f:case zf:case jf:case Vf:return t;default:return e}}case py:return e}}}Te.ContextConsumer=Ff;Te.ContextProvider=Vf;Te.Element=hy;Te.ForwardRef=$f;Te.Fragment=Nf;Te.Lazy=zf;Te.Memo=jf;Te.Portal=py;Te.Profiler=Lf;Te.StrictMode=Mf;Te.Suspense=Uf;Te.SuspenseList=Bf;Te.isAsyncMode=function(){return!1};Te.isConcurrentMode=function(){return!1};Te.isContextConsumer=function(t){return On(t)===Ff};Te.isContextProvider=function(t){return On(t)===Vf};Te.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===hy};Te.isForwardRef=function(t){return On(t)===$f};Te.isFragment=function(t){return On(t)===Nf};Te.isLazy=function(t){return On(t)===zf};Te.isMemo=function(t){return On(t)===jf};Te.isPortal=function(t){return On(t)===py};Te.isProfiler=function(t){return On(t)===Lf};Te.isStrictMode=function(t){return On(t)===Mf};Te.isSuspense=function(t){return On(t)===Uf};Te.isSuspenseList=function(t){return On(t)===Bf};Te.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Nf||t===Lf||t===Mf||t===Uf||t===Bf||t===QM||typeof t=="object"&&t!==null&&(t.$$typeof===zf||t.$$typeof===jf||t.$$typeof===Vf||t.$$typeof===Ff||t.$$typeof===$f||t.$$typeof===x1||t.getModuleId!==void 0)};Te.typeOf=On;function YM(){const t=AM();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){!i||e===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}const aE={notify(){},get:()=>[]};function XM(t,e){let n,r=aE,i=0,o=!1;function s(m){c();const w=r.subscribe(m);let g=!1;return()=>{g||(g=!0,w(),d())}}function a(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function u(){return o}function c(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=YM())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=aE)}function f(){o||(o=!0,c())}function h(){o&&(o=!1,d())}const p={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>r};return p}const JM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZM=JM?E.useLayoutEffect:E.useEffect;function eL({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",noopCheck:o="once"}){const s=E.useMemo(()=>{const u=XM(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:o}},[t,r,i,o]),a=E.useMemo(()=>t.getState(),[t]);ZM(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,a]);const l=e||Ei;return E.createElement(l.Provider,{value:s},n)}function k1(t=Ei){const e=t===Ei?b1:ay(t);return function(){const{store:r}=e();return r}}const tL=k1();function nL(t=Ei){const e=t===Ei?tL:k1(t);return function(){return e().dispatch}}const rL=nL();DM(SM.useSyncExternalStoreWithSelector);RM(_f.unstable_batchedUpdates);const gy=rL,iL=OM;function zn(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ii(t){return!!t&&!!t[Ne]}function Dr(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===hL}(t)||Array.isArray(t)||!!t[pE]||!!(!((e=t.constructor)===null||e===void 0)&&e[pE])||my(t)||vy(t))}function mo(t,e,n){n===void 0&&(n=!1),Qs(t)===0?(n?Object.keys:ys)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function Qs(t){var e=t[Ne];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:my(t)?2:vy(t)?3:0}function vs(t,e){return Qs(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function oL(t,e){return Qs(t)===2?t.get(e):t[e]}function O1(t,e,n){var r=Qs(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function N1(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function my(t){return dL&&t instanceof Map}function vy(t){return fL&&t instanceof Set}function Wi(t){return t.o||t.t}function yy(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=L1(t);delete e[Ne];for(var n=ys(e),r=0;r<n.length;r++){var i=n[r],o=e[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function _y(t,e){return e===void 0&&(e=!1),wy(t)||Ii(t)||!Dr(t)||(Qs(t)>1&&(t.set=t.add=t.clear=t.delete=sL),Object.freeze(t),e&&mo(t,function(n,r){return _y(r,!0)},!0)),t}function sL(){zn(2)}function wy(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function lr(t){var e=vm[t];return e||zn(18,t),e}function aL(t,e){vm[t]||(vm[t]=e)}function pm(){return Al}function Ip(t,e){e&&(lr("Patches"),t.u=[],t.s=[],t.v=e)}function wd(t){gm(t),t.p.forEach(lL),t.p=null}function gm(t){t===Al&&(Al=t.l)}function lE(t){return Al={p:[],l:Al,h:t,m:!0,_:0}}function lL(t){var e=t[Ne];e.i===0||e.i===1?e.j():e.g=!0}function Tp(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||lr("ES5").S(e,t,r),r?(n[Ne].P&&(wd(e),zn(4)),Dr(t)&&(t=Ed(e,t),e.l||Id(e,t)),e.u&&lr("Patches").M(n[Ne].t,t,e.u,e.s)):t=Ed(e,n,[]),wd(e),e.u&&e.v(e.u,e.s),t!==M1?t:void 0}function Ed(t,e,n){if(wy(e))return e;var r=e[Ne];if(!r)return mo(e,function(a,l){return uE(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Id(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=yy(r.k):r.o,o=i,s=!1;r.i===3&&(o=new Set(i),i.clear(),s=!0),mo(o,function(a,l){return uE(t,r,i,a,l,n,s)}),Id(t,i,!1),n&&t.u&&lr("Patches").N(r,n,t.u,t.s)}return r.o}function uE(t,e,n,r,i,o,s){if(Ii(i)){var a=Ed(t,i,o&&e&&e.i!==3&&!vs(e.R,r)?o.concat(r):void 0);if(O1(n,r,a),!Ii(a))return;t.m=!1}else s&&n.add(i);if(Dr(i)&&!wy(i)){if(!t.h.D&&t._<1)return;Ed(t,i),e&&e.A.l||Id(t,i)}}function Id(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&_y(e,n)}function Sp(t,e){var n=t[Ne];return(n?Wi(n):t)[e]}function cE(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Gr(t){t.P||(t.P=!0,t.l&&Gr(t.l))}function bp(t){t.o||(t.o=yy(t.t))}function mm(t,e,n){var r=my(e)?lr("MapSet").F(e,n):vy(e)?lr("MapSet").T(e,n):t.O?function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:pm(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},l=a,u=Cl;s&&(l=[a],u=Oa);var c=Proxy.revocable(l,u),d=c.revoke,f=c.proxy;return a.k=f,a.j=d,f}(e,n):lr("ES5").J(e,n);return(n?n.A:pm()).p.push(r),r}function uL(t){return Ii(t)||zn(22,t),function e(n){if(!Dr(n))return n;var r,i=n[Ne],o=Qs(n);if(i){if(!i.P&&(i.i<4||!lr("ES5").K(i)))return i.t;i.I=!0,r=dE(n,o),i.I=!1}else r=dE(n,o);return mo(r,function(s,a){i&&oL(i.t,s)===a||O1(r,s,e(a))}),o===3?new Set(r):r}(t)}function dE(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return yy(t)}function cL(){function t(o,s){var a=i[o];return a?a.enumerable=s:i[o]=a={configurable:!0,enumerable:s,get:function(){var l=this[Ne];return Cl.get(l,o)},set:function(l){var u=this[Ne];Cl.set(u,o,l)}},a}function e(o){for(var s=o.length-1;s>=0;s--){var a=o[s][Ne];if(!a.P)switch(a.i){case 5:r(a)&&Gr(a);break;case 4:n(a)&&Gr(a)}}}function n(o){for(var s=o.t,a=o.k,l=ys(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==Ne){var d=s[c];if(d===void 0&&!vs(s,c))return!0;var f=a[c],h=f&&f[Ne];if(h?h.t!==d:!N1(f,d))return!0}}var p=!!s[Ne];return l.length!==ys(s).length+(p?0:1)}function r(o){var s=o.k;if(s.length!==o.t.length)return!0;var a=Object.getOwnPropertyDescriptor(s,s.length-1);if(a&&!a.get)return!0;for(var l=0;l<s.length;l++)if(!s.hasOwnProperty(l))return!0;return!1}var i={};aL("ES5",{J:function(o,s){var a=Array.isArray(o),l=function(c,d){if(c){for(var f=Array(d.length),h=0;h<d.length;h++)Object.defineProperty(f,""+h,t(h,!0));return f}var p=L1(d);delete p[Ne];for(var m=ys(p),w=0;w<m.length;w++){var g=m[w];p[g]=t(g,c||!!p[g].enumerable)}return Object.create(Object.getPrototypeOf(d),p)}(a,o),u={i:a?5:4,A:s?s.A:pm(),P:!1,I:!1,R:{},l:s,t:o,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,Ne,{value:u,writable:!0}),l},S:function(o,s,a){a?Ii(s)&&s[Ne].A===o&&e(o.p):(o.u&&function l(u){if(u&&typeof u=="object"){var c=u[Ne];if(c){var d=c.t,f=c.k,h=c.R,p=c.i;if(p===4)mo(f,function(_){_!==Ne&&(d[_]!==void 0||vs(d,_)?h[_]||l(f[_]):(h[_]=!0,Gr(c)))}),mo(d,function(_){f[_]!==void 0||vs(f,_)||(h[_]=!1,Gr(c))});else if(p===5){if(r(c)&&(Gr(c),h.length=!0),f.length<d.length)for(var m=f.length;m<d.length;m++)h[m]=!1;else for(var w=d.length;w<f.length;w++)h[w]=!0;for(var g=Math.min(f.length,d.length),v=0;v<g;v++)f.hasOwnProperty(v)||(h[v]=!0),h[v]===void 0&&l(f[v])}}}}(o.p[0]),e(o.p))},K:function(o){return o.i===4?n(o):r(o)}})}var fE,Al,Ey=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",dL=typeof Map<"u",fL=typeof Set<"u",hE=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",M1=Ey?Symbol.for("immer-nothing"):((fE={})["immer-nothing"]=!0,fE),pE=Ey?Symbol.for("immer-draftable"):"__$immer_draftable",Ne=Ey?Symbol.for("immer-state"):"__$immer_state",hL=""+Object.prototype.constructor,ys=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,L1=Object.getOwnPropertyDescriptors||function(t){var e={};return ys(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},vm={},Cl={get:function(t,e){if(e===Ne)return t;var n=Wi(t);if(!vs(n,e))return function(i,o,s){var a,l=cE(o,s);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!Dr(r)?r:r===Sp(t.t,e)?(bp(t),t.o[e]=mm(t.A.h,r,t)):r},has:function(t,e){return e in Wi(t)},ownKeys:function(t){return Reflect.ownKeys(Wi(t))},set:function(t,e,n){var r=cE(Wi(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=Sp(Wi(t),e),o=i==null?void 0:i[Ne];if(o&&o.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(N1(n,i)&&(n!==void 0||vs(t.t,e)))return!0;bp(t),Gr(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Sp(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,bp(t),Gr(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Wi(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){zn(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){zn(12)}},Oa={};mo(Cl,function(t,e){Oa[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Oa.deleteProperty=function(t,e){return Oa.set.call(this,t,e,void 0)},Oa.set=function(t,e,n){return Cl.set.call(this,t[0],e,n,t[0])};var pL=function(){function t(n){var r=this;this.O=hE,this.D=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var l=r;return function(m){var w=this;m===void 0&&(m=a);for(var g=arguments.length,v=Array(g>1?g-1:0),_=1;_<g;_++)v[_-1]=arguments[_];return l.produce(m,function(y){var I;return(I=o).call.apply(I,[w,y].concat(v))})}}var u;if(typeof o!="function"&&zn(6),s!==void 0&&typeof s!="function"&&zn(7),Dr(i)){var c=lE(r),d=mm(r,i,void 0),f=!0;try{u=o(d),f=!1}finally{f?wd(c):gm(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(m){return Ip(c,s),Tp(m,c)},function(m){throw wd(c),m}):(Ip(c,s),Tp(u,c))}if(!i||typeof i!="object"){if((u=o(i))===void 0&&(u=i),u===M1&&(u=void 0),r.D&&_y(u,!0),s){var h=[],p=[];lr("Patches").M(i,u,h,p),s(h,p)}return u}zn(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return r.produceWithPatches(u,function(h){return i.apply(void 0,[h].concat(d))})};var s,a,l=r.produce(i,o,function(u,c){s=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,s,a]}):[l,s,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Dr(n)||zn(8),Ii(n)&&(n=uL(n));var r=lE(this),i=mm(this,n,void 0);return i[Ne].C=!0,gm(r),i},e.finishDraft=function(n,r){var i=n&&n[Ne],o=i.A;return Ip(o,r),Tp(void 0,o)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!hE&&zn(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var s=lr("Patches").$;return Ii(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},t}(),gn=new pL,V1=gn.produce;gn.produceWithPatches.bind(gn);gn.setAutoFreeze.bind(gn);gn.setUseProxies.bind(gn);gn.applyPatches.bind(gn);gn.createDraft.bind(gn);gn.finishDraft.bind(gn);function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function gL(t,e){if(Pl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mL(t){var e=gL(t,"string");return Pl(e)==="symbol"?e:String(e)}function vL(t,e,n){return e=mL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gE(Object(n),!0).forEach(function(r){vL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _t(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var vE=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Rp=function(){return Math.random().toString(36).substring(7).split("").join(".")},Td={INIT:"@@redux/INIT"+Rp(),REPLACE:"@@redux/REPLACE"+Rp(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Rp()}};function yL(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Iy(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(_t(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(_t(1));return n(Iy)(t,e)}if(typeof t!="function")throw new Error(_t(2));var i=t,o=e,s=[],a=s,l=!1;function u(){a===s&&(a=s.slice())}function c(){if(l)throw new Error(_t(3));return o}function d(m){if(typeof m!="function")throw new Error(_t(4));if(l)throw new Error(_t(5));var w=!0;return u(),a.push(m),function(){if(w){if(l)throw new Error(_t(6));w=!1,u();var v=a.indexOf(m);a.splice(v,1),s=null}}}function f(m){if(!yL(m))throw new Error(_t(7));if(typeof m.type>"u")throw new Error(_t(8));if(l)throw new Error(_t(9));try{l=!0,o=i(o,m)}finally{l=!1}for(var w=s=a,g=0;g<w.length;g++){var v=w[g];v()}return m}function h(m){if(typeof m!="function")throw new Error(_t(10));i=m,f({type:Td.REPLACE})}function p(){var m,w=d;return m={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(_t(11));function _(){v.next&&v.next(c())}_();var y=w(_);return{unsubscribe:y}}},m[vE]=function(){return this},m}return f({type:Td.INIT}),r={dispatch:f,subscribe:d,getState:c,replaceReducer:h},r[vE]=p,r}function _L(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Td.INIT});if(typeof r>"u")throw new Error(_t(12));if(typeof n(void 0,{type:Td.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(_t(13))})}function wL(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var o=Object.keys(n),s;try{_L(n)}catch(a){s=a}return function(l,u){if(l===void 0&&(l={}),s)throw s;for(var c=!1,d={},f=0;f<o.length;f++){var h=o[f],p=n[h],m=l[h],w=p(m,u);if(typeof w>"u")throw u&&u.type,new Error(_t(14));d[h]=w,c=c||w!==m}return c=c||o.length!==Object.keys(l).length,c?d:l}}function yE(t,e){return function(){return e(t.apply(this,arguments))}}function _E(t,e){if(typeof t=="function")return yE(t,e);if(typeof t!="object"||t===null)throw new Error(_t(16));var n={};for(var r in t){var i=t[r];typeof i=="function"&&(n[r]=yE(i,e))}return n}function Dl(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function F1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(_t(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=e.map(function(l){return l(s)});return o=Dl.apply(void 0,a)(i.dispatch),mE(mE({},i),{},{dispatch:o})}}}function $1(t){var e=function(r){var i=r.dispatch,o=r.getState;return function(s){return function(a){return typeof a=="function"?a(i,o,t):s(a)}}};return e}var U1=$1();U1.withExtraArgument=$1;const wE=U1;var B1=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),EL=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},ks=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},IL=Object.defineProperty,TL=Object.defineProperties,SL=Object.getOwnPropertyDescriptors,EE=Object.getOwnPropertySymbols,bL=Object.prototype.hasOwnProperty,RL=Object.prototype.propertyIsEnumerable,IE=function(t,e,n){return e in t?IL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},ci=function(t,e){for(var n in e||(e={}))bL.call(e,n)&&IE(t,n,e[n]);if(EE)for(var r=0,i=EE(e);r<i.length;r++){var n=i[r];RL.call(e,n)&&IE(t,n,e[n])}return t},Ap=function(t,e){return TL(t,SL(e))},AL=function(t,e,n){return new Promise(function(r,i){var o=function(l){try{a(n.next(l))}catch(u){i(u)}},s=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(o,s)};a((n=n.apply(t,e)).next())})},CL=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Dl:Dl.apply(null,arguments)};function PL(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}function di(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var o=e.apply(void 0,r);if(!o)throw new Error("prepareAction did not return an object");return ci(ci({type:t,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}var DL=function(t){B1(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,ks([void 0],n[0].concat(this)))):new(e.bind.apply(e,ks([void 0],n.concat(this))))},e}(Array),xL=function(t){B1(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,ks([void 0],n[0].concat(this)))):new(e.bind.apply(e,ks([void 0],n.concat(this))))},e}(Array);function ym(t){return Dr(t)?V1(t,function(){}):t}function kL(t){return typeof t=="boolean"}function OL(){return function(e){return NL(e)}}function NL(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var r=new DL;return n&&(kL(n)?r.push(wE):r.push(wE.withExtraArgument(n.extraArgument))),r}var ML=!0;function LL(t){var e=OL(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,o=n.middleware,s=o===void 0?e():o,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,d=n.enhancers,f=d===void 0?void 0:d,h;if(typeof i=="function")h=i;else if(PL(i))h=wL(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=s;typeof p=="function"&&(p=p(e));var m=F1.apply(void 0,p),w=Dl;l&&(w=CL(ci({trace:!ML},typeof l=="object"&&l)));var g=new xL(m),v=g;Array.isArray(f)?v=ks([m],f):typeof f=="function"&&(v=f(g));var _=w.apply(void 0,v);return Iy(h,c,_)}function j1(t){var e={},n=[],r,i={addCase:function(o,s){var a=typeof o=="string"?o:o.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[a]=s,i},addMatcher:function(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase:function(o){return r=o,i}};return t(i),[e,n,r]}function VL(t){return typeof t=="function"}function FL(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?j1(e):[e,n,r],o=i[0],s=i[1],a=i[2],l;if(VL(t))l=function(){return ym(t())};else{var u=ym(t);l=function(){return u}}function c(d,f){d===void 0&&(d=l());var h=ks([o[f.type]],s.filter(function(p){var m=p.matcher;return m(f)}).map(function(p){var m=p.reducer;return m}));return h.filter(function(p){return!!p}).length===0&&(h=[a]),h.reduce(function(p,m){if(m)if(Ii(p)){var w=p,g=m(w,f);return g===void 0?p:g}else{if(Dr(p))return V1(p,function(v){return m(v,f)});var g=m(p,f);if(g===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}return p},d)}return c.getInitialState=l,c}function $L(t,e){return t+"/"+e}function UL(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:ym(t.initialState),r=t.reducers||{},i=Object.keys(r),o={},s={},a={};i.forEach(function(c){var d=r[c],f=$L(e,c),h,p;"reducer"in d?(h=d.reducer,p=d.prepare):h=d,o[c]=h,s[f]=h,a[c]=p?di(f,p):di(f)});function l(){var c=typeof t.extraReducers=="function"?j1(t.extraReducers):[t.extraReducers],d=c[0],f=d===void 0?{}:d,h=c[1],p=h===void 0?[]:h,m=c[2],w=m===void 0?void 0:m,g=ci(ci({},f),s);return FL(n,function(v){for(var _ in g)v.addCase(_,g[_]);for(var y=0,I=p;y<I.length;y++){var S=I[y];v.addMatcher(S.matcher,S.reducer)}w&&v.addDefaultCase(w)})}var u;return{name:e,reducer:function(c,d){return u||(u=l()),u(c,d)},actions:a,caseReducers:o,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var BL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",jL=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=BL[Math.random()*64|0];return e},zL=["name","message","stack","code"],Cp=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),TE=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),WL=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=zL;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,n,r){var i=di(e+"/fulfilled",function(u,c,d,f){return{payload:u,meta:Ap(ci({},f||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),o=di(e+"/pending",function(u,c,d){return{payload:void 0,meta:Ap(ci({},d||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),s=di(e+"/rejected",function(u,c,d,f,h){return{payload:f,error:(r&&r.serializeError||WL)(u||"Rejected"),meta:Ap(ci({},h||{}),{arg:d,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,d,f){var h=r!=null&&r.idGenerator?r.idGenerator(u):jL(),p=new a,m;function w(v){m=v,p.abort()}var g=function(){return AL(this,null,function(){var v,_,y,I,S,b,C;return EL(this,function(O){switch(O.label){case 0:return O.trys.push([0,4,,5]),I=(v=r==null?void 0:r.condition)==null?void 0:v.call(r,u,{getState:d,extra:f}),qL(I)?[4,I]:[3,2];case 1:I=O.sent(),O.label=2;case 2:if(I===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return S=new Promise(function(N,j){return p.signal.addEventListener("abort",function(){return j({name:"AbortError",message:m||"Aborted"})})}),c(o(h,u,(_=r==null?void 0:r.getPendingMeta)==null?void 0:_.call(r,{requestId:h,arg:u},{getState:d,extra:f}))),[4,Promise.race([S,Promise.resolve(n(u,{dispatch:c,getState:d,extra:f,requestId:h,signal:p.signal,abort:w,rejectWithValue:function(N,j){return new Cp(N,j)},fulfillWithValue:function(N,j){return new TE(N,j)}})).then(function(N){if(N instanceof Cp)throw N;return N instanceof TE?i(N.payload,h,u,N.meta):i(N,h,u)})])];case 3:return y=O.sent(),[3,5];case 4:return b=O.sent(),y=b instanceof Cp?s(null,h,u,b.payload,b.meta):s(b,h,u),[3,5];case 5:return C=r&&!r.dispatchConditionRejection&&s.match(y)&&y.meta.condition,C||c(y),[2,y]}})})}();return Object.assign(g,{abort:w,requestId:h,arg:u,unwrap:function(){return g.then(HL)}})}}return Object.assign(l,{pending:o,rejected:s,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function HL(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function qL(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var Ty="listenerMiddleware";di(Ty+"/add");di(Ty+"/removeAll");di(Ty+"/remove");var SE;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);cL();const GL={message:void 0},z1=UL({name:"common",initialState:GL,reducers:{addMessage:(t,e)=>{t.message=e.payload}}}),{addMessage:Sy}=z1.actions,KL=z1.reducer;var Wf=(t=>(t.success="success",t.warning="warning",t.error="error",t))(Wf||{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},QL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},H1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let f=(a&15)<<2|u>>6,h=u&63;l||(h=64,s||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(W1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new YL;const f=o<<2|a>>4;if(r.push(f),u!==64){const h=a<<4&240|u>>2;if(r.push(h),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class YL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XL=function(t){const e=W1(t);return H1.encodeByteArray(e,!0)},Sd=function(t){return XL(t).replace(/\./g,"")},q1=function(t){try{return H1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=()=>JL().__FIREBASE_DEFAULTS__,eV=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&q1(t[1]);return e&&JSON.parse(e)},Hf=()=>{try{return ZL()||eV()||tV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},G1=t=>{var e,n;return(n=(e=Hf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},K1=t=>{const e=G1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Q1=()=>{var t;return(t=Hf())===null||t===void 0?void 0:t.config},Y1=t=>{var e;return(e=Hf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Sd(JSON.stringify(n)),Sd(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function iV(){var t;const e=(t=Hf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function J1(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sV(){const t=$t();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Z1(){try{return typeof indexedDB=="object"}catch{return!1}}function eR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function aV(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV="FirebaseError";class Nn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=lV,Object.setPrototypeOf(this,Nn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ko.prototype.create)}}class ko{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?uV(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Nn(i,a,r)}}function uV(t,e){return t.replace(cV,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const cV=/\{\$([^}]+)}/g;function dV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(bE(o)&&bE(s)){if(!xl(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function bE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Na(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ma(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function fV(t,e){const n=new hV(t,e);return n.subscribe.bind(n)}class hV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");pV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Pp),i.error===void 0&&(i.error=Pp),i.complete===void 0&&(i.complete=Pp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Pp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV=1e3,mV=2,vV=4*60*60*1e3,yV=.5;function RE(t,e=gV,n=mV){const r=e*Math.pow(n,t),i=Math.round(yV*r*(Math.random()-.5)*2);return Math.min(vV,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t){return t&&t._delegate?t._delegate:t}class kn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _V=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new nV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EV(e))try{this.getOrInitializeService({instanceIdentifier:Hi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Hi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hi){return this.instances.has(e)}getOptions(e=Hi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hi){return this.component?this.component.multipleInstances?e:Hi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function wV(t){return t===Hi?void 0:t}function EV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _V(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));const TV={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},SV=ce.INFO,bV={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},RV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=bV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qf{constructor(e){this.name=e,this._logLevel=SV,this._logHandler=RV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const AV=(t,e)=>e.some(n=>t instanceof n);let AE,CE;function CV(){return AE||(AE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PV(){return CE||(CE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tR=new WeakMap,_m=new WeakMap,nR=new WeakMap,Dp=new WeakMap,by=new WeakMap;function DV(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(fi(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&tR.set(n,t)}).catch(()=>{}),by.set(e,t),e}function xV(t){if(_m.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});_m.set(t,e)}let wm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _m.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kV(t){wm=t(wm)}function OV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xp(this),e,...n);return nR.set(r,e.sort?e.sort():[e]),fi(r)}:PV().includes(t)?function(...e){return t.apply(xp(this),e),fi(tR.get(this))}:function(...e){return fi(t.apply(xp(this),e))}}function NV(t){return typeof t=="function"?OV(t):(t instanceof IDBTransaction&&xV(t),AV(t,CV())?new Proxy(t,wm):t)}function fi(t){if(t instanceof IDBRequest)return DV(t);if(Dp.has(t))return Dp.get(t);const e=NV(t);return e!==t&&(Dp.set(t,e),by.set(e,t)),e}const xp=t=>by.get(t);function MV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=fi(s);return r&&s.addEventListener("upgradeneeded",l=>{r(fi(s.result),l.oldVersion,l.newVersion,fi(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const LV=["get","getKey","getAll","getAllKeys","count"],VV=["put","add","delete","clear"],kp=new Map;function PE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kp.get(e))return kp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=VV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||LV.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return kp.set(e,o),o}kV(t=>({...t,get:(e,n,r)=>PE(e,n)||t.get(e,n,r),has:(e,n)=>!!PE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($V(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function $V(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Em="@firebase/app",DE="0.9.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=new qf("@firebase/app"),UV="@firebase/app-compat",BV="@firebase/analytics-compat",jV="@firebase/analytics",zV="@firebase/app-check-compat",WV="@firebase/app-check",HV="@firebase/auth",qV="@firebase/auth-compat",GV="@firebase/database",KV="@firebase/database-compat",QV="@firebase/functions",YV="@firebase/functions-compat",XV="@firebase/installations",JV="@firebase/installations-compat",ZV="@firebase/messaging",eF="@firebase/messaging-compat",tF="@firebase/performance",nF="@firebase/performance-compat",rF="@firebase/remote-config",iF="@firebase/remote-config-compat",oF="@firebase/storage",sF="@firebase/storage-compat",aF="@firebase/firestore",lF="@firebase/firestore-compat",uF="firebase",cF="10.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="[DEFAULT]",dF={[Em]:"fire-core",[UV]:"fire-core-compat",[jV]:"fire-analytics",[BV]:"fire-analytics-compat",[WV]:"fire-app-check",[zV]:"fire-app-check-compat",[HV]:"fire-auth",[qV]:"fire-auth-compat",[GV]:"fire-rtdb",[KV]:"fire-rtdb-compat",[QV]:"fire-fn",[YV]:"fire-fn-compat",[XV]:"fire-iid",[JV]:"fire-iid-compat",[ZV]:"fire-fcm",[eF]:"fire-fcm-compat",[tF]:"fire-perf",[nF]:"fire-perf-compat",[rF]:"fire-rc",[iF]:"fire-rc-compat",[oF]:"fire-gcs",[sF]:"fire-gcs-compat",[aF]:"fire-fst",[lF]:"fire-fst-compat","fire-js":"fire-js",[uF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=new Map,Tm=new Map;function fF(t,e){try{t.container.addComponent(e)}catch(n){vo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Kn(t){const e=t.name;if(Tm.has(e))return vo.debug(`There were multiple attempts to register component ${e}.`),!1;Tm.set(e,t);for(const n of bd.values())fF(n,t);return!0}function Di(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},hi=new ko("app","Firebase",hF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=cF;function rR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Im,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw hi.create("bad-app-name",{appName:String(i)});if(n||(n=Q1()),!n)throw hi.create("no-options");const o=bd.get(i);if(o){if(xl(n,o.options)&&xl(r,o.config))return o;throw hi.create("duplicate-app",{appName:i})}const s=new IV(i);for(const l of Tm.values())s.addComponent(l);const a=new pF(n,r,s);return bd.set(i,a),a}function Gf(t=Im){const e=bd.get(t);if(!e&&t===Im&&Q1())return rR();if(!e)throw hi.create("no-app",{appName:t});return e}function tn(t,e,n){var r;let i=(r=dF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vo.warn(a.join(" "));return}Kn(new kn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF="firebase-heartbeat-database",mF=1,kl="firebase-heartbeat-store";let Op=null;function iR(){return Op||(Op=MV(gF,mF,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(kl)}}}).catch(t=>{throw hi.create("idb-open",{originalErrorMessage:t.message})})),Op}async function vF(t){try{return await(await iR()).transaction(kl).objectStore(kl).get(oR(t))}catch(e){if(e instanceof Nn)vo.warn(e.message);else{const n=hi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vo.warn(n.message)}}}async function xE(t,e){try{const r=(await iR()).transaction(kl,"readwrite");await r.objectStore(kl).put(e,oR(t)),await r.done}catch(n){if(n instanceof Nn)vo.warn(n.message);else{const r=hi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vo.warn(r.message)}}}function oR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF=1024,_F=30*24*60*60*1e3;class wF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=kE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=_F}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=kE(),{heartbeatsToSend:r,unsentEntries:i}=EF(this._heartbeatsCache.heartbeats),o=Sd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function kE(){return new Date().toISOString().substring(0,10)}function EF(t,e=yF){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),OE(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),OE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class IF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Z1()?eR().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await vF(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return xE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return xE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function OE(t){return Sd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(t){Kn(new kn("platform-logger",e=>new FV(e),"PRIVATE")),Kn(new kn("heartbeat",e=>new wF(e),"PRIVATE")),tn(Em,DE,t),tn(Em,DE,"esm2017"),tn("fire-js","")}TF("");function Ry(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function sR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SF=sR,aR=new ko("auth","Firebase",sR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd=new qf("@firebase/auth");function bF(t,...e){Rd.logLevel<=ce.WARN&&Rd.warn(`Auth (${Oo}): ${t}`,...e)}function Fc(t,...e){Rd.logLevel<=ce.ERROR&&Rd.error(`Auth (${Oo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t,...e){throw Ay(t,...e)}function ur(t,...e){return Ay(t,...e)}function RF(t,e,n){const r=Object.assign(Object.assign({},SF()),{[e]:n});return new ko("auth","Firebase",r).create(e,{appName:t.name})}function Ay(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return aR.create(t,...e)}function J(t,e,...n){if(!t)throw Ay(e,...n)}function Er(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fc(e),new Error(e)}function xr(t,e){t||Er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function AF(){return NE()==="http:"||NE()==="https:"}function NE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AF()||J1()||"connection"in navigator)?navigator.onLine:!0}function PF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n){this.shortDelay=e,this.longDelay=n,xr(n>e,"Short delay should be less than long delay!"),this.isMobile=rV()||oV()}get(){return CF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(t,e){xr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xF=new cu(3e4,6e4);function xi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ki(t,e,n,r,i={}){return uR(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=uu(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),lR.fetch()(cR(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function uR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},DF),e);try{const i=new OF(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw dc(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw dc(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw dc(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw dc(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw RF(t,c,u);Qn(t,c)}}catch(i){if(i instanceof Nn)throw i;Qn(t,"network-request-failed",{message:String(i)})}}async function du(t,e,n,r,i={}){const o=await ki(t,e,n,r,i);return"mfaPendingCredential"in o&&Qn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function cR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Cy(t.config,i):`${t.config.apiScheme}://${i}`}function kF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class OF{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ur(this.auth,"network-request-failed")),xF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function dc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ur(t,e,r);return i.customData._tokenResponse=n,i}function ME(t){return t!==void 0&&t.enterprise!==void 0}class NF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return kF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function MF(t,e){return ki(t,"GET","/v2/recaptchaConfig",xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LF(t,e){return ki(t,"POST","/v1/accounts:delete",e)}async function VF(t,e){return ki(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FF(t,e=!1){const n=Be(t),r=await n.getIdToken(e),i=Py(r);J(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ja(Np(i.auth_time)),issuedAtTime:Ja(Np(i.iat)),expirationTime:Ja(Np(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Np(t){return Number(t)*1e3}function Py(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Fc("JWT malformed, contained fewer than 3 sections"),null;try{const i=q1(n);return i?JSON.parse(i):(Fc("Failed to decode base64 JWT payload"),null)}catch(i){return Fc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function $F(t){const e=Py(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Nn&&UF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function UF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ja(this.lastLoginAt),this.creationTime=Ja(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ad(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ol(t,VF(n,{idToken:r}));J(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?WF(o.providerUserInfo):[],a=zF(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new dR(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function jF(t){const e=Be(t);await Ad(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function WF(t){return t.map(e=>{var{providerId:n}=e,r=Ry(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HF(t,e){const n=await uR(t,{},async()=>{const r=uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=cR(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",lR.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qF(t,e){return ki(t,"POST","/v2/accounts:revokeToken",xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$F(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return J(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await HF(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Nl;return r&&(J(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(J(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(J(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nl,this.toJSON())}_performRefresh(){return Er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ro{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Ry(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new BF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new dR(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ol(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return FF(this,e)}reload(){return jF(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ro(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ad(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ol(this,LF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:y,isAnonymous:I,providerData:S,stsTokenManager:b}=n;J(_&&b,e,"internal-error");const C=Nl.fromJSON(this.name,b);J(typeof _=="string",e,"internal-error"),Br(d,e.name),Br(f,e.name),J(typeof y=="boolean",e,"internal-error"),J(typeof I=="boolean",e,"internal-error"),Br(h,e.name),Br(p,e.name),Br(m,e.name),Br(w,e.name),Br(g,e.name),Br(v,e.name);const O=new ro({uid:_,auth:e,email:f,emailVerified:y,displayName:d,isAnonymous:I,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:C,createdAt:g,lastLoginAt:v});return S&&Array.isArray(S)&&(O.providerData=S.map(N=>Object.assign({},N))),w&&(O._redirectEventId=w),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new Nl;i.updateFromServerResponse(n);const o=new ro({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ad(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=new Map;function Ir(t){xr(t instanceof Function,"Expected a class definition");let e=LE.get(t);return e?(xr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,LE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fR.type="NONE";const VE=fR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(t,e,n){return`firebase:${t}:${e}:${n}`}class _s{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=$c(this.userKey,i.apiKey,o),this.fullPersistenceKey=$c("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ro._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new _s(Ir(VE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Ir(VE);const s=$c(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const d=ro._fromJSON(e,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new _s(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new _s(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vR(e))return"Blackberry";if(yR(e))return"Webos";if(Dy(e))return"Safari";if((e.includes("chrome/")||pR(e))&&!e.includes("edge/"))return"Chrome";if(mR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function hR(t=$t()){return/firefox\//i.test(t)}function Dy(t=$t()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pR(t=$t()){return/crios\//i.test(t)}function gR(t=$t()){return/iemobile/i.test(t)}function mR(t=$t()){return/android/i.test(t)}function vR(t=$t()){return/blackberry/i.test(t)}function yR(t=$t()){return/webos/i.test(t)}function Kf(t=$t()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GF(t=$t()){var e;return Kf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KF(){return sV()&&document.documentMode===10}function _R(t=$t()){return Kf(t)||mR(t)||yR(t)||vR(t)||/windows phone/i.test(t)||gR(t)}function QF(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(t,e=[]){let n;switch(t){case"Browser":n=FE($t());break;case"Worker":n=`${FE($t())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XF(t,e={}){return ki(t,"GET","/v2/passwordPolicy",xi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF=6;class ZF{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:JF,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $E(this),this.idTokenSubscription=new $E(this),this.beforeStateQueue=new YF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ir(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await _s.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ad(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Be(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XF(this),n=new ZF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ko("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await qF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ir(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await _s.create(this,[Ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&bF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function No(t){return Be(t)}class $E{constructor(e){this.auth=e,this.observer=null,this.addObserver=fV(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function ER(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=ur("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",t2().appendChild(r)})}function n2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const r2="https://www.google.com/recaptcha/enterprise.js?render=",i2="recaptcha-enterprise",o2="NO_RECAPTCHA";class s2{constructor(e){this.type=i2,this.auth=No(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{MF(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new NF(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;ME(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(o2)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&ME(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}ER(r2+a).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}}async function UE(t,e,n,r=!1){const i=new s2(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function bm(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await UE(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await UE(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(t,e){const n=Di(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(xl(o,e??{}))return i;Qn(i,"already-initialized")}return n.initialize({options:e})}function l2(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ir);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function u2(t,e,n){const r=No(t);J(r._canInitEmulator,r,"emulator-config-failed"),J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=IR(e),{host:s,port:a}=c2(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||d2()}function IR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function c2(t){const e=IR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:BE(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:BE(s)}}}function BE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function d2(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Er("not implemented")}_getIdTokenResponse(e){return Er("not implemented")}_linkToIdToken(e,n){return Er("not implemented")}_getReauthenticationResolver(e){return Er("not implemented")}}async function f2(t,e){return ki(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h2(t,e){return du(t,"POST","/v1/accounts:signInWithPassword",xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p2(t,e){return du(t,"POST","/v1/accounts:signInWithEmailLink",xi(t,e))}async function g2(t,e){return du(t,"POST","/v1/accounts:signInWithEmailLink",xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends xy{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ml(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ml(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bm(e,n,"signInWithPassword",h2);case"emailLink":return p2(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bm(e,r,"signUpPassword",f2);case"emailLink":return g2(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ws(t,e){return du(t,"POST","/v1/accounts:signInWithIdp",xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="http://localhost";class yo extends xy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new yo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Ry(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new yo(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return ws(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ws(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ws(e,n)}buildRequest(){const e={requestUri:m2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function y2(t){const e=Na(Ma(t)).link,n=e?Na(Ma(e)).deep_link_id:null,r=Na(Ma(t)).deep_link_id;return(r?Na(Ma(r)).link:null)||r||n||e||t}class ky{constructor(e){var n,r,i,o,s,a;const l=Na(Ma(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=v2((i=l.mode)!==null&&i!==void 0?i:null);J(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=y2(e);try{return new ky(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(){this.providerId=Ys.PROVIDER_ID}static credential(e,n){return Ml._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ky.parseLink(n);return J(r,"argument-error"),Ml._fromEmailAndCode(e,r.code,r.tenantId)}}Ys.PROVIDER_ID="password";Ys.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ys.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends TR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends fu{constructor(){super("facebook.com")}static credential(e){return yo._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return yo._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Qr.credential(n,r)}catch{return null}}}Qr.GOOGLE_SIGN_IN_METHOD="google.com";Qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends fu{constructor(){super("github.com")}static credential(e){return yo._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.GITHUB_SIGN_IN_METHOD="github.com";Yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends fu{constructor(){super("twitter.com")}static credential(e,n){return yo._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Xr.credential(n,r)}catch{return null}}}Xr.TWITTER_SIGN_IN_METHOD="twitter.com";Xr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _2(t,e){return du(t,"POST","/v1/accounts:signUp",xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await ro._fromIdTokenResponse(e,r,i),s=jE(r);return new _o({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=jE(r);return new _o({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function jE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends Nn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Cd.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Cd(e,n,r,i)}}function SR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Cd._fromErrorAndOperation(t,o,e,r):o})}async function w2(t,e,n=!1){const r=await Ol(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _o._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E2(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await Ol(t,SR(r,i,e,t),n);J(o.idToken,r,"internal-error");const s=Py(o.idToken);J(s,r,"internal-error");const{sub:a}=s;return J(t.uid===a,r,"user-mismatch"),_o._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Qn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bR(t,e,n=!1){const r="signIn",i=await SR(t,r,e),o=await _o._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function I2(t,e){return bR(No(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RR(t){const e=No(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function T2(t,e,n){const r=No(t),s=await bm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_2).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&RR(t),l}),a=await _o._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function S2(t,e,n){return I2(Be(t),Ys.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&RR(t),r})}function b2(t,e,n,r){return Be(t).onIdTokenChanged(e,n,r)}function R2(t,e,n){return Be(t).beforeAuthStateChanged(e,n)}const Pd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Pd,"1"),this.storage.removeItem(Pd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(){const t=$t();return Dy(t)||Kf(t)}const C2=1e3,P2=10;class CR extends AR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=A2()&&QF(),this.fallbackToPolling=_R(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);KF()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,P2):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},C2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}CR.type="LOCAL";const D2=CR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR extends AR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}PR.type="SESSION";const DR=PR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Qf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await x2(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=Oy("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(){return window}function O2(t){cr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(){return typeof cr().WorkerGlobalScope<"u"&&typeof cr().importScripts=="function"}async function N2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function M2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function L2(){return xR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="firebaseLocalStorageDb",V2=1,Dd="firebaseLocalStorage",OR="fbase_key";class hu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yf(t,e){return t.transaction([Dd],e?"readwrite":"readonly").objectStore(Dd)}function F2(){const t=indexedDB.deleteDatabase(kR);return new hu(t).toPromise()}function Rm(){const t=indexedDB.open(kR,V2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Dd,{keyPath:OR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Dd)?e(r):(r.close(),await F2(),e(await Rm()))})})}async function zE(t,e,n){const r=Yf(t,!0).put({[OR]:e,value:n});return new hu(r).toPromise()}async function $2(t,e){const n=Yf(t,!1).get(e),r=await new hu(n).toPromise();return r===void 0?null:r.value}function WE(t,e){const n=Yf(t,!0).delete(e);return new hu(n).toPromise()}const U2=800,B2=3;class NR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>B2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qf._getInstance(L2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await N2(),!this.activeServiceWorker)return;this.sender=new k2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||M2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rm();return await zE(e,Pd,"1"),await WE(e,Pd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>zE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>$2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>WE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Yf(i,!1).getAll();return new hu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),U2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NR.type="LOCAL";const j2=NR;new cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(t,e){return e?Ir(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny extends xy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ws(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ws(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ws(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function W2(t){return bR(t.auth,new Ny(t),t.bypassAuthState)}function H2(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),E2(n,new Ny(t),t.bypassAuthState)}async function q2(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),w2(n,new Ny(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return W2;case"linkViaPopup":case"linkViaRedirect":return q2;case"reauthViaPopup":case"reauthViaRedirect":return H2;default:Qn(this.auth,"internal-error")}}resolve(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=new cu(2e3,1e4);class ls extends MR{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ls.currentPopupAction&&ls.currentPopupAction.cancel(),ls.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){xr(this.filter.length===1,"Popup operations only handle one event");const e=Oy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ls.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,G2.get())};e()}}ls.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2="pendingRedirect",Uc=new Map;class Q2 extends MR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Uc.get(this.auth._key());if(!e){try{const r=await Y2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Uc.set(this.auth._key(),e)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Y2(t,e){const n=Z2(e),r=J2(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function X2(t,e){Uc.set(t._key(),e)}function J2(t){return Ir(t._redirectPersistence)}function Z2(t){return $c(K2,t.config.apiKey,t.name)}async function e$(t,e,n=!1){const r=No(t),i=z2(r,e),s=await new Q2(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$=10*60*1e3;class n${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!r$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!LR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ur(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=t$&&this.cachedEventUids.clear(),this.cachedEventUids.has(HE(e))}saveEventToCache(e){this.cachedEventUids.add(HE(e)),this.lastProcessedEventTime=Date.now()}}function HE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function LR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function r$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i$(t,e={}){return ki(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s$=/^https?/;async function a$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await i$(t);for(const n of e)try{if(l$(n))return}catch{}Qn(t,"unauthorized-domain")}function l$(t){const e=Sm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!s$.test(n))return!1;if(o$.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u$=new cu(3e4,6e4);function qE(){const t=cr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function c$(t){return new Promise((e,n)=>{var r,i,o;function s(){qE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qE(),n(ur(t,"network-request-failed"))},timeout:u$.get()})}if(!((i=(r=cr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=cr().gapi)===null||o===void 0)&&o.load)s();else{const a=n2("iframefcb");return cr()[a]=()=>{gapi.load?s():n(ur(t,"network-request-failed"))},ER(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Bc=null,e})}let Bc=null;function d$(t){return Bc=Bc||c$(t),Bc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$=new cu(5e3,15e3),h$="__/auth/iframe",p$="emulator/auth/iframe",g$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function v$(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Cy(e,p$):`https://${t.config.authDomain}/${h$}`,r={apiKey:e.apiKey,appName:t.name,v:Oo},i=m$.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${uu(r).slice(1)}`}async function y$(t){const e=await d$(t),n=cr().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:v$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g$,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=ur(t,"network-request-failed"),a=cr().setTimeout(()=>{o(s)},f$.get());function l(){cr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},w$=500,E$=600,I$="_blank",T$="http://localhost";class GE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function S$(t,e,n,r=w$,i=E$){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},_$),{width:r.toString(),height:i.toString(),top:o,left:s}),u=$t().toLowerCase();n&&(a=pR(u)?I$:n),hR(u)&&(e=e||T$,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(GF(u)&&a!=="_self")return b$(e||"",a),new GE(null);const d=window.open(e||"",a,c);J(d,t,"popup-blocked");try{d.focus()}catch{}return new GE(d)}function b$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R$="__/auth/handler",A$="emulator/auth/handler",C$=encodeURIComponent("fac");async function KE(t,e,n,r,i,o){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Oo,eventId:i};if(e instanceof TR){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",dV(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(o||{}))s[c]=d}if(e instanceof fu){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${C$}=${encodeURIComponent(l)}`:"";return`${P$(t)}?${uu(a).slice(1)}${u}`}function P$({config:t}){return t.emulator?Cy(t,A$):`https://${t.authDomain}/${R$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="webStorageSupport";class D${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DR,this._completeRedirectFn=e$,this._overrideRedirectResult=X2}async _openPopup(e,n,r,i){var o;xr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await KE(e,n,r,Sm(),i);return S$(e,s,Oy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await KE(e,n,r,Sm(),i);return O2(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(xr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await y$(e),r=new n$(e);return n.register("authEvent",i=>(J(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mp,{type:Mp},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Mp];s!==void 0&&n(!!s),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=a$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _R()||Dy()||Kf()}}const x$=D$;var QE="@firebase/auth",YE="1.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function N$(t){Kn(new kn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;J(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wR(t)},u=new e2(r,i,o,l);return l2(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Kn(new kn("auth-internal",e=>{const n=No(e.getProvider("auth").getImmediate());return(r=>new k$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),tn(QE,YE,O$(t)),tn(QE,YE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$=5*60,L$=Y1("authIdTokenMaxAge")||M$;let XE=null;const V$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>L$)return;const i=n==null?void 0:n.token;XE!==i&&(XE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function VR(t=Gf()){const e=Di(t,"auth");if(e.isInitialized())return e.getImmediate();const n=a2(t,{popupRedirectResolver:x$,persistence:[j2,D2,DR]}),r=Y1("authTokenSyncURL");if(r){const o=V$(r);R2(n,o,()=>o(n.currentUser)),b2(n,s=>o(s))}const i=G1("auth");return i&&u2(n,`http://${i}`),n}N$("Browser");var F$="firebase",$$="10.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn(F$,$$,"app");const U$=(t,e)=>e.some(n=>t instanceof n);let JE,ZE;function B$(){return JE||(JE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j$(){return ZE||(ZE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FR=new WeakMap,Am=new WeakMap,$R=new WeakMap,Lp=new WeakMap,My=new WeakMap;function z$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(pi(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&FR.set(n,t)}).catch(()=>{}),My.set(e,t),e}function W$(t){if(Am.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Am.set(t,e)}let Cm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Am.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$R.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function H$(t){Cm=t(Cm)}function q$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Vp(this),e,...n);return $R.set(r,e.sort?e.sort():[e]),pi(r)}:j$().includes(t)?function(...e){return t.apply(Vp(this),e),pi(FR.get(this))}:function(...e){return pi(t.apply(Vp(this),e))}}function G$(t){return typeof t=="function"?q$(t):(t instanceof IDBTransaction&&W$(t),U$(t,B$())?new Proxy(t,Cm):t)}function pi(t){if(t instanceof IDBRequest)return z$(t);if(Lp.has(t))return Lp.get(t);const e=G$(t);return e!==t&&(Lp.set(t,e),My.set(e,t)),e}const Vp=t=>My.get(t);function K$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=pi(s);return r&&s.addEventListener("upgradeneeded",l=>{r(pi(s.result),l.oldVersion,l.newVersion,pi(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const Q$=["get","getKey","getAll","getAllKeys","count"],Y$=["put","add","delete","clear"],Fp=new Map;function eI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fp.get(e))return Fp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Y$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Q$.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Fp.set(e,o),o}H$(t=>({...t,get:(e,n,r)=>eI(e,n)||t.get(e,n,r),has:(e,n)=>!!eI(e,n)||t.has(e,n)}));const UR="@firebase/installations",Ly="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=1e4,jR=`w:${Ly}`,zR="FIS_v2",X$="https://firebaseinstallations.googleapis.com/v1",J$=60*60*1e3,Z$="installations",eU="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},wo=new ko(Z$,eU,tU);function WR(t){return t instanceof Nn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR({projectId:t}){return`${X$}/projects/${t}/installations`}function qR(t){return{token:t.token,requestStatus:2,expiresIn:rU(t.expiresIn),creationTime:Date.now()}}async function GR(t,e){const r=(await e.json()).error;return wo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function KR({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function nU(t,{refreshToken:e}){const n=KR(t);return n.append("Authorization",iU(e)),n}async function QR(t){const e=await t();return e.status>=500&&e.status<600?t():e}function rU(t){return Number(t.replace("s","000"))}function iU(t){return`${zR} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oU({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=HR(t),i=KR(t),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const s={fid:n,authVersion:zR,appId:t.appId,sdkVersion:jR},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await QR(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:qR(u.authToken)}}else throw await GR("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU=/^[cdef][\w-]{21}$/,Pm="";function lU(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=uU(t);return aU.test(n)?n:Pm}catch{return Pm}}function uU(t){return sU(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=new Map;function JR(t,e){const n=Xf(t);ZR(n,e),cU(n,e)}function ZR(t,e){const n=XR.get(t);if(n)for(const r of n)r(e)}function cU(t,e){const n=dU();n&&n.postMessage({key:t,fid:e}),fU()}let Xi=null;function dU(){return!Xi&&"BroadcastChannel"in self&&(Xi=new BroadcastChannel("[Firebase] FID Change"),Xi.onmessage=t=>{ZR(t.data.key,t.data.fid)}),Xi}function fU(){XR.size===0&&Xi&&(Xi.close(),Xi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU="firebase-installations-database",pU=1,Eo="firebase-installations-store";let $p=null;function Vy(){return $p||($p=K$(hU,pU,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Eo)}}})),$p}async function xd(t,e){const n=Xf(t),i=(await Vy()).transaction(Eo,"readwrite"),o=i.objectStore(Eo),s=await o.get(n);return await o.put(e,n),await i.done,(!s||s.fid!==e.fid)&&JR(t,e.fid),e}async function eA(t){const e=Xf(t),r=(await Vy()).transaction(Eo,"readwrite");await r.objectStore(Eo).delete(e),await r.done}async function Jf(t,e){const n=Xf(t),i=(await Vy()).transaction(Eo,"readwrite"),o=i.objectStore(Eo),s=await o.get(n),a=e(s);return a===void 0?await o.delete(n):await o.put(a,n),await i.done,a&&(!s||s.fid!==a.fid)&&JR(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fy(t){let e;const n=await Jf(t.appConfig,r=>{const i=gU(r),o=mU(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===Pm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function gU(t){const e=t||{fid:lU(),registrationStatus:0};return tA(e)}function mU(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(wo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=vU(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:yU(t)}:{installationEntry:e}}async function vU(t,e){try{const n=await oU(t,e);return xd(t.appConfig,n)}catch(n){throw WR(n)&&n.customData.serverCode===409?await eA(t.appConfig):await xd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function yU(t){let e=await tI(t.appConfig);for(;e.registrationStatus===1;)await YR(100),e=await tI(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Fy(t);return r||n}return e}function tI(t){return Jf(t,e=>{if(!e)throw wo.create("installation-not-found");return tA(e)})}function tA(t){return _U(t)?{fid:t.fid,registrationStatus:0}:t}function _U(t){return t.registrationStatus===1&&t.registrationTime+BR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wU({appConfig:t,heartbeatServiceProvider:e},n){const r=EU(t,n),i=nU(t,n),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const s={installation:{sdkVersion:jR,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await QR(()=>fetch(r,a));if(l.ok){const u=await l.json();return qR(u)}else throw await GR("Generate Auth Token",l)}function EU(t,{fid:e}){return`${HR(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $y(t,e=!1){let n;const r=await Jf(t.appConfig,o=>{if(!nA(o))throw wo.create("not-registered");const s=o.authToken;if(!e&&SU(s))return o;if(s.requestStatus===1)return n=IU(t,e),o;{if(!navigator.onLine)throw wo.create("app-offline");const a=RU(o);return n=TU(t,a),a}});return n?await n:r.authToken}async function IU(t,e){let n=await nI(t.appConfig);for(;n.authToken.requestStatus===1;)await YR(100),n=await nI(t.appConfig);const r=n.authToken;return r.requestStatus===0?$y(t,e):r}function nI(t){return Jf(t,e=>{if(!nA(e))throw wo.create("not-registered");const n=e.authToken;return AU(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function TU(t,e){try{const n=await wU(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await xd(t.appConfig,r),n}catch(n){if(WR(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await eA(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await xd(t.appConfig,r)}throw n}}function nA(t){return t!==void 0&&t.registrationStatus===2}function SU(t){return t.requestStatus===2&&!bU(t)}function bU(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+J$}function RU(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function AU(t){return t.requestStatus===1&&t.requestTime+BR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CU(t){const e=t,{installationEntry:n,registrationPromise:r}=await Fy(e);return r?r.catch(console.error):$y(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PU(t,e=!1){const n=t;return await DU(n),(await $y(n,e)).token}async function DU(t){const{registrationPromise:e}=await Fy(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(t){if(!t||!t.options)throw Up("App Configuration");if(!t.name)throw Up("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Up(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Up(t){return wo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="installations",kU="installations-internal",OU=t=>{const e=t.getProvider("app").getImmediate(),n=xU(e),r=Di(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},NU=t=>{const e=t.getProvider("app").getImmediate(),n=Di(e,rA).getImmediate();return{getId:()=>CU(n),getToken:i=>PU(n,i)}};function MU(){Kn(new kn(rA,OU,"PUBLIC")),Kn(new kn(kU,NU,"PRIVATE"))}MU();tn(UR,Ly);tn(UR,Ly,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd="analytics",LU="firebase_id",VU="origin",FU=60*1e3,$U="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Uy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn=new qf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},dn=new ko("analytics","Analytics",UU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BU(t){if(!t.startsWith(Uy)){const e=dn.create("invalid-gtag-resource",{gtagURL:t});return nn.warn(e.message),""}return t}function iA(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function jU(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function zU(t,e){const n=jU("firebase-js-sdk-policy",{createScriptURL:BU}),r=document.createElement("script"),i=`${Uy}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function WU(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function HU(t,e,n,r,i,o){const s=r[i];try{if(s)await e[s];else{const l=(await iA(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){nn.error(a)}t("config",i,o)}async function qU(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=await iA(n);for(const l of s){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(c)o.push(c);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){nn.error(o)}}function GU(t,e,n,r){async function i(o,...s){try{if(o==="event"){const[a,l]=s;await qU(t,e,n,a,l)}else if(o==="config"){const[a,l]=s;await HU(t,e,n,r,a,l)}else if(o==="consent"){const[a]=s;t("consent","update",a)}else if(o==="get"){const[a,l,u]=s;t("get",a,l,u)}else if(o==="set"){const[a]=s;t("set",a)}else t(o,...s)}catch(a){nn.error(a)}}return i}function KU(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=GU(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function QU(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Uy)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU=30,XU=1e3;class JU{constructor(e={},n=XU){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const oA=new JU;function ZU(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function eB(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:ZU(r)},o=$U.replace("{app-id}",n),s=await fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{const l=await s.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw dn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}async function tB(t,e=oA,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw dn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw dn.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new iB;return setTimeout(async()=>{a.abort()},n!==void 0?n:FU),sA({appId:r,apiKey:i,measurementId:o},s,a,e)}async function sA(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=oA){var o;const{appId:s,measurementId:a}=t;try{await nB(r,e)}catch(l){if(a)return nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:a};throw l}try{const l=await eB(t);return i.deleteThrottleMetadata(s),l}catch(l){const u=l;if(!rB(u)){if(i.deleteThrottleMetadata(s),a)return nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:a};throw l}const c=Number((o=u==null?void 0:u.customData)===null||o===void 0?void 0:o.httpStatus)===503?RE(n,i.intervalMillis,YU):RE(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(s,d),nn.debug(`Calling attemptFetch again in ${c} millis`),sA(t,d,r,i)}}function nB(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(dn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function rB(t){if(!(t instanceof Nn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class iB{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function oB(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const o=await e,s=Object.assign(Object.assign({},r),{send_to:o});t("event",n,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sB(){if(Z1())try{await eR()}catch(t){return nn.warn(dn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return nn.warn(dn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function aB(t,e,n,r,i,o,s){var a;const l=tB(t);l.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&nn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>nn.error(h)),e.push(l);const u=sB().then(h=>{if(h)return r.getId()}),[c,d]=await Promise.all([l,u]);QU(o)||zU(o,c.measurementId),i("js",new Date);const f=(a=s==null?void 0:s.config)!==null&&a!==void 0?a:{};return f[VU]="firebase",f.update=!0,d!=null&&(f[LU]=d),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e){this.app=e}_delete(){return delete Za[this.app.options.appId],Promise.resolve()}}let Za={},rI=[];const iI={};let Bp="dataLayer",uB="gtag",oI,aA,sI=!1;function cB(){const t=[];if(J1()&&t.push("This is a browser extension environment."),aV()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=dn.create("invalid-analytics-context",{errorInfo:e});nn.warn(n.message)}}function dB(t,e,n){cB();const r=t.options.appId;if(!r)throw dn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw dn.create("no-api-key");if(Za[r]!=null)throw dn.create("already-exists",{id:r});if(!sI){WU(Bp);const{wrappedGtag:o,gtagCore:s}=KU(Za,rI,iI,Bp,uB);aA=o,oI=s,sI=!0}return Za[r]=aB(t,rI,iI,e,oI,Bp,n),new lB(t)}function fB(t=Gf()){t=Be(t);const e=Di(t,kd);return e.isInitialized()?e.getImmediate():hB(t)}function hB(t,e={}){const n=Di(t,kd);if(n.isInitialized()){const i=n.getImmediate();if(xl(e,n.getOptions()))return i;throw dn.create("already-initialized")}return n.initialize({options:e})}function pB(t,e,n,r){t=Be(t),oB(aA,Za[t.app.options.appId],e,n,r).catch(i=>nn.error(i))}const aI="@firebase/analytics",lI="0.10.0";function gB(){Kn(new kn(kd,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return dB(r,i,n)},"PUBLIC")),Kn(new kn("analytics-internal",t,"PRIVATE")),tn(aI,lI),tn(aI,lI,"esm2017");function t(e){try{const n=e.getProvider(kd).getImmediate();return{logEvent:(r,i,o)=>pB(n,r,i,o)}}catch(n){throw dn.create("interop-component-reg-failed",{reason:n})}}}gB();var mB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V,By=By||{},ee=mB||self;function Zf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function pu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function vB(t){return Object.prototype.hasOwnProperty.call(t,jp)&&t[jp]||(t[jp]=++yB)}var jp="closure_uid_"+(1e9*Math.random()>>>0),yB=0;function _B(t,e,n){return t.call.apply(t.bind,arguments)}function wB(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Lt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Lt=_B:Lt=wB,Lt.apply(null,arguments)}function fc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function mt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Oi(){this.s=this.s,this.o=this.o}var EB=0;Oi.prototype.s=!1;Oi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),EB!=0)&&vB(this)};Oi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const lA=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function jy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function uI(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Zf(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Vt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Vt.prototype.h=function(){this.defaultPrevented=!0};var IB=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ee.addEventListener("test",()=>{},e),ee.removeEventListener("test",()=>{},e)}catch{}return t}();function Ll(t){return/^[\s\xa0]*$/.test(t)}function eh(){var t=ee.navigator;return t&&(t=t.userAgent)?t:""}function nr(t){return eh().indexOf(t)!=-1}function zy(t){return zy[" "](t),t}zy[" "]=function(){};function TB(t,e){var n=g4;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var SB=nr("Opera"),Os=nr("Trident")||nr("MSIE"),uA=nr("Edge"),Dm=uA||Os,cA=nr("Gecko")&&!(eh().toLowerCase().indexOf("webkit")!=-1&&!nr("Edge"))&&!(nr("Trident")||nr("MSIE"))&&!nr("Edge"),bB=eh().toLowerCase().indexOf("webkit")!=-1&&!nr("Edge");function dA(){var t=ee.document;return t?t.documentMode:void 0}var xm;e:{var zp="",Wp=function(){var t=eh();if(cA)return/rv:([^\);]+)(\)|;)/.exec(t);if(uA)return/Edge\/([\d\.]+)/.exec(t);if(Os)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(bB)return/WebKit\/(\S+)/.exec(t);if(SB)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Wp&&(zp=Wp?Wp[1]:""),Os){var Hp=dA();if(Hp!=null&&Hp>parseFloat(zp)){xm=String(Hp);break e}}xm=zp}var km;if(ee.document&&Os){var cI=dA();km=cI||parseInt(xm,10)||void 0}else km=void 0;var RB=km;function Vl(t,e){if(Vt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(cA){e:{try{zy(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:AB[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Vl.$.h.call(this)}}mt(Vl,Vt);var AB={2:"touch",3:"pen",4:"mouse"};Vl.prototype.h=function(){Vl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var gu="closure_listenable_"+(1e6*Math.random()|0),CB=0;function PB(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++CB,this.fa=this.ia=!1}function th(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Wy(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function DB(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function fA(t){const e={};for(const n in t)e[n]=t[n];return e}const dI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hA(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<dI.length;o++)n=dI[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function nh(t){this.src=t,this.g={},this.h=0}nh.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Nm(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new PB(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function Om(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=lA(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(th(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Nm(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Hy="closure_lm_"+(1e6*Math.random()|0),qp={};function pA(t,e,n,r,i){if(r&&r.once)return mA(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)pA(t,e[o],n,r,i);return null}return n=Ky(n),t&&t[gu]?t.O(e,n,pu(r)?!!r.capture:!!r,i):gA(t,e,n,!1,r,i)}function gA(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=pu(i)?!!i.capture:!!i,a=Gy(t);if(a||(t[Hy]=a=new nh(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=xB(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)IB||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(yA(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function xB(){function t(n){return e.call(t.src,t.listener,n)}const e=kB;return t}function mA(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)mA(t,e[o],n,r,i);return null}return n=Ky(n),t&&t[gu]?t.P(e,n,pu(r)?!!r.capture:!!r,i):gA(t,e,n,!0,r,i)}function vA(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)vA(t,e[o],n,r,i);else r=pu(r)?!!r.capture:!!r,n=Ky(n),t&&t[gu]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Nm(o,n,r,i),-1<n&&(th(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Gy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Nm(e,n,r,i)),(n=-1<t?e[t]:null)&&qy(n))}function qy(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[gu])Om(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(yA(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Gy(e))?(Om(n,t),n.h==0&&(n.src=null,e[Hy]=null)):th(t)}}}function yA(t){return t in qp?qp[t]:qp[t]="on"+t}function kB(t,e){if(t.fa)t=!0;else{e=new Vl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&qy(t),t=n.call(r,e)}return t}function Gy(t){return t=t[Hy],t instanceof nh?t:null}var Gp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ky(t){return typeof t=="function"?t:(t[Gp]||(t[Gp]=function(e){return t.handleEvent(e)}),t[Gp])}function ht(){Oi.call(this),this.i=new nh(this),this.S=this,this.J=null}mt(ht,Oi);ht.prototype[gu]=!0;ht.prototype.removeEventListener=function(t,e,n,r){vA(this,t,e,n,r)};function bt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Vt(e,t);else if(e instanceof Vt)e.target=e.target||t;else{var i=e;e=new Vt(r,t),hA(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=hc(s,r,!0,e)&&i}if(s=e.g=t,i=hc(s,r,!0,e)&&i,i=hc(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=hc(s,r,!1,e)&&i}ht.prototype.N=function(){if(ht.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)th(n[r]);delete t.g[e],t.h--}}this.J=null};ht.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ht.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function hc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&Om(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Qy=ee.JSON.stringify;class OB{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function NB(){var t=Yy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class MB{constructor(){this.h=this.g=null}add(e,n){const r=_A.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var _A=new OB(()=>new LB,t=>t.reset());class LB{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function VB(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function FB(t){ee.setTimeout(()=>{throw t},0)}let Fl,$l=!1,Yy=new MB,wA=()=>{const t=ee.Promise.resolve(void 0);Fl=()=>{t.then($B)}};var $B=()=>{for(var t;t=NB();){try{t.h.call(t.g)}catch(n){FB(n)}var e=_A;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}$l=!1};function rh(t,e){ht.call(this),this.h=t||1,this.g=e||ee,this.j=Lt(this.qb,this),this.l=Date.now()}mt(rh,ht);V=rh.prototype;V.ga=!1;V.T=null;V.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),bt(this,"tick"),this.ga&&(Xy(this),this.start()))}};V.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Xy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}V.N=function(){rh.$.N.call(this),Xy(this),delete this.g};function Jy(t,e,n){if(typeof t=="function")n&&(t=Lt(t,n));else if(t&&typeof t.handleEvent=="function")t=Lt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ee.setTimeout(t,e||0)}function EA(t){t.g=Jy(()=>{t.g=null,t.i&&(t.i=!1,EA(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class UB extends Oi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:EA(this)}N(){super.N(),this.g&&(ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ul(t){Oi.call(this),this.h=t,this.g={}}mt(Ul,Oi);var fI=[];function IA(t,e,n,r){Array.isArray(n)||(n&&(fI[0]=n.toString()),n=fI);for(var i=0;i<n.length;i++){var o=pA(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function TA(t){Wy(t.g,function(e,n){this.g.hasOwnProperty(n)&&qy(e)},t),t.g={}}Ul.prototype.N=function(){Ul.$.N.call(this),TA(this)};Ul.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ih(){this.g=!0}ih.prototype.Ea=function(){this.g=!1};function BB(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");s=2<=d.length&&d[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function jB(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function us(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+WB(t,n)+(r?" "+r:"")})}function zB(t,e){t.info(function(){return"TIMEOUT: "+e})}ih.prototype.info=function(){};function WB(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Qy(n)}catch{return e}}var Mo={},hI=null;function oh(){return hI=hI||new ht}Mo.Ta="serverreachability";function SA(t){Vt.call(this,Mo.Ta,t)}mt(SA,Vt);function Bl(t){const e=oh();bt(e,new SA(e))}Mo.STAT_EVENT="statevent";function bA(t,e){Vt.call(this,Mo.STAT_EVENT,t),this.stat=e}mt(bA,Vt);function Wt(t){const e=oh();bt(e,new bA(e,t))}Mo.Ua="timingevent";function RA(t,e){Vt.call(this,Mo.Ua,t),this.size=e}mt(RA,Vt);function mu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){t()},e)}var sh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},AA={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Zy(){}Zy.prototype.h=null;function pI(t){return t.h||(t.h=t.i())}function CA(){}var vu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function e_(){Vt.call(this,"d")}mt(e_,Vt);function t_(){Vt.call(this,"c")}mt(t_,Vt);var Mm;function ah(){}mt(ah,Zy);ah.prototype.g=function(){return new XMLHttpRequest};ah.prototype.i=function(){return{}};Mm=new ah;function yu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ul(this),this.P=HB,t=Dm?125:void 0,this.V=new rh(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new PA}function PA(){this.i=null,this.g="",this.h=!1}var HB=45e3,Lm={},Od={};V=yu.prototype;V.setTimeout=function(t){this.P=t};function Vm(t,e,n){t.L=1,t.v=uh(kr(e)),t.s=n,t.S=!0,DA(t,null)}function DA(t,e){t.G=Date.now(),_u(t),t.A=kr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),FA(n.i,"t",r),t.C=0,n=t.l.J,t.h=new PA,t.g=oC(t.l,n?e:null,!t.s),0<t.O&&(t.M=new UB(Lt(t.Pa,t,t.g),t.O)),IA(t.U,t.g,"readystatechange",t.nb),e=t.I?fA(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Bl(),BB(t.j,t.u,t.A,t.m,t.W,t.s)}V.nb=function(t){t=t.target;const e=this.M;e&&rr(t)==3?e.l():this.Pa(t)};V.Pa=function(t){try{if(t==this.g)e:{const c=rr(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||Dm||this.g&&(this.h.h||this.g.ja()||yI(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?Bl(3):Bl(2)),lh(this);var n=this.g.da();this.ca=n;t:if(xA(this)){var r=yI(this.g);t="";var i=r.length,o=rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ji(this),el(this);var s="";break t}this.h.i=new ee.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,jB(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ll(a)){var u=a;break t}}u=null}if(n=u)us(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fm(this,n);else{this.i=!1,this.o=3,Wt(12),Ji(this),el(this);break e}}this.S?(kA(this,c,s),Dm&&this.i&&c==3&&(IA(this.U,this.V,"tick",this.mb),this.V.start())):(us(this.j,this.m,s,null),Fm(this,s)),c==4&&Ji(this),this.i&&!this.J&&(c==4?tC(this.l,this):(this.i=!1,_u(this)))}else f4(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.o=3,Wt(12)):(this.o=0,Wt(13)),Ji(this),el(this)}}}catch{}finally{}};function xA(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function kA(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=qB(t,n),i==Od){e==4&&(t.o=4,Wt(14),r=!1),us(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Lm){t.o=4,Wt(15),us(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else us(t.j,t.m,i,null),Fm(t,i);xA(t)&&i!=Od&&i!=Lm&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Wt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),a_(e),e.M=!0,Wt(11))):(us(t.j,t.m,n,"[Invalid Chunked Response]"),Ji(t),el(t))}V.mb=function(){if(this.g){var t=rr(this.g),e=this.g.ja();this.C<e.length&&(lh(this),kA(this,t,e),this.i&&t!=4&&_u(this))}};function qB(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Od:(n=Number(e.substring(n,r)),isNaN(n)?Lm:(r+=1,r+n>e.length?Od:(e=e.slice(r,r+n),t.C=r+n,e)))}V.cancel=function(){this.J=!0,Ji(this)};function _u(t){t.Y=Date.now()+t.P,OA(t,t.P)}function OA(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=mu(Lt(t.lb,t),e)}function lh(t){t.B&&(ee.clearTimeout(t.B),t.B=null)}V.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(zB(this.j,this.A),this.L!=2&&(Bl(),Wt(17)),Ji(this),this.o=2,el(this)):OA(this,this.Y-t)};function el(t){t.l.H==0||t.J||tC(t.l,t)}function Ji(t){lh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Xy(t.V),TA(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Fm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||$m(n.i,t))){if(!t.K&&$m(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Ld(n),fh(n);else break e;s_(n),Wt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=mu(Lt(n.ib,n),6e3));if(1>=BA(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Zi(n,11)}else if((t.K||n.g==t)&&Ld(n),!Ll(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.i;o.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(n_(o,o.h),o.h=null))}if(r.F){const m=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,Pe(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=iC(r,r.J?r.pa:null,r.Y),s.K){jA(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.B&&(lh(a),_u(a)),r.g=s}else ZA(r);0<n.j.length&&hh(n)}else u[0]!="stop"&&u[0]!="close"||Zi(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Zi(n,7):o_(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Bl(4)}catch{}}function GB(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Zf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function KB(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Zf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function NA(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Zf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=KB(t),r=GB(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var MA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function QB(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function io(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof io){this.h=t.h,Nd(this,t.j),this.s=t.s,this.g=t.g,Md(this,t.m),this.l=t.l;var e=t.i,n=new jl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),gI(this,n),this.o=t.o}else t&&(e=String(t).match(MA))?(this.h=!1,Nd(this,e[1]||"",!0),this.s=La(e[2]||""),this.g=La(e[3]||"",!0),Md(this,e[4]),this.l=La(e[5]||"",!0),gI(this,e[6]||"",!0),this.o=La(e[7]||"")):(this.h=!1,this.i=new jl(null,this.h))}io.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Va(e,mI,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Va(e,mI,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Va(n,n.charAt(0)=="/"?JB:XB,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Va(n,e4)),t.join("")};function kr(t){return new io(t)}function Nd(t,e,n){t.j=n?La(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Md(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function gI(t,e,n){e instanceof jl?(t.i=e,t4(t.i,t.h)):(n||(e=Va(e,ZB)),t.i=new jl(e,t.h))}function Pe(t,e,n){t.i.set(e,n)}function uh(t){return Pe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function La(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Va(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,YB),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function YB(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var mI=/[#\/\?@]/g,XB=/[#\?:]/g,JB=/[#\?]/g,ZB=/[#\?@]/g,e4=/#/g;function jl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ni(t){t.g||(t.g=new Map,t.h=0,t.i&&QB(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}V=jl.prototype;V.add=function(t,e){Ni(this),this.i=null,t=Xs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function LA(t,e){Ni(t),e=Xs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function VA(t,e){return Ni(t),e=Xs(t,e),t.g.has(e)}V.forEach=function(t,e){Ni(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};V.ta=function(){Ni(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};V.Z=function(t){Ni(this);let e=[];if(typeof t=="string")VA(this,t)&&(e=e.concat(this.g.get(Xs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};V.set=function(t,e){return Ni(this),this.i=null,t=Xs(this,t),VA(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};V.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function FA(t,e,n){LA(t,e),0<n.length&&(t.i=null,t.g.set(Xs(t,e),jy(n)),t.h+=n.length)}V.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function Xs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function t4(t,e){e&&!t.j&&(Ni(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(LA(this,r),FA(this,i,n))},t)),t.j=e}var n4=class{constructor(t,e){this.g=t,this.map=e}};function $A(t){this.l=t||r4,ee.PerformanceNavigationTiming?(t=ee.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ee.g&&ee.g.Ka&&ee.g.Ka()&&ee.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var r4=10;function UA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function BA(t){return t.h?1:t.g?t.g.size:0}function $m(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function n_(t,e){t.g?t.g.add(e):t.h=e}function jA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}$A.prototype.cancel=function(){if(this.i=zA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function zA(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return jy(t.i)}var i4=class{stringify(t){return ee.JSON.stringify(t,void 0)}parse(t){return ee.JSON.parse(t,void 0)}};function o4(){this.g=new i4}function s4(t,e,n){const r=n||"";try{NA(t,function(i,o){let s=i;pu(i)&&(s=Qy(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function a4(t,e){const n=new ih;if(ee.Image){const r=new Image;r.onload=fc(pc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=fc(pc,n,r,"TestLoadImage: error",!1,e),r.onabort=fc(pc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=fc(pc,n,r,"TestLoadImage: timeout",!1,e),ee.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function pc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function wu(t){this.l=t.ec||null,this.j=t.ob||!1}mt(wu,Zy);wu.prototype.g=function(){return new ch(this.l,this.j)};wu.prototype.i=function(t){return function(){return t}}({});function ch(t,e){ht.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=r_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}mt(ch,ht);var r_=0;V=ch.prototype;V.open=function(t,e){if(this.readyState!=r_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,zl(this)};V.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ee).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};V.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Eu(this)),this.readyState=r_};V.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,zl(this)),this.g&&(this.readyState=3,zl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ee.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;WA(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function WA(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}V.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Eu(this):zl(this),this.readyState==3&&WA(this)}};V.Za=function(t){this.g&&(this.response=this.responseText=t,Eu(this))};V.Ya=function(t){this.g&&(this.response=t,Eu(this))};V.ka=function(){this.g&&Eu(this)};function Eu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,zl(t)}V.setRequestHeader=function(t,e){this.v.append(t,e)};V.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};V.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function zl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ch.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var l4=ee.JSON.parse;function He(t){ht.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=HA,this.L=this.M=!1}mt(He,ht);var HA="",u4=/^https?$/i,c4=["POST","PUT"];V=He.prototype;V.Oa=function(t){this.M=t};V.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Mm.g(),this.C=this.u?pI(this.u):pI(Mm),this.g.onreadystatechange=Lt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){vI(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=ee.FormData&&t instanceof ee.FormData,!(0<=lA(c4,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{KA(this),0<this.B&&((this.L=d4(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Lt(this.ua,this)):this.A=Jy(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){vI(this,o)}};function d4(t){return Os&&typeof t.timeout=="number"&&t.ontimeout!==void 0}V.ua=function(){typeof By<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bt(this,"timeout"),this.abort(8))};function vI(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,qA(t),dh(t)}function qA(t){t.F||(t.F=!0,bt(t,"complete"),bt(t,"error"))}V.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,bt(this,"complete"),bt(this,"abort"),dh(this))};V.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dh(this,!0)),He.$.N.call(this)};V.La=function(){this.s||(this.G||this.v||this.l?GA(this):this.kb())};V.kb=function(){GA(this)};function GA(t){if(t.h&&typeof By<"u"&&(!t.C[1]||rr(t)!=4||t.da()!=2)){if(t.v&&rr(t)==4)Jy(t.La,0,t);else if(bt(t,"readystatechange"),rr(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(MA)[1]||null;!i&&ee.self&&ee.self.location&&(i=ee.self.location.protocol.slice(0,-1)),r=!u4.test(i?i.toLowerCase():"")}n=r}if(n)bt(t,"complete"),bt(t,"success");else{t.m=6;try{var o=2<rr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",qA(t)}}finally{dh(t)}}}}function dh(t,e){if(t.g){KA(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||bt(t,"ready");try{n.onreadystatechange=r}catch{}}}function KA(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ee.clearTimeout(t.A),t.A=null)}V.isActive=function(){return!!this.g};function rr(t){return t.g?t.g.readyState:0}V.da=function(){try{return 2<rr(this)?this.g.status:-1}catch{return-1}};V.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};V.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),l4(e)}};function yI(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case HA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function f4(t){const e={};t=(t.g&&2<=rr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ll(t[r]))continue;var n=VB(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}DB(e,function(r){return r.join(", ")})}V.Ia=function(){return this.m};V.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function QA(t){let e="";return Wy(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function i_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=QA(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Pe(t,e,n))}function Ia(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function YA(t){this.Ga=0,this.j=[],this.l=new ih,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ia("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ia("baseRetryDelayMs",5e3,t),this.hb=Ia("retryDelaySeedMs",1e4,t),this.eb=Ia("forwardChannelMaxRetries",2,t),this.xa=Ia("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new $A(t&&t.concurrentRequestLimit),this.Ja=new o4,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}V=YA.prototype;V.ra=8;V.H=1;function o_(t){if(XA(t),t.H==3){var e=t.W++,n=kr(t.I);if(Pe(n,"SID",t.K),Pe(n,"RID",e),Pe(n,"TYPE","terminate"),Iu(t,n),e=new yu(t,t.l,e),e.L=2,e.v=uh(kr(n)),n=!1,ee.navigator&&ee.navigator.sendBeacon)try{n=ee.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ee.Image&&(new Image().src=e.v,n=!0),n||(e.g=oC(e.l,null),e.g.ha(e.v)),e.G=Date.now(),_u(e)}rC(t)}function fh(t){t.g&&(a_(t),t.g.cancel(),t.g=null)}function XA(t){fh(t),t.u&&(ee.clearTimeout(t.u),t.u=null),Ld(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ee.clearTimeout(t.m),t.m=null)}function hh(t){if(!UA(t.i)&&!t.m){t.m=!0;var e=t.Na;Fl||wA(),$l||(Fl(),$l=!0),Yy.add(e,t),t.C=0}}function h4(t,e){return BA(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=mu(Lt(t.Na,t,e),nC(t,t.C)),t.C++,!0)}V.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new yu(this,this.l,t);let o=this.s;if(this.U&&(o?(o=fA(o),hA(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=JA(this,i,e),n=kr(this.I),Pe(n,"RID",t),Pe(n,"CVER",22),this.F&&Pe(n,"X-HTTP-Session-Id",this.F),Iu(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(QA(o)))+"&"+e:this.o&&i_(n,this.o,o)),n_(this.i,i),this.bb&&Pe(n,"TYPE","init"),this.P?(Pe(n,"$req",e),Pe(n,"SID","null"),i.aa=!0,Vm(i,n,null)):Vm(i,n,e),this.H=2}}else this.H==3&&(t?_I(this,t):this.j.length==0||UA(this.i)||_I(this))};function _I(t,e){var n;e?n=e.m:n=t.W++;const r=kr(t.I);Pe(r,"SID",t.K),Pe(r,"RID",n),Pe(r,"AID",t.V),Iu(t,r),t.o&&t.s&&i_(r,t.o,t.s),n=new yu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=JA(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),n_(t.i,n),Vm(n,r,e)}function Iu(t,e){t.na&&Wy(t.na,function(n,r){Pe(e,r,n)}),t.h&&NA({},function(n,r){Pe(e,r,n)})}function JA(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Lt(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{s4(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function ZA(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Fl||wA(),$l||(Fl(),$l=!0),Yy.add(e,t),t.A=0}}function s_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=mu(Lt(t.Ma,t),nC(t,t.A)),t.A++,!0)}V.Ma=function(){if(this.u=null,eC(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=mu(Lt(this.jb,this),t)}};V.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Wt(10),fh(this),eC(this))};function a_(t){t.B!=null&&(ee.clearTimeout(t.B),t.B=null)}function eC(t){t.g=new yu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=kr(t.wa);Pe(e,"RID","rpc"),Pe(e,"SID",t.K),Pe(e,"AID",t.V),Pe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Pe(e,"TO",t.qa),Pe(e,"TYPE","xmlhttp"),Iu(t,e),t.o&&t.s&&i_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=uh(kr(e)),n.s=null,n.S=!0,DA(n,t)}V.ib=function(){this.v!=null&&(this.v=null,fh(this),s_(this),Wt(19))};function Ld(t){t.v!=null&&(ee.clearTimeout(t.v),t.v=null)}function tC(t,e){var n=null;if(t.g==e){Ld(t),a_(t),t.g=null;var r=2}else if($m(t.i,e))n=e.F,jA(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=oh(),bt(r,new RA(r,n)),hh(t)}else ZA(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&h4(t,e)||r==2&&s_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Zi(t,5);break;case 4:Zi(t,10);break;case 3:Zi(t,6);break;default:Zi(t,2)}}}function nC(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Zi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Lt(t.pb,t);n||(n=new io("//www.google.com/images/cleardot.gif"),ee.location&&ee.location.protocol=="http"||Nd(n,"https"),uh(n)),a4(n.toString(),r)}else Wt(2);t.H=0,t.h&&t.h.za(e),rC(t),XA(t)}V.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Wt(2)):(this.l.info("Failed to ping google.com"),Wt(1))};function rC(t){if(t.H=0,t.ma=[],t.h){const e=zA(t.i);(e.length!=0||t.j.length!=0)&&(uI(t.ma,e),uI(t.ma,t.j),t.i.i.length=0,jy(t.j),t.j.length=0),t.h.ya()}}function iC(t,e,n){var r=n instanceof io?kr(n):new io(n);if(r.g!="")e&&(r.g=e+"."+r.g),Md(r,r.m);else{var i=ee.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new io(null);r&&Nd(o,r),e&&(o.g=e),i&&Md(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Pe(r,n,e),Pe(r,"VER",t.ra),Iu(t,r),r}function oC(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new He(new wu({ob:!0})):new He(t.va),e.Oa(t.J),e}V.isActive=function(){return!!this.h&&this.h.isActive(this)};function sC(){}V=sC.prototype;V.Ba=function(){};V.Aa=function(){};V.za=function(){};V.ya=function(){};V.isActive=function(){return!0};V.Va=function(){};function Vd(){if(Os&&!(10<=Number(RB)))throw Error("Environmental error: no available transport.")}Vd.prototype.g=function(t,e){return new mn(t,e)};function mn(t,e){ht.call(this),this.g=new YA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ll(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ll(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Js(this)}mt(mn,ht);mn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Wt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=iC(t,null,t.Y),hh(t)};mn.prototype.close=function(){o_(this.g)};mn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Qy(t),t=n);e.j.push(new n4(e.fb++,t)),e.H==3&&hh(e)};mn.prototype.N=function(){this.g.h=null,delete this.j,o_(this.g),delete this.g,mn.$.N.call(this)};function aC(t){e_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}mt(aC,e_);function lC(){t_.call(this),this.status=1}mt(lC,t_);function Js(t){this.g=t}mt(Js,sC);Js.prototype.Ba=function(){bt(this.g,"a")};Js.prototype.Aa=function(t){bt(this.g,new aC(t))};Js.prototype.za=function(t){bt(this.g,new lC)};Js.prototype.ya=function(){bt(this.g,"b")};function p4(){this.blockSize=-1}function Yn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}mt(Yn,p4);Yn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Kp(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}Yn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)Kp(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){Kp(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){Kp(this,r),i=0;break}}this.h=i,this.i+=e};Yn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function _e(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var g4={};function l_(t){return-128<=t&&128>t?TB(t,function(e){return new _e([e|0],0>e?-1:0)}):new _e([t|0],0>t?-1:0)}function ir(t){if(isNaN(t)||!isFinite(t))return Es;if(0>t)return Et(ir(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Um;return new _e(e,0)}function uC(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Et(uC(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ir(Math.pow(e,8)),r=Es,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=ir(Math.pow(e,o)),r=r.R(o).add(ir(s))):(r=r.R(n),r=r.add(ir(s)))}return r}var Um=4294967296,Es=l_(0),Bm=l_(1),wI=l_(16777216);V=_e.prototype;V.ea=function(){if(bn(this))return-Et(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Um+r)*e,e*=Um}return t};V.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Tr(this))return"0";if(bn(this))return"-"+Et(this).toString(t);for(var e=ir(Math.pow(t,6)),n=this,r="";;){var i=$d(n,e).g;n=Fd(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Tr(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};V.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Tr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function bn(t){return t.h==-1}V.X=function(t){return t=Fd(this,t),bn(t)?-1:Tr(t)?0:1};function Et(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new _e(n,~t.h).add(Bm)}V.abs=function(){return bn(this)?Et(this):this};V.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new _e(n,n[n.length-1]&-2147483648?-1:0)};function Fd(t,e){return t.add(Et(e))}V.R=function(t){if(Tr(this)||Tr(t))return Es;if(bn(this))return bn(t)?Et(this).R(Et(t)):Et(Et(this).R(t));if(bn(t))return Et(this.R(Et(t)));if(0>this.X(wI)&&0>t.X(wI))return ir(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,gc(n,2*r+2*i),n[2*r+2*i+1]+=o*l,gc(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,gc(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,gc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new _e(n,0)};function gc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ta(t,e){this.g=t,this.h=e}function $d(t,e){if(Tr(e))throw Error("division by zero");if(Tr(t))return new Ta(Es,Es);if(bn(t))return e=$d(Et(t),e),new Ta(Et(e.g),Et(e.h));if(bn(e))return e=$d(t,Et(e)),new Ta(Et(e.g),e.h);if(30<t.g.length){if(bn(t)||bn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Bm,r=e;0>=r.X(t);)n=EI(n),r=EI(r);var i=zo(n,1),o=zo(r,1);for(r=zo(r,2),n=zo(n,2);!Tr(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=zo(r,1),n=zo(n,1)}return e=Fd(t,i.R(e)),new Ta(i,e)}for(i=Es;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=ir(n),s=o.R(e);bn(s)||0<s.X(t);)n-=r,o=ir(n),s=o.R(e);Tr(o)&&(o=Bm),i=i.add(o),t=Fd(t,s)}return new Ta(i,t)}V.gb=function(t){return $d(this,t).h};V.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new _e(n,this.h&t.h)};V.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new _e(n,this.h|t.h)};V.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new _e(n,this.h^t.h)};function EI(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new _e(n,t.h)}function zo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new _e(i,t.h)}Vd.prototype.createWebChannel=Vd.prototype.g;mn.prototype.send=mn.prototype.u;mn.prototype.open=mn.prototype.m;mn.prototype.close=mn.prototype.close;sh.NO_ERROR=0;sh.TIMEOUT=8;sh.HTTP_ERROR=6;AA.COMPLETE="complete";CA.EventType=vu;vu.OPEN="a";vu.CLOSE="b";vu.ERROR="c";vu.MESSAGE="d";ht.prototype.listen=ht.prototype.O;He.prototype.listenOnce=He.prototype.P;He.prototype.getLastError=He.prototype.Sa;He.prototype.getLastErrorCode=He.prototype.Ia;He.prototype.getStatus=He.prototype.da;He.prototype.getResponseJson=He.prototype.Wa;He.prototype.getResponseText=He.prototype.ja;He.prototype.send=He.prototype.ha;He.prototype.setWithCredentials=He.prototype.Oa;Yn.prototype.digest=Yn.prototype.l;Yn.prototype.reset=Yn.prototype.reset;Yn.prototype.update=Yn.prototype.j;_e.prototype.add=_e.prototype.add;_e.prototype.multiply=_e.prototype.R;_e.prototype.modulo=_e.prototype.gb;_e.prototype.compare=_e.prototype.X;_e.prototype.toNumber=_e.prototype.ea;_e.prototype.toString=_e.prototype.toString;_e.prototype.getBits=_e.prototype.D;_e.fromNumber=ir;_e.fromString=uC;var m4=function(){return new Vd},v4=function(){return oh()},Qp=sh,y4=AA,_4=Mo,II={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},w4=wu,mc=CA,E4=He,I4=Yn,Is=_e;const TI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zs="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=new qf("@firebase/firestore");function Sa(){return Io.logLevel}function U(t,...e){if(Io.logLevel<=ce.DEBUG){const n=e.map(u_);Io.debug(`Firestore (${Zs}): ${t}`,...n)}}function Or(t,...e){if(Io.logLevel<=ce.ERROR){const n=e.map(u_);Io.error(`Firestore (${Zs}): ${t}`,...n)}}function Ns(t,...e){if(Io.logLevel<=ce.WARN){const n=e.map(u_);Io.warn(`Firestore (${Zs}): ${t}`,...n)}}function u_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t="Unexpected state"){const e=`FIRESTORE (${Zs}) INTERNAL ASSERTION FAILED: `+t;throw Or(e),new Error(e)}function ke(t,e){t||Z()}function re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends Nn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class T4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ot.UNAUTHENTICATED))}shutdown(){}}class S4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class b4{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new oo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new oo,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new oo)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string"),new cC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string"),new Ot(e)}}class R4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class A4{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new R4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class C4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class P4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke(typeof n.token=="string"),this.R=n.token,new C4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=D4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function me(t,e){return t<e?-1:t>e?1:0}function Ms(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new B(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new at(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new te(e)}static min(){return new te(new at(0,0))}static max(){return new te(new at(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(),r===void 0?r=e.length-n:r>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Wl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class De extends Wl{construct(e,n,r){return new De(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new B(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new De(n)}static emptyPath(){return new De([])}}const x4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class It extends Wl{construct(e,n,r){return new It(e,n,r)}static isValidIdentifier(e){return x4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),It.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new It(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new B(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new B(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new B(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new B(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new It(n)}static emptyPath(){return new It([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.path=e}static fromPath(e){return new q(De.fromString(e))}static fromName(e){return new q(De.fromString(e).popFirst(5))}static empty(){return new q(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&De.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return De.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new q(new De(e.slice()))}}function k4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new Ti(i,q.empty(),e)}function O4(t){return new Ti(t.readTime,t.key,-1)}class Ti{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ti(te.min(),q.empty(),-1)}static max(){return new Ti(te.max(),q.empty(),-1)}}function N4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tu(t){if(t.code!==P.FAILED_PRECONDITION||t.message!==M4)throw t;U("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new x((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof x?n:x.resolve(n)}catch(n){return x.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):x.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):x.reject(n)}static resolve(e){return new x((n,r)=>{n(e)})}static reject(e){return new x((n,r)=>{r(e)})}static waitFor(e){return new x((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=x.resolve(!1);for(const r of e)n=n.next(i=>i?x.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new x((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new x((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function Su(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}c_._e=-1;function ph(t){return t==null}function Ud(t){return t===0&&1/t==-1/0}function V4(t){return typeof t=="number"&&Number.isInteger(t)&&!Ud(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Lo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function fC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n){this.comparator=e,this.root=n||wt.EMPTY}insert(e,n){return new je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wt.BLACK,null,null))}remove(e){return new je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vc(this.root,e,this.comparator,!1)}getReverseIterator(){return new vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vc(this.root,e,this.comparator,!0)}}class vc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??wt.RED,this.left=i??wt.EMPTY,this.right=o??wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new wt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return wt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();const e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}}wt.EMPTY=null,wt.RED=!0,wt.BLACK=!1;wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,n,r,i,o){return this}insert(e,n,r){return new wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bI(this.data.getIterator())}getIteratorFrom(e){return new bI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class bI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.fields=e,e.sort(It.comparator)}static empty(){return new an([])}unionWith(e){let n=new Rt(It.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new an(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ms(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new hC("Invalid base64 string: "+o):o}}(e);return new Ut(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const F4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Si(t){if(ke(!!t),typeof t=="string"){let e=0;const n=F4.exec(t);if(ke(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tt(t.seconds),nanos:tt(t.nanos)}}function tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function To(t){return typeof t=="string"?Ut.fromBase64String(t):Ut.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function f_(t){const e=t.mapValue.fields.__previous_value__;return d_(e)?f_(e):e}function Hl(t){const e=Si(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class ql{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ql&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function So(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?d_(t)?4:U4(t)?9007199254740991:10:Z()}function pr(t,e){if(t===e)return!0;const n=So(t);if(n!==So(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hl(t).isEqual(Hl(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Si(i.timestampValue),a=Si(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return To(i.bytesValue).isEqual(To(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return tt(i.geoPointValue.latitude)===tt(o.geoPointValue.latitude)&&tt(i.geoPointValue.longitude)===tt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return tt(i.integerValue)===tt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=tt(i.doubleValue),a=tt(o.doubleValue);return s===a?Ud(s)===Ud(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Ms(t.arrayValue.values||[],e.arrayValue.values||[],pr);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(SI(s)!==SI(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!pr(s[l],a[l])))return!1;return!0}(t,e);default:return Z()}}function Gl(t,e){return(t.values||[]).find(n=>pr(n,e))!==void 0}function Ls(t,e){if(t===e)return 0;const n=So(t),r=So(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=tt(o.integerValue||o.doubleValue),l=tt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return RI(t.timestampValue,e.timestampValue);case 4:return RI(Hl(t),Hl(e));case 5:return me(t.stringValue,e.stringValue);case 6:return function(o,s){const a=To(o),l=To(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=me(a[u],l[u]);if(c!==0)return c}return me(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=me(tt(o.latitude),tt(s.latitude));return a!==0?a:me(tt(o.longitude),tt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Ls(a[u],l[u]);if(c)return c}return me(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===yc.mapValue&&s===yc.mapValue)return 0;if(o===yc.mapValue)return 1;if(s===yc.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const f=me(l[d],c[d]);if(f!==0)return f;const h=Ls(a[l[d]],u[c[d]]);if(h!==0)return h}return me(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Z()}}function RI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);const n=Si(t),r=Si(e),i=me(n.seconds,r.seconds);return i!==0?i:me(n.nanos,r.nanos)}function Vs(t){return jm(t)}function jm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Si(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return To(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=jm(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${jm(n.fields[s])}`;return i+"}"}(t.mapValue):Z()}function AI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function zm(t){return!!t&&"integerValue"in t}function h_(t){return!!t&&"arrayValue"in t}function CI(t){return!!t&&"nullValue"in t}function PI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jc(t){return!!t&&"mapValue"in t}function tl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Lo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=tl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function U4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.value=e}static empty(){return new Yt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!jc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tl(n)}setAll(e){let n=It.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=tl(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];jc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Lo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Yt(tl(this.value))}}function pC(t){const e=[];return Lo(t.fields,(n,r)=>{const i=new It([n]);if(jc(r)){const o=pC(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new an(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Mt(e,0,te.min(),te.min(),te.min(),Yt.empty(),0)}static newFoundDocument(e,n,r,i){return new Mt(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new Mt(e,2,n,te.min(),te.min(),Yt.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,te.min(),te.min(),Yt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n){this.position=e,this.inclusive=n}}function DI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=q.comparator(q.fromName(s.referenceValue),n.key):r=Ls(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function xI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n="asc"){this.field=e,this.dir=n}}function B4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{}class rt extends gC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new z4(e,n,r):n==="array-contains"?new q4(e,r):n==="in"?new G4(e,r):n==="not-in"?new K4(e,r):n==="array-contains-any"?new Q4(e,r):new rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new W4(e,r):new H4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ls(n,this.value)):n!==null&&So(this.value)===So(n)&&this.matchesComparison(Ls(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends gC{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Xn(e,n)}matches(e){return mC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function mC(t){return t.op==="and"}function vC(t){return j4(t)&&mC(t)}function j4(t){for(const e of t.filters)if(e instanceof Xn)return!1;return!0}function Wm(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+Vs(t.value);if(vC(t))return t.filters.map(e=>Wm(e)).join(",");{const e=t.filters.map(n=>Wm(n)).join(",");return`${t.op}(${e})`}}function yC(t,e){return t instanceof rt?function(r,i){return i instanceof rt&&r.op===i.op&&r.field.isEqual(i.field)&&pr(r.value,i.value)}(t,e):t instanceof Xn?function(r,i){return i instanceof Xn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&yC(s,i.filters[a]),!0):!1}(t,e):void Z()}function _C(t){return t instanceof rt?function(n){return`${n.field.canonicalString()} ${n.op} ${Vs(n.value)}`}(t):t instanceof Xn?function(n){return n.op.toString()+" {"+n.getFilters().map(_C).join(" ,")+"}"}(t):"Filter"}class z4 extends rt{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){const n=q.comparator(e.key,this.key);return this.matchesComparison(n)}}class W4 extends rt{constructor(e,n){super(e,"in",n),this.keys=wC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class H4 extends rt{constructor(e,n){super(e,"not-in",n),this.keys=wC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}class q4 extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return h_(n)&&Gl(n.arrayValue,this.value)}}class G4 extends rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gl(this.value.arrayValue,n)}}class K4 extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Gl(this.value.arrayValue,n)}}class Q4 extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!h_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Gl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function kI(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Y4(t,e,n,r,i,o,s)}function p_(t){const e=re(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Wm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ph(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Vs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Vs(r)).join(",")),e.ce=n}return e.ce}function g_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!B4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xI(t.startAt,e.startAt)&&xI(t.endAt,e.endAt)}function Hm(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function X4(t,e,n,r,i,o,s,a){return new bu(t,e,n,r,i,o,s,a)}function m_(t){return new bu(t)}function OI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function EC(t){return t.collectionGroup!==null}function nl(t){const e=re(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Rt(It.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new jd(o,r))}),n.has(It.keyField().canonicalString())||e.le.push(new jd(It.keyField(),r))}return e.le}function dr(t){const e=re(t);return e.he||(e.he=J4(e,nl(t))),e.he}function J4(t,e){if(t.limitType==="F")return kI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new jd(i.field,o)});const n=t.endAt?new Bd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bd(t.startAt.position,t.startAt.inclusive):null;return kI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function qm(t,e){const n=t.filters.concat([e]);return new bu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Gm(t,e,n){return new bu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gh(t,e){return g_(dr(t),dr(e))&&t.limitType===e.limitType}function IC(t){return`${p_(dr(t))}|lt:${t.limitType}`}function qo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>_C(i)).join(", ")}]`),ph(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Vs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Vs(i)).join(",")),`Target(${r})`}(dr(t))}; limitType=${t.limitType})`}function mh(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of nl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=DI(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,nl(r),i)||r.endAt&&!function(s,a,l){const u=DI(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,nl(r),i))}(t,e)}function Z4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TC(t){return(e,n)=>{let r=!1;for(const i of nl(t)){const o=ej(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function ej(t,e,n){const r=t.field.isKeyField()?q.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Ls(l,u):Z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Lo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return fC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj=new je(q.comparator);function Nr(){return tj}const SC=new je(q.comparator);function Fa(...t){let e=SC;for(const n of t)e=e.insert(n.key,n);return e}function bC(t){let e=SC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function eo(){return rl()}function RC(){return rl()}function rl(){return new ea(t=>t.toString(),(t,e)=>t.isEqual(e))}const nj=new je(q.comparator),rj=new Rt(q.comparator);function se(...t){let e=rj;for(const n of t)e=e.add(n);return e}const ij=new Rt(me);function oj(){return ij}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ud(e)?"-0":e}}function CC(t){return{integerValue:""+t}}function sj(t,e){return V4(e)?CC(e):AC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(){this._=void 0}}function aj(t,e,n){return t instanceof zd?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&d_(o)&&(o=f_(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Kl?DC(t,e):t instanceof Ql?xC(t,e):function(i,o){const s=PC(i,o),a=NI(s)+NI(i.Ie);return zm(s)&&zm(i.Ie)?CC(a):AC(i.serializer,a)}(t,e)}function lj(t,e,n){return t instanceof Kl?DC(t,e):t instanceof Ql?xC(t,e):n}function PC(t,e){return t instanceof Wd?function(r){return zm(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class zd extends vh{}class Kl extends vh{constructor(e){super(),this.elements=e}}function DC(t,e){const n=kC(e);for(const r of t.elements)n.some(i=>pr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ql extends vh{constructor(e){super(),this.elements=e}}function xC(t,e){let n=kC(e);for(const r of t.elements)n=n.filter(i=>!pr(i,r));return{arrayValue:{values:n}}}class Wd extends vh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function NI(t){return tt(t.integerValue||t.doubleValue)}function kC(t){return h_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function uj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Kl&&i instanceof Kl||r instanceof Ql&&i instanceof Ql?Ms(r.elements,i.elements,pr):r instanceof Wd&&i instanceof Wd?pr(r.Ie,i.Ie):r instanceof zd&&i instanceof zd}(t.transform,e.transform)}class cj{constructor(e,n){this.version=e,this.transformResults=n}}class fr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yh{}function OC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new MC(t.key,fr.none()):new Ru(t.key,t.data,fr.none());{const n=t.data,r=Yt.empty();let i=new Rt(It.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Mi(t.key,r,new an(i.toArray()),fr.none())}}function dj(t,e,n){t instanceof Ru?function(i,o,s){const a=i.value.clone(),l=LI(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Mi?function(i,o,s){if(!zc(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=LI(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(NC(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function il(t,e,n,r){return t instanceof Ru?function(o,s,a,l){if(!zc(o.precondition,s))return a;const u=o.value.clone(),c=VI(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Mi?function(o,s,a,l){if(!zc(o.precondition,s))return a;const u=VI(o.fieldTransforms,l,s),c=s.data;return c.setAll(NC(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return zc(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function fj(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=PC(r.transform,i||null);o!=null&&(n===null&&(n=Yt.empty()),n.set(r.field,o))}return n||null}function MI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ms(r,i,(o,s)=>uj(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ru extends yh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Mi extends yh{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function NC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function LI(t,e,n){const r=new Map;ke(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,lj(s,a,n[i]))}return r}function VI(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,aj(o,s,e))}return r}class MC extends yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hj extends yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&dj(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=il(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=il(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RC();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=OC(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&Ms(this.mutations,e.mutations,(n,r)=>MI(n,r))&&Ms(this.baseMutations,e.baseMutations,(n,r)=>MI(n,r))}}class v_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ke(e.mutations.length===r.length);let i=function(){return nj}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new v_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et,fe;function vj(t){switch(t){default:return Z();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function LC(t){if(t===void 0)return Or("GRPC error has no .code"),P.UNKNOWN;switch(t){case et.OK:return P.OK;case et.CANCELLED:return P.CANCELLED;case et.UNKNOWN:return P.UNKNOWN;case et.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case et.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case et.INTERNAL:return P.INTERNAL;case et.UNAVAILABLE:return P.UNAVAILABLE;case et.UNAUTHENTICATED:return P.UNAUTHENTICATED;case et.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case et.NOT_FOUND:return P.NOT_FOUND;case et.ALREADY_EXISTS:return P.ALREADY_EXISTS;case et.PERMISSION_DENIED:return P.PERMISSION_DENIED;case et.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case et.ABORTED:return P.ABORTED;case et.OUT_OF_RANGE:return P.OUT_OF_RANGE;case et.UNIMPLEMENTED:return P.UNIMPLEMENTED;case et.DATA_LOSS:return P.DATA_LOSS;default:return Z()}}(fe=et||(et={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=new Is([4294967295,4294967295],0);function FI(t){const e=yj().encode(t),n=new I4;return n.update(e),new Uint8Array(n.digest())}function $I(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Is([n,r],0),new Is([i,o],0)]}class y_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $a(`Invalid padding: ${n}`);if(r<0)throw new $a(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $a(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $a(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Is.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Is.fromNumber(r)));return i.compare(_j)===1&&(i=new Is([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=FI(e),[r,i]=$I(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new y_(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;const n=FI(e),[r,i]=$I(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $a extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Au.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _h(te.min(),i,new je(me),Nr(),se())}}class Au{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Au(r,n,se(),se(),se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class VC{constructor(e,n){this.targetId=e,this.fe=n}}class FC{constructor(e,n,r=Ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class UI{constructor(){this.ge=0,this.pe=jI(),this.ye=Ut.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=se(),n=se(),r=se();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z()}}),new Au(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=jI()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class wj{constructor(e){this.Le=e,this.ke=new Map,this.qe=Nr(),this.Qe=BI(),this.Ke=new je(me)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(Hm(o))if(r===0){const s=new q(o.path);this.We(n,s,Mt.newNoDocument(s,te.min()))}else ke(r===1);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),l=a?this.et(a,e,s):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=To(r).toUint8Array()}catch(l){if(l instanceof hC)return Ns("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new y_(s,i,o)}catch(l){return Ns(l instanceof $a?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&Hm(a.target)){const l=new q(a.target.path);this.qe.get(l)!==null||this.st(s,l)||this.We(s,l,Mt.newNoDocument(l,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=se();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new _h(e,n,this.Ke,this.qe,r);return this.qe=Nr(),this.Qe=BI(),this.Ke=new je(me),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new UI,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Rt(me),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||U("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new UI),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function BI(){return new je(q.comparator)}function jI(){return new je(q.comparator)}const Ej=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Ij=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Tj=(()=>({and:"AND",or:"OR"}))();class Sj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Km(t,e){return t.useProto3Json||ph(e)?e:{value:e}}function Hd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $C(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bj(t,e){return Hd(t,e.toTimestamp())}function hr(t){return ke(!!t),te.fromTimestamp(function(n){const r=Si(n);return new at(r.seconds,r.nanos)}(t))}function __(t,e){return function(r){return new De(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function UC(t){const e=De.fromString(t);return ke(WC(e)),e}function Qm(t,e){return __(t.databaseId,e.path)}function Yp(t,e){const n=UC(e);if(n.get(1)!==t.databaseId.projectId)throw new B(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(BC(n))}function Ym(t,e){return __(t.databaseId,e)}function Rj(t){const e=UC(t);return e.length===4?De.emptyPath():BC(e)}function Xm(t){return new De(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BC(t){return ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function zI(t,e,n){return{name:Qm(t,e),fields:n.value.mapValue.fields}}function Aj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(ke(c===void 0||typeof c=="string"),Ut.fromBase64String(c||"")):(ke(c===void 0||c instanceof Uint8Array),Ut.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?P.UNKNOWN:LC(u.code);return new B(c,u.message||"")}(s);n=new FC(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Yp(t,r.document.name),o=hr(r.document.updateTime),s=r.document.createTime?hr(r.document.createTime):te.min(),a=new Yt({mapValue:{fields:r.document.fields}}),l=Mt.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Wc(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Yp(t,r.document),o=r.readTime?hr(r.readTime):te.min(),s=Mt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Wc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Yp(t,r.document),o=r.removedTargetIds||[];n=new Wc([],o,i,null)}else{if(!("filter"in e))return Z();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new mj(i,o),a=r.targetId;n=new VC(a,s)}}return n}function Cj(t,e){let n;if(e instanceof Ru)n={update:zI(t,e.key,e.value)};else if(e instanceof MC)n={delete:Qm(t,e.key)};else if(e instanceof Mi)n={update:zI(t,e.key,e.data),updateMask:Vj(e.fieldMask)};else{if(!(e instanceof hj))return Z();n={verify:Qm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof zd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Kl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ql)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Wd)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:bj(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Z()}(t,e.precondition)),n}function Pj(t,e){return t&&t.length>0?(ke(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?hr(i.updateTime):hr(o);return s.isEqual(te.min())&&(s=hr(o)),new cj(s,i.transformResults||[])}(n,e))):[]}function Dj(t,e){return{documents:[Ym(t,e.path)]}}function xj(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Ym(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ym(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return zC(Xn.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:Go(d.field),direction:Nj(d.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=Km(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function kj(t){let e=Rj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ke(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(d){const f=jC(d);return f instanceof Xn&&vC(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(f=>function(p){return new jd(Ko(p.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,ph(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,h=d.values||[];return new Bd(h,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,h=d.values||[];return new Bd(h,f)}(n.endAt)),X4(e,i,s,o,a,"F",l,u)}function Oj(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ko(n.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ko(n.unaryFilter.field);return rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ko(n.unaryFilter.field);return rt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ko(n.unaryFilter.field);return rt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(t):t.fieldFilter!==void 0?function(n){return rt.create(Ko(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Xn.create(n.compositeFilter.filters.map(r=>jC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z()}}(n.compositeFilter.op))}(t):Z()}function Nj(t){return Ej[t]}function Mj(t){return Ij[t]}function Lj(t){return Tj[t]}function Go(t){return{fieldPath:t.canonicalString()}}function Ko(t){return It.fromServerFormat(t.fieldPath)}function zC(t){return t instanceof rt?function(n){if(n.op==="=="){if(PI(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NAN"}};if(CI(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PI(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NOT_NAN"}};if(CI(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Go(n.field),op:Mj(n.op),value:n.value}}}(t):t instanceof Xn?function(n){const r=n.getFilters().map(i=>zC(i));return r.length===1?r[0]:{compositeFilter:{op:Lj(n.op),filters:r}}}(t):Z()}function Vj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function WC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,n,r,i,o=te.min(),s=te.min(),a=Ut.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ti(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e){this.ut=e}}function $j(t){const e=kj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Gm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(){this.on=new Bj}addToCollectionParentIndex(e,n){return this.on.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(Ti.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(Ti.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}}class Bj{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Rt(De.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Rt(De.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Fs(0)}static Nn(){return new Fs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(){this.changes=new ea(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&il(r.mutation,i,an.empty(),at.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=se()){const i=eo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Fa();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=eo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,se()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Nr();const s=rl(),a=function(){return rl()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Mi)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),il(c.mutation,u,c.mutation.getFieldMask(),at.now())):s.set(u.key,an.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new zj(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=rl();let i=new je((s,a)=>s-a),o=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||an.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||se()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=RC();c.forEach(f=>{if(!o.has(f)){const h=OC(n.get(f),r.get(f));h!==null&&d.set(f,h),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):EC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):x.resolve(eo());let a=-1,l=o;return s.next(u=>x.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?x.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,se())).next(c=>({batchId:a,changes:bC(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=Fa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Fa();return this.indexManager.getCollectionParents(e,o).next(a=>x.forEach(a,l=>{const u=function(d,f){return new bu(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,f)=>{s=s.insert(d,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Mt.newInvalidDocument(c)))});let a=Fa();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&il(c.mutation,u,an.empty(),at.now()),mh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return x.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:hr(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:$j(i.bundledQuery),readTime:hr(i.readTime)}}(n)),x.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(){this.overlays=new je(q.comparator),this.lr=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){const r=eo();return x.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.lt(e,n,o)}),x.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){const i=eo(),o=n.length+1,s=new q(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new je((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=eo(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=eo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return x.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new gj(n,r));let o=this.lr.get(n);o===void 0&&(o=se(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(){this.hr=new Rt(ut.Pr),this.Ir=new Rt(ut.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new ut(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new ut(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new q(new De([])),r=new ut(n,e),i=new ut(n,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new q(new De([])),r=new ut(n,e),i=new ut(n,e+1);let o=se();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new ut(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ut{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return q.comparator(e.key,n.key)||me(e.gr,n.gr)}static Tr(e,n){return me(e.gr,n.gr)||q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Rt(ut.Pr)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new pj(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new ut(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,n){return x.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ut(n,0),i=new ut(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{const a=this.wr(s.gr);o.push(a)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Rt(me);return n.forEach(i=>{const o=new ut(i,0),s=new ut(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),x.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;q.isDocumentKey(o)||(o=o.child(""));const s=new ut(new q(o),0);let a=new Rt(me);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},s),x.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ke(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return x.forEach(n.mutations,i=>{const o=new ut(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new ut(n,0),i=this.yr.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e){this.Cr=e,this.docs=function(){return new je(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let r=Nr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Mt.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Nr();const s=n.path,a=new q(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||N4(O4(c),r)<=0||(i.has(c.key)||mh(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Z()}vr(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Qj(this)}getSize(e){return x.resolve(this.size)}}class Qj extends jj{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e){this.persistence=e,this.Fr=new ea(n=>p_(n),g_),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Mr=0,this.Or=new w_,this.targetCount=0,this.Nr=Fs.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),x.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Fs(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.kn(n),x.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),x.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e,n){this.Br={},this.overlays={},this.Lr=new c_(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Yj(this),this.indexManager=new Uj,this.remoteDocumentCache=function(i){return new Kj(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new Fj(n),this.Kr=new Hj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Gj(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);const i=new Jj(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,n){return x.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Jj extends L4{constructor(e){super(),this.currentSequenceNumber=e}}class E_{constructor(e){this.persistence=e,this.Gr=new w_,this.zr=null}static jr(e){return new E_(e)}get Hr(){if(this.zr)return this.zr;throw Z()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),x.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Hr,r=>{const i=q.fromPath(r);return this.Jr(e,i).next(o=>{o||n.removeEntry(i,te.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return x.or([()=>x.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=se(),i=se();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new I_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Zj;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Sa()<=ce.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",qo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),x.resolve()):(Sa()<=ce.DEBUG&&U("QueryEngine","Query:",qo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Sa()<=ce.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",qo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,dr(n))):x.resolve())}zi(e,n){if(OI(n))return x.resolve(null);let r=dr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Gm(n,null,"F"),r=dr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=se(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,s,l.readTime)?this.zi(e,Gm(n,null,"F")):this.Xi(e,u,n,l)}))})))}ji(e,n,r,i){return OI(n)||i.isEqual(te.min())?x.resolve(null):this.Gi.getDocuments(e,r).next(o=>{const s=this.Yi(n,o);return this.Zi(n,s,r,i)?x.resolve(null):(Sa()<=ce.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qo(n)),this.Xi(e,s,n,k4(i,-1)).next(a=>a))})}Yi(e,n){let r=new Rt(TC(e));return n.forEach((i,o)=>{mh(e,o)&&(r=r.add(o))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,n,r){return Sa()<=ce.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",qo(n)),this.Gi.getDocumentsMatchingQuery(e,n,Ti.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new je(me),this.ns=new ea(o=>p_(o),g_),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wj(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function n3(t,e,n,r){return new t3(t,e,n,r)}async function HC(t,e){const n=re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=se();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:s,addedBatchIds:a}))})})}function r3(t,e){const n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,f=d.keys();let h=x.resolve();return f.forEach(p=>{h=h.next(()=>c.getEntry(l,p)).next(m=>{const w=u.docVersions.get(p);ke(w!==null),m.version.compareTo(w)<0&&(d.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),c.addEntry(m)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=se();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function qC(t){const e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function i3(t,e){const n=re(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.qr.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.qr.addMatchingKeys(o,c.addedDocuments,d)));let h=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?h=h.withResumeToken(Ut.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(d,h),function(m,w,g){return m.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,h,c)&&a.push(n.qr.updateTargetData(o,h))});let l=Nr(),u=se();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(o3(o,s,e.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(te.min())){const c=n.qr.getLastRemoteSnapshotVersion(o).next(d=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return x.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ts=i,o))}function o3(t,e,n){let r=se(),i=se();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Nr();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(te.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):U("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:s,cs:i}})}function s3(t,e){const n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function a3(t,e){const n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new ti(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function Jm(t,e,n){const r=re(t),i=r.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Su(s))throw s;U("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function WI(t,e,n){const r=re(t);let i=te.min(),o=se();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=re(l),f=d.ns.get(c);return f!==void 0?x.resolve(d.ts.get(f)):d.qr.getTargetData(u,c)}(r,s,dr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,n?i:te.min(),n?o:se())).next(a=>(l3(r,Z4(e),a),{documents:a,ls:o})))}function l3(t,e,n){let r=t.rs.get(e)||te.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.rs.set(e,r)}class HI{constructor(){this.activeTargetIds=oj()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class u3{constructor(){this.eo=new HI,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new HI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _c=null;function Xp(){return _c===null?_c=function(){return 268435456+Math.round(2147483648*Math.random())}():_c++,"0x"+_c.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kt="WebChannelConnection";class h3 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${o}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get yo(){return!1}wo(n,r,i,o,s){const a=Xp(),l=this.So(n,r);U("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,o,s),this.Do(n,l,u,i).then(c=>(U("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Ns("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Co(n,r,i,o,s,a){return this.wo(n,r,i,o,s)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}So(n,r){const i=d3[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const o=Xp();return new Promise((s,a)=>{const l=new E4;l.setWithCredentials(!0),l.listenOnce(y4.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Qp.NO_ERROR:const c=l.getResponseJson();U(kt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case Qp.TIMEOUT:U(kt,`RPC '${e}' ${o} timed out`),a(new B(P.DEADLINE_EXCEEDED,"Request time out"));break;case Qp.HTTP_ERROR:const d=l.getStatus();if(U(kt,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f==null?void 0:f.error;if(h&&h.status&&h.message){const p=function(w){const g=w.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(g)>=0?g:P.UNKNOWN}(h.status);a(new B(p,h.message))}else a(new B(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new B(P.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{U(kt,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);U(kt,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}vo(e,n,r){const i=Xp(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=m4(),a=v4(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new w4({})),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");U(kt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);let f=!1,h=!1;const p=new f3({co:w=>{h?U(kt,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(f||(U(kt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),U(kt,`RPC '${e}' stream ${i} sending:`,w),d.send(w))},lo:()=>d.close()}),m=(w,g,v)=>{w.listen(g,_=>{try{v(_)}catch(y){setTimeout(()=>{throw y},0)}})};return m(d,mc.EventType.OPEN,()=>{h||U(kt,`RPC '${e}' stream ${i} transport opened.`)}),m(d,mc.EventType.CLOSE,()=>{h||(h=!0,U(kt,`RPC '${e}' stream ${i} transport closed`),p.Ro())}),m(d,mc.EventType.ERROR,w=>{h||(h=!0,Ns(kt,`RPC '${e}' stream ${i} transport errored:`,w),p.Ro(new B(P.UNAVAILABLE,"The operation could not be completed")))}),m(d,mc.EventType.MESSAGE,w=>{var g;if(!h){const v=w.data[0];ke(!!v);const _=v,y=_.error||((g=_[0])===null||g===void 0?void 0:g.error);if(y){U(kt,`RPC '${e}' stream ${i} received error:`,y);const I=y.status;let S=function(O){const N=et[O];if(N!==void 0)return LC(N)}(I),b=y.message;S===void 0&&(S=P.INTERNAL,b="Unknown error status: "+I+" with message "+y.message),h=!0,p.Ro(new B(S,b)),d.close()}else U(kt,`RPC '${e}' stream ${i} received:`,v),p.Vo(v)}}),m(a,_4.STAT_EVENT,w=>{w.stat===II.PROXY?U(kt,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===II.NOPROXY&&U(kt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function Jp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(t){return new Sj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n,r,i,o,s,a,l){this.si=e,this.Ko=r,this.$o=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new GC(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(Or(n.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new B(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return U("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class p3 extends KC{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=Aj(this.serializer,e),r=function(o){if(!("targetChange"in o))return te.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?hr(s.readTime):te.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Xm(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Hm(l)?{documents:Dj(o,l)}:{query:xj(o,l)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=$C(o,s.resumeToken);const u=Km(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(te.min())>0){a.readTime=Hd(o,s.snapshotVersion.toTimestamp());const u=Km(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Oj(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Xm(this.serializer),n.removeTarget=e,this.e_(n)}}class g3 extends KC{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=Pj(e.writeResults,e.commitTime),r=hr(e.commitTime);return this.listener.I_(r,n)}return ke(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Xm(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Cj(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new B(P.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new B(P.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(P.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class v3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Or(n),this.f_=!1):U("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(s=>{r.enqueueAndForget(async()=>{Vo(this)&&(U("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=re(l);u.C_.add(4),await Cu(u),u.M_.set("Unknown"),u.C_.delete(4),await Eh(u)}(this))})}),this.M_=new v3(r,i)}}async function Eh(t){if(Vo(t))for(const e of t.v_)await e(!0)}async function Cu(t){for(const e of t.v_)await e(!1)}function QC(t,e){const n=re(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),b_(n)?S_(n):ta(n).Ho()&&T_(n,e))}function YC(t,e){const n=re(t),r=ta(n);n.D_.delete(e),r.Ho()&&XC(n,e),n.D_.size===0&&(r.Ho()?r.Zo():Vo(n)&&n.M_.set("Unknown"))}function T_(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ta(t).u_(e)}function XC(t,e){t.x_.Oe(e),ta(t).c_(e)}function S_(t){t.x_=new wj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),ta(t).start(),t.M_.g_()}function b_(t){return Vo(t)&&!ta(t).jo()&&t.D_.size>0}function Vo(t){return re(t).C_.size===0}function JC(t){t.x_=void 0}async function _3(t){t.D_.forEach((e,n)=>{T_(t,e)})}async function w3(t,e){JC(t),b_(t)?(t.M_.w_(e),S_(t)):t.M_.set("Unknown")}async function E3(t,e,n){if(t.M_.set("Online"),e instanceof FC&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.D_.delete(a),i.x_.removeTarget(a))}(t,e)}catch(r){U("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qd(t,r)}else if(e instanceof Wc?t.x_.$e(e):e instanceof VC?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(te.min()))try{const r=await qC(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.D_.get(u);c&&o.D_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.D_.get(l);if(!c)return;o.D_.set(l,c.withResumeToken(Ut.EMPTY_BYTE_STRING,c.snapshotVersion)),XC(o,l);const d=new ti(c.target,l,u,c.sequenceNumber);T_(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){U("RemoteStore","Failed to raise snapshot:",r),await qd(t,r)}}async function qd(t,e,n){if(!Su(e))throw e;t.C_.add(1),await Cu(t),t.M_.set("Offline"),n||(n=()=>qC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{U("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await Eh(t)})}function ZC(t,e){return e().catch(n=>qd(t,n,e))}async function Ih(t){const e=re(t),n=bi(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;I3(e);)try{const i=await s3(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,T3(e,i)}catch(i){await qd(e,i)}eP(e)&&tP(e)}function I3(t){return Vo(t)&&t.b_.length<10}function T3(t,e){t.b_.push(e);const n=bi(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function eP(t){return Vo(t)&&!bi(t).jo()&&t.b_.length>0}function tP(t){bi(t).start()}async function S3(t){bi(t).E_()}async function b3(t){const e=bi(t);for(const n of t.b_)e.P_(n.mutations)}async function R3(t,e,n){const r=t.b_.shift(),i=v_.from(r,e,n);await ZC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ih(t)}async function A3(t,e){e&&bi(t).h_&&await async function(r,i){if(function(s){return vj(s)&&s!==P.ABORTED}(i.code)){const o=r.b_.shift();bi(r).Yo(),await ZC(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Ih(r)}}(t,e),eP(t)&&tP(t)}async function GI(t,e){const n=re(t);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");const r=Vo(n);n.C_.add(3),await Cu(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await Eh(n)}async function C3(t,e){const n=re(t);e?(n.C_.delete(2),await Eh(n)):e||(n.C_.add(2),await Cu(n),n.M_.set("Unknown"))}function ta(t){return t.O_||(t.O_=function(n,r,i){const o=re(n);return o.A_(),new p3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:_3.bind(null,t),Io:w3.bind(null,t),a_:E3.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),b_(t)?S_(t):t.M_.set("Unknown")):(await t.O_.stop(),JC(t))})),t.O_}function bi(t){return t.N_||(t.N_=function(n,r,i){const o=re(n);return o.A_(),new g3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:S3.bind(null,t),Io:A3.bind(null,t),T_:b3.bind(null,t),I_:R3.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await Ih(t)):(await t.N_.stop(),t.b_.length>0&&(U("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new oo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new R_(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function A_(t,e){if(Or("AsyncQueue",`${e}: ${t}`),Su(t))return new B(P.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=Fa(),this.sortedSet=new je(this.comparator)}static emptySet(e){return new Ts(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ts)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ts;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(){this.B_=new je(q.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Z():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class $s{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new $s(e,n,Ts.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(){this.k_=void 0,this.listeners=[]}}class D3{constructor(){this.queries=new ea(e=>IC(e),gh),this.onlineState="Unknown",this.q_=new Set}}async function x3(t,e){const n=re(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new P3),i)try{o.k_=await n.onListen(r)}catch(s){const a=A_(s,`Initialization of query '${qo(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&C_(n)}async function k3(t,e){const n=re(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function O3(t,e){const n=re(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.listeners)a.K_(i)&&(r=!0);s.k_=i}}r&&C_(n)}function N3(t,e,n){const r=re(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function C_(t){t.q_.forEach(e=>{e.next()})}class M3{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new $s(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=$s.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.key=e}}class rP{constructor(e){this.key=e}}class L3{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=se(),this.mutatedKeys=se(),this._a=TC(e),this.aa=new Ts(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new KI,i=n?n.aa:this.aa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),h=mh(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let w=!1;f&&h?f.data.isEqual(h.data)?p!==m&&(r.track({type:3,doc:h}),w=!0):this.ha(f,h)||(r.track({type:2,doc:h}),w=!0,(l&&this._a(h,l)>0||u&&this._a(h,u)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),w=!0):f&&!h&&(r.track({type:1,doc:f}),w=!0,(l||u)&&(a=!0)),w&&(h?(s=s.add(h),o=m?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{aa:s,la:r,Zi:a,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((u,c)=>function(f,h){const p=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return p(f)-p(h)}(u.type,c.type)||this._a(u.doc,c.doc)),this.Pa(r);const s=n?this.Ia():[],a=this.oa.size===0&&this.current?1:0,l=a!==this.sa;return this.sa=a,o.length!==0||l?{snapshot:new $s(this.query,e.aa,i,o,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new KI,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=se(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new rP(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new nP(r))}),n}da(e){this.ia=e.ls,this.oa=se();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return $s.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class V3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class F3{constructor(e){this.key=e,this.Ra=!1}}class $3{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new ea(a=>IC(a),gh),this.fa=new Map,this.ga=new Set,this.pa=new je(q.comparator),this.ya=new Map,this.wa=new w_,this.Sa={},this.ba=new Map,this.Da=Fs.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function U3(t,e){const n=Y3(t);let r,i;const o=n.ma.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const s=await a3(n.localStore,dr(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await B3(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&QC(n.remoteStore,s)}return i}async function B3(t,e,n,r,i){t.va=(d,f,h)=>async function(m,w,g,v){let _=w.view.ca(g);_.Zi&&(_=await WI(m.localStore,w.query,!1).then(({documents:S})=>w.view.ca(S,_)));const y=v&&v.targetChanges.get(w.targetId),I=w.view.applyChanges(_,m.isPrimaryClient,y);return YI(m,w.targetId,I.Ta),I.snapshot}(t,d,f,h);const o=await WI(t.localStore,e,!0),s=new L3(e,o.ls),a=s.ca(o.documents),l=Au.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);YI(t,n,u.Ta);const c=new V3(e,n,s);return t.ma.set(e,c),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),u.snapshot}async function j3(t,e){const n=re(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(o=>!gh(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Jm(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),YC(n.remoteStore,r.targetId),Zm(n,r.targetId)}).catch(Tu)):(Zm(n,r.targetId),await Jm(n.localStore,r.targetId,!0))}async function z3(t,e,n){const r=X3(t);try{const i=await function(s,a){const l=re(s),u=at.now(),c=a.reduce((h,p)=>h.add(p.key),se());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Nr(),m=se();return l.ss.getEntries(h,c).next(w=>{p=w,p.forEach((g,v)=>{v.isValidDocument()||(m=m.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,p)).next(w=>{d=w;const g=[];for(const v of a){const _=fj(v,d.get(v.key).overlayedDocument);_!=null&&g.push(new Mi(v.key,_,pC(_.value.mapValue),fr.exists(!0)))}return l.mutationQueue.addMutationBatch(h,u,g,a)}).next(w=>{f=w;const g=w.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(h,w.batchId,g)})}).then(()=>({batchId:f.batchId,changes:bC(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Sa[s.currentUser.toKey()];u||(u=new je(me)),u=u.insert(a,l),s.Sa[s.currentUser.toKey()]=u}(r,i.batchId,n),await Pu(r,i.changes),await Ih(r.remoteStore)}catch(i){const o=A_(i,"Failed to persist write");n.reject(o)}}async function iP(t,e){const n=re(t);try{const r=await i3(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.ya.get(o);s&&(ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ra=!0:i.modifiedDocuments.size>0?ke(s.Ra):i.removedDocuments.size>0&&(ke(s.Ra),s.Ra=!1))}),await Pu(n,r,e)}catch(r){await Tu(r)}}function QI(t,e,n){const r=re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=re(s);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const f of d.listeners)f.Q_(a)&&(u=!0)}),u&&C_(l)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function W3(t,e,n){const r=re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),o=i&&i.key;if(o){let s=new je(q.comparator);s=s.insert(o,Mt.newNoDocument(o,te.min()));const a=se().add(o),l=new _h(te.min(),new Map,new je(me),s,a);await iP(r,l),r.pa=r.pa.remove(o),r.ya.delete(e),P_(r)}else await Jm(r.localStore,e,!1).then(()=>Zm(r,e,n)).catch(Tu)}async function H3(t,e){const n=re(t),r=e.batch.batchId;try{const i=await r3(n.localStore,e);sP(n,r,null),oP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pu(n,i)}catch(i){await Tu(i)}}async function q3(t,e,n){const r=re(t);try{const i=await function(s,a){const l=re(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(ke(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);sP(r,e,n),oP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Pu(r,i)}catch(i){await Tu(i)}}function oP(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function sP(t,e,n){const r=re(t);let i=r.Sa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Zm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||aP(t,r)})}function aP(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(YC(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),P_(t))}function YI(t,e,n){for(const r of n)r instanceof nP?(t.wa.addReference(r.key,e),G3(t,r)):r instanceof rP?(U("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||aP(t,r.key)):Z()}function G3(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(U("SyncEngine","New document in limbo: "+n),t.ga.add(r),P_(t))}function P_(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new q(De.fromString(e)),r=t.Da.next();t.ya.set(r,new F3(n)),t.pa=t.pa.insert(n,r),QC(t.remoteStore,new ti(dr(m_(n.path)),r,"TargetPurposeLimboResolution",c_._e))}}async function Pu(t,e,n){const r=re(t),i=[],o=[],s=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{s.push(r.va(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=I_.Qi(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.Va.a_(i),await async function(l,u){const c=re(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>x.forEach(u,f=>x.forEach(f.ki,h=>c.persistence.referenceDelegate.addReference(d,f.targetId,h)).next(()=>x.forEach(f.qi,h=>c.persistence.referenceDelegate.removeReference(d,f.targetId,h)))))}catch(d){if(!Su(d))throw d;U("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const h=c.ts.get(f),p=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(p);c.ts=c.ts.insert(f,m)}}}(r.localStore,o))}async function K3(t,e){const n=re(t);if(!n.currentUser.isEqual(e)){U("SyncEngine","User change. New user:",e.toKey());const r=await HC(n.localStore,e);n.currentUser=e,function(o,s){o.ba.forEach(a=>{a.forEach(l=>{l.reject(new B(P.CANCELLED,s))})}),o.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Pu(n,r._s)}}function Q3(t,e){const n=re(t),r=n.ya.get(e);if(r&&r.Ra)return se().add(r.key);{let i=se();const o=n.fa.get(e);if(!o)return i;for(const s of o){const a=n.ma.get(s);i=i.unionWith(a.view.ua)}return i}}function Y3(t){const e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Q3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=W3.bind(null,e),e.Va.a_=O3.bind(null,e.eventManager),e.Va.Fa=N3.bind(null,e.eventManager),e}function X3(t){const e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=H3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=q3.bind(null,e),e}class XI{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=wh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return n3(this.persistence,new e3,e.initialUser,this.serializer)}createPersistence(e){return new Xj(E_.jr,this.serializer)}createSharedClientState(e){return new u3}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class J3{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>QI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=K3.bind(null,this.syncEngine),await C3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new D3}()}createDatastore(e){const n=wh(e.databaseInfo.databaseId),r=function(o){return new h3(o)}(e.databaseInfo);return function(o,s,a,l){return new m3(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new y3(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>QI(this.syncEngine,n,0),function(){return qI.D()?new qI:new c3}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const d=new $3(i,o,s,a,l,u);return c&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=re(n);U("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await Cu(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Or("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ot.UNAUTHENTICATED,this.clientId=dC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{U("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(U("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new B(P.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=A_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Zp(t,e){t.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await HC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function JI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await n9(t);U("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>GI(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>GI(e.remoteStore,o)),t._onlineComponents=e}function t9(t){return t.name==="FirebaseError"?t.code===P.FAILED_PRECONDITION||t.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function n9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{await Zp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!t9(n))throw n;Ns("Error using user provided cache. Falling back to memory cache: "+n),await Zp(t,new XI)}}else U("FirestoreClient","Using default OfflineComponentProvider"),await Zp(t,new XI);return t._offlineComponents}async function lP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),await JI(t,t._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),await JI(t,new J3))),t._onlineComponents}function r9(t){return lP(t).then(e=>e.syncEngine)}async function ZI(t){const e=await lP(t),n=e.eventManager;return n.onListen=U3.bind(null,e.syncEngine),n.onUnlisten=j3.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(t,e,n){if(!n)throw new B(P.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function i9(t,e,n,r){if(e===!0&&r===!0)throw new B(P.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function tT(t){if(!q.isDocumentKey(t))throw new B(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nT(t){if(q.isDocumentKey(t))throw new B(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Th(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z()}function so(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Th(t);throw new B(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new B(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new B(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}i9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new B(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new B(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new B(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new B(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new B(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new T4;switch(r.type){case"firstParty":return new A4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=eT.get(n);r&&(U("ComponentProvider","Removing Datastore"),eT.delete(n),r.terminate())}(this),Promise.resolve()}}function o9(t,e,n,r={}){var i;const o=(t=so(t,Sh))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ns("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ot.MOCK_USER;else{a=X1(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new B(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ot(u)}t._authCredentials=new S4(new cC(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new na(this.firestore,e,this._query)}}class rn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}}class gi extends na{constructor(e,n,r){super(e,n,m_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new q(e))}withConverter(e){return new gi(this.firestore,e,this._path)}}function bh(t,e,...n){if(t=Be(t),cP("collection","path",e),t instanceof Sh){const r=De.fromString(e,...n);return nT(r),new gi(t,null,r)}{if(!(t instanceof rn||t instanceof gi))throw new B(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return nT(r),new gi(t.firestore,null,r)}}function Rh(t,e,...n){if(t=Be(t),arguments.length===1&&(e=dC.newId()),cP("doc","path",e),t instanceof Sh){const r=De.fromString(e,...n);return tT(r),new rn(t,null,new q(r))}{if(!(t instanceof rn||t instanceof gi))throw new B(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return tT(r),new rn(t.firestore,t instanceof gi?t.converter:null,new q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new GC(this,"async_queue_retry"),this.iu=()=>{const n=Jp();n&&U("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Jp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Jp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new oo;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Su(e))throw e;U("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Or("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=R_.createAndSchedule(this,e,n,r,o=>this.au(o));return this.Xa.push(i),i}su(){this.eu&&Z()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function iT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Yl extends Sh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new s9}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||fP(this),this._firestoreClient.terminate()}}function a9(t,e){const n=typeof t=="object"?t:Gf(),r=typeof t=="string"?t:e||"(default)",i=Di(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=K1("firestore");o&&o9(i,...o)}return i}function dP(t){return t._firestoreClient||fP(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function fP(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new $4(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,uP(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new e9(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Us(Ut.fromBase64String(e))}catch(n){throw new B(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Us(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new It(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9=/^__.*__$/;class u9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Mi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ru(e,this.data,n,this.fieldTransforms)}}class hP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Mi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function pP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}class k_{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new k_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Gd(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(pP(this.Iu)&&l9.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class c9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||wh(e)}pu(e,n,r,i=!1){return new k_({Iu:e,methodName:n,gu:r,path:It.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function O_(t){const e=t._freezeSettings(),n=wh(t._databaseId);return new c9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function d9(t,e,n,r,i,o={}){const s=t.pu(o.merge||o.mergeFields?2:0,e,n,i);N_("Data must be an object, but it was:",s,r);const a=gP(r,s);let l,u;if(o.merge)l=new an(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const f=ev(e,d,n);if(!s.contains(f))throw new B(P.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);vP(c,f)||c.push(f)}l=new an(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new u9(new Yt(a),l,u)}class Ch extends D_{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ch}}function f9(t,e,n,r){const i=t.pu(1,e,n);N_("Data must be an object, but it was:",i,r);const o=[],s=Yt.empty();Lo(r,(l,u)=>{const c=M_(e,l,n);u=Be(u);const d=i.Ru(c);if(u instanceof Ch)o.push(c);else{const f=Du(u,d);f!=null&&(o.push(c),s.set(c,f))}});const a=new an(o);return new hP(s,a,i.fieldTransforms)}function h9(t,e,n,r,i,o){const s=t.pu(1,e,n),a=[ev(e,r,n)],l=[i];if(o.length%2!=0)throw new B(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(ev(e,o[f])),l.push(o[f+1]);const u=[],c=Yt.empty();for(let f=a.length-1;f>=0;--f)if(!vP(u,a[f])){const h=a[f];let p=l[f];p=Be(p);const m=s.Ru(h);if(p instanceof Ch)u.push(h);else{const w=Du(p,m);w!=null&&(u.push(h),c.set(h,w))}}const d=new an(u);return new hP(c,d,s.fieldTransforms)}function p9(t,e,n,r=!1){return Du(n,t.pu(r?4:3,e))}function Du(t,e){if(mP(t=Be(t)))return N_("Unsupported field value:",e,t),gP(t,e);if(t instanceof D_)return function(r,i){if(!pP(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Du(a,i.Vu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Be(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=at.fromDate(r);return{timestampValue:Hd(i.serializer,o)}}if(r instanceof at){const o=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hd(i.serializer,o)}}if(r instanceof x_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Us)return{bytesValue:$C(i.serializer,r._byteString)};if(r instanceof rn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:__(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Th(r)}`)}(t,e)}function gP(t,e){const n={};return fC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lo(t,(r,i)=>{const o=Du(i,e.Eu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function mP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof x_||t instanceof Us||t instanceof rn||t instanceof D_)}function N_(t,e,n){if(!mP(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Th(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function ev(t,e,n){if((e=Be(e))instanceof Ah)return e._internalPath;if(typeof e=="string")return M_(t,e);throw Gd("Field path arguments must be of type string or ",t,!1,void 0,n)}const g9=new RegExp("[~\\*/\\[\\]]");function M_(t,e,n){if(e.search(g9)>=0)throw Gd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ah(...e.split("."))._internalPath}catch{throw Gd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gd(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new B(P.INVALID_ARGUMENT,a+t+l)}function vP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(L_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class m9 extends yP{data(){return super.data()}}function L_(t,e){return typeof e=="string"?M_(t,e):e instanceof Ah?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new B(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class V_{}class y9 extends V_{}function _P(t,e,...n){let r=[];e instanceof V_&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof F_).length,a=o.filter(l=>l instanceof Ph).length;if(s>1||s>0&&a>0)throw new B(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Ph extends y9{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ph(e,n,r)}_apply(e){const n=this._parse(e);return wP(e._query,n),new na(e.firestore,e.converter,qm(e._query,n))}_parse(e){const n=O_(e.firestore);return function(o,s,a,l,u,c,d){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new B(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){sT(d,c);const h=[];for(const p of d)h.push(oT(l,o,p));f={arrayValue:{values:h}}}else f=oT(l,o,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||sT(d,c),f=p9(a,s,d,c==="in"||c==="not-in");return rt.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function _9(t,e,n){const r=e,i=L_("where",t);return Ph._create(i,r,n)}class F_ extends V_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new F_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Xn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)wP(s,l),s=qm(s,l)}(e._query,n),new na(e.firestore,e.converter,qm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function oT(t,e,n){if(typeof(n=Be(n))=="string"){if(n==="")throw new B(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EC(e)&&n.indexOf("/")!==-1)throw new B(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(De.fromString(n));if(!q.isDocumentKey(r))throw new B(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return AI(t,new q(r))}if(n instanceof rn)return AI(t,n._key);throw new B(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Th(n)}.`)}function sT(t,e){if(!Array.isArray(t)||t.length===0)throw new B(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wP(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new B(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new B(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class w9{convertValue(e,n="none"){switch(So(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(To(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Lo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new x_(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=f_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Hl(e));default:return null}}convertTimestamp(e){const n=Si(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=De.fromString(e);ke(WC(r));const i=new ql(r.get(1),r.get(3)),o=new q(r.popFirst(5));return i.isEqual(n)||Or(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class EP extends yP{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(L_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Hc extends EP{data(e={}){return super.data(e)}}class I9{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ua(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hc(this._firestore,this._userDataWriter,r.key,r,new Ua(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Hc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ua(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Hc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ua(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:T9(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function T9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}class IP extends w9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Us(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,n)}}function $_(t,e,n,...r){t=so(t,rn);const i=so(t.firestore,Yl),o=O_(i);let s;return s=typeof(e=Be(e))=="string"||e instanceof Ah?h9(o,"updateDoc",t._key,e,n,r):f9(o,"updateDoc",t._key,e),bP(i,[s.toMutation(t._key,fr.exists(!0))])}function TP(t,e){const n=so(t.firestore,Yl),r=Rh(t),i=E9(t.converter,e);return bP(n,[d9(O_(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,fr.exists(!1))]).then(()=>r)}function SP(t,...e){var n,r,i;t=Be(t);let o={includeMetadataChanges:!1},s=0;typeof e[s]!="object"||iT(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(iT(e[s])){const d=e[s];e[s]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[s+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[s+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof rn)u=so(t.firestore,Yl),c=m_(t._key.path),l={next:d=>{e[s]&&e[s](S9(u,t,d))},error:e[s+1],complete:e[s+2]};else{const d=so(t,na);u=so(d.firestore,Yl),c=d._query;const f=new IP(u);l={next:h=>{e[s]&&e[s](new I9(u,f,d,h))},error:e[s+1],complete:e[s+2]},v9(t._query)}return function(f,h,p,m){const w=new Z3(m),g=new M3(h,w,p);return f.asyncQueue.enqueueAndForget(async()=>x3(await ZI(f),g)),()=>{w.Na(),f.asyncQueue.enqueueAndForget(async()=>k3(await ZI(f),g))}}(dP(u),c,a,l)}function bP(t,e){return function(r,i){const o=new oo;return r.asyncQueue.enqueueAndForget(async()=>z3(await r9(r),i,o)),o.promise}(dP(t),e)}function S9(t,e,n){const r=n.docs.get(e._key),i=new IP(t);return new EP(t,i,e._key,r,new Ua(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Zs=i})(Oo),Kn(new kn("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Yl(new b4(r.getProvider("auth-internal")),new P4(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new B(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),tn(TI,"4.3.2",e),tn(TI,"4.3.2","esm2017")})();const b9={apiKey:"AIzaSyC7X-nfgrDkA1ccq4qg8ZKfg2mfRIybL8s",authDomain:"nexus-2bc36.firebaseapp.com",projectId:"nexus-2bc36",storageBucket:"nexus-2bc36.appspot.com",messagingSenderId:"549886298999",appId:"1:549886298999:web:99357ae503e6b362602f72",measurementId:"G-FNH8MG4X3Y"},R9=rR(b9);fB(R9);const bo=a9(),eg=VR();function A9(t){return t===void 0||t===null}const U_=E.createContext(void 0),C9=U_.Provider;U_.Consumer;const P9=t=>{const e=D9();return A.jsx(C9,{value:e,children:t.children})},Li=()=>{const t=E.useContext(U_);if(t===void 0)throw new Error("useAuth must be used within a AuthProvider");return t};function D9(){const[t,e]=E.useState(null),n=gy(),r=async(o,s)=>{try{const a=await S2(eg,o,s);return a.user!==null?(e(a.user),a.user):null}catch(a){throw n(Sy({type:Wf.error,text:a})),a}},i=async()=>{await eg.signOut()};return E.useEffect(()=>{const o=eg.onAuthStateChanged(s=>{A9(s)&&e(null)});return function(){o()}},[]),{user:t,signin:r,signout:i}}const B_=t=>{const[e,n]=E.useState(""),[r,i]=E.useState(""),o=xo(),s=gy(),a=Li(),l=d=>{n(d.target.value)},u=d=>{const f=d.target.value;f.length>0&&i(f)},c=async()=>{try{await a.signin(e,r)!==null&&o("/")}catch(d){console.log(d),s(Sy({type:Wf.error,text:d}))}};return A.jsxs(A.Fragment,{children:[A.jsx("input",{type:"text",name:"username",onChange:l,value:e}),A.jsx("input",{type:"password",name:"password",onChange:u,value:r}),A.jsx("button",{onClick:c,children:"Log in"})]})},x9=()=>{const[t,e]=E.useState(""),[n,r]=E.useState(""),i=xo(),o=VR(),s=u=>{e(u.target.value)},a=u=>{const c=u.target.value;c.length>0&&r(c)},l=async u=>{u.preventDefault(),T2(o,t,n).then(c=>{c.user!==null&&i("/")}).catch(c=>{const d=c.code,f=c.message;console.error(d),console.error(f)})};return A.jsxs(A.Fragment,{children:[A.jsx("input",{type:"text",name:"username",onChange:s,value:t}),A.jsx("input",{type:"password",name:"password",onChange:a,value:n}),A.jsx("button",{onClick:l,children:"Sign Up"})]})};function tv(t,e){return tv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tv(t,e)}function RP(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,tv(t,e)}var AP=ge.createContext(null);function k9(t){t()}var CP=k9,O9=function(e){return CP=e},N9=function(){return CP};function M9(){var t=N9(),e=null,n=null;return{clear:function(){e=null,n=null},notify:function(){t(function(){for(var i=e;i;)i.callback(),i=i.next})},get:function(){for(var i=[],o=e;o;)i.push(o),o=o.next;return i},subscribe:function(i){var o=!0,s=n={callback:i,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!o||e===null||(o=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var aT={notify:function(){},get:function(){return[]}};function PP(t,e){var n,r=aT;function i(d){return l(),r.subscribe(d)}function o(){r.notify()}function s(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(s):t.subscribe(s),r=M9())}function u(){n&&(n(),n=void 0,r.clear(),r=aT)}var c={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:s,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:function(){return r}};return c}var DP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?E.useLayoutEffect:E.useEffect;function L9(t){var e=t.store,n=t.context,r=t.children,i=E.useMemo(function(){var a=PP(e);return{store:e,subscription:a}},[e]),o=E.useMemo(function(){return e.getState()},[e]);DP(function(){var a=i.subscription;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),o!==e.getState()&&a.notifyNestedSubs(),function(){a.tryUnsubscribe(),a.onStateChange=null}},[i,o]);var s=n||AP;return ge.createElement(s.Provider,{value:i},r)}var xP={exports:{}},Re={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dh=60103,xh=60106,xu=60107,ku=60108,Ou=60114,Nu=60109,Mu=60110,Lu=60112,Vu=60113,j_=60120,Fu=60115,$u=60116,kP=60121,OP=60122,NP=60117,MP=60129,LP=60131;if(typeof Symbol=="function"&&Symbol.for){var vt=Symbol.for;Dh=vt("react.element"),xh=vt("react.portal"),xu=vt("react.fragment"),ku=vt("react.strict_mode"),Ou=vt("react.profiler"),Nu=vt("react.provider"),Mu=vt("react.context"),Lu=vt("react.forward_ref"),Vu=vt("react.suspense"),j_=vt("react.suspense_list"),Fu=vt("react.memo"),$u=vt("react.lazy"),kP=vt("react.block"),OP=vt("react.server.block"),NP=vt("react.fundamental"),MP=vt("react.debug_trace_mode"),LP=vt("react.legacy_hidden")}function Jn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Dh:switch(t=t.type,t){case xu:case Ou:case ku:case Vu:case j_:return t;default:switch(t=t&&t.$$typeof,t){case Mu:case Lu:case $u:case Fu:case Nu:return t;default:return e}}case xh:return e}}}var V9=Nu,F9=Dh,$9=Lu,U9=xu,B9=$u,j9=Fu,z9=xh,W9=Ou,H9=ku,q9=Vu;Re.ContextConsumer=Mu;Re.ContextProvider=V9;Re.Element=F9;Re.ForwardRef=$9;Re.Fragment=U9;Re.Lazy=B9;Re.Memo=j9;Re.Portal=z9;Re.Profiler=W9;Re.StrictMode=H9;Re.Suspense=q9;Re.isAsyncMode=function(){return!1};Re.isConcurrentMode=function(){return!1};Re.isContextConsumer=function(t){return Jn(t)===Mu};Re.isContextProvider=function(t){return Jn(t)===Nu};Re.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Dh};Re.isForwardRef=function(t){return Jn(t)===Lu};Re.isFragment=function(t){return Jn(t)===xu};Re.isLazy=function(t){return Jn(t)===$u};Re.isMemo=function(t){return Jn(t)===Fu};Re.isPortal=function(t){return Jn(t)===xh};Re.isProfiler=function(t){return Jn(t)===Ou};Re.isStrictMode=function(t){return Jn(t)===ku};Re.isSuspense=function(t){return Jn(t)===Vu};Re.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===xu||t===Ou||t===MP||t===ku||t===Vu||t===j_||t===LP||typeof t=="object"&&t!==null&&(t.$$typeof===$u||t.$$typeof===Fu||t.$$typeof===Nu||t.$$typeof===Mu||t.$$typeof===Lu||t.$$typeof===NP||t.$$typeof===kP||t[0]===OP)};Re.typeOf=Jn;xP.exports=Re;var G9=xP.exports,K9=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Q9=["reactReduxForwardedRef"],Y9=[],X9=[null,null];function J9(t,e){var n=t[1];return[e.payload,n+1]}function lT(t,e,n){DP(function(){return t.apply(void 0,e)},n)}function Z9(t,e,n,r,i,o,s){t.current=r,e.current=i,n.current=!1,o.current&&(o.current=null,s())}function ez(t,e,n,r,i,o,s,a,l,u){if(t){var c=!1,d=null,f=function(){if(!c){var m=e.getState(),w,g;try{w=r(m,i.current)}catch(v){g=v,d=v}g||(d=null),w===o.current?s.current||l():(o.current=w,a.current=w,s.current=!0,u({type:"STORE_UPDATED",payload:{error:g}}))}};n.onStateChange=f,n.trySubscribe(),f();var h=function(){if(c=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d};return h}}var tz=function(){return[null,0]};function nz(t,e){e===void 0&&(e={});var n=e,r=n.getDisplayName,i=r===void 0?function(_){return"ConnectAdvanced("+_+")"}:r,o=n.methodName,s=o===void 0?"connectAdvanced":o,a=n.renderCountProp,l=a===void 0?void 0:a,u=n.shouldHandleStateChanges,c=u===void 0?!0:u,d=n.storeKey,f=d===void 0?"store":d;n.withRef;var h=n.forwardRef,p=h===void 0?!1:h,m=n.context,w=m===void 0?AP:m,g=_d(n,K9),v=w;return function(y){var I=y.displayName||y.name||"Component",S=i(I),b=Q({},g,{getDisplayName:i,methodName:s,renderCountProp:l,shouldHandleStateChanges:c,storeKey:f,displayName:S,wrappedComponentName:I,WrappedComponent:y}),C=g.pure;function O(ve){return t(ve.dispatch,b)}var N=C?E.useMemo:function(ve){return ve()};function j(ve){var le=E.useMemo(function(){var Fi=ve.reactReduxForwardedRef,gr=_d(ve,Q9);return[ve.context,Fi,gr]},[ve]),Ke=le[0],Ct=le[1],L=le[2],z=E.useMemo(function(){return Ke&&Ke.Consumer&&G9.isContextConsumer(ge.createElement(Ke.Consumer,null))?Ke:v},[Ke,v]),W=E.useContext(z),ue=!!ve.store&&!!ve.store.getState&&!!ve.store.dispatch;W&&W.store;var ie=ue?ve.store:W.store,lt=E.useMemo(function(){return O(ie)},[ie]),Ze=E.useMemo(function(){if(!c)return X9;var Fi=PP(ie,ue?null:W.subscription),gr=Fi.notifyNestedSubs.bind(Fi);return[Fi,gr]},[ie,ue,W]),Pt=Ze[0],Kt=Ze[1],Mn=E.useMemo(function(){return ue?W:Q({},W,{subscription:Pt})},[ue,W,Pt]),Fo=E.useReducer(J9,Y9,tz),Oe=Fo[0],wn=Oe[0],$o=Fo[1];if(wn&&wn.error)throw wn.error;var ju=E.useRef(),Ln=E.useRef(L),Uo=E.useRef(),zu=E.useRef(!1),Bo=N(function(){return Uo.current&&L===Ln.current?Uo.current:lt(ie.getState(),L)},[ie,wn,L]);lT(Z9,[Ln,ju,zu,L,Bo,Uo,Kt]),lT(ez,[c,ie,Pt,lt,Ln,ju,zu,Uo,Kt,$o],[ie,Pt,lt]);var sa=E.useMemo(function(){return ge.createElement(y,Q({},Bo,{ref:Ct}))},[Ct,y,Bo]),$h=E.useMemo(function(){return c?ge.createElement(z.Provider,{value:Mn},sa):sa},[z,sa,Mn]);return $h}var Ee=C?ge.memo(j):j;if(Ee.WrappedComponent=y,Ee.displayName=j.displayName=S,p){var Le=ge.forwardRef(function(le,Ke){return ge.createElement(Ee,Q({},le,{reactReduxForwardedRef:Ke}))});return Le.displayName=S,Le.WrappedComponent=y,sE(Le,y)}return sE(Ee,y)}}function uT(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function tg(t,e){if(uT(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!uT(t[n[i]],e[n[i]]))return!1;return!0}function rz(t,e){var n={},r=function(s){var a=t[s];typeof a=="function"&&(n[s]=function(){return e(a.apply(void 0,arguments))})};for(var i in t)r(i);return n}function z_(t){return function(n,r){var i=t(n,r);function o(){return i}return o.dependsOnOwnProps=!1,o}}function cT(t){return t.dependsOnOwnProps!==null&&t.dependsOnOwnProps!==void 0?!!t.dependsOnOwnProps:t.length!==1}function VP(t,e){return function(r,i){i.displayName;var o=function(a,l){return o.dependsOnOwnProps?o.mapToProps(a,l):o.mapToProps(a)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,l){o.mapToProps=t,o.dependsOnOwnProps=cT(t);var u=o(a,l);return typeof u=="function"&&(o.mapToProps=u,o.dependsOnOwnProps=cT(u),u=o(a,l)),u},o}}function iz(t){return typeof t=="function"?VP(t):void 0}function oz(t){return t?void 0:z_(function(e){return{dispatch:e}})}function sz(t){return t&&typeof t=="object"?z_(function(e){return rz(t,e)}):void 0}const az=[iz,oz,sz];function lz(t){return typeof t=="function"?VP(t):void 0}function uz(t){return t?void 0:z_(function(){return{}})}const cz=[lz,uz];function dz(t,e,n){return Q({},n,t,e)}function fz(t){return function(n,r){r.displayName;var i=r.pure,o=r.areMergedPropsEqual,s=!1,a;return function(u,c,d){var f=t(u,c,d);return s?(!i||!o(f,a))&&(a=f):(s=!0,a=f),a}}}function hz(t){return typeof t=="function"?fz(t):void 0}function pz(t){return t?void 0:function(){return dz}}const gz=[hz,pz];var mz=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function vz(t,e,n,r){return function(o,s){return n(t(o,s),e(r,s),s)}}function yz(t,e,n,r,i){var o=i.areStatesEqual,s=i.areOwnPropsEqual,a=i.areStatePropsEqual,l=!1,u,c,d,f,h;function p(_,y){return u=_,c=y,d=t(u,c),f=e(r,c),h=n(d,f,c),l=!0,h}function m(){return d=t(u,c),e.dependsOnOwnProps&&(f=e(r,c)),h=n(d,f,c),h}function w(){return t.dependsOnOwnProps&&(d=t(u,c)),e.dependsOnOwnProps&&(f=e(r,c)),h=n(d,f,c),h}function g(){var _=t(u,c),y=!a(_,d);return d=_,y&&(h=n(d,f,c)),h}function v(_,y){var I=!s(y,c),S=!o(_,u,y,c);return u=_,c=y,I&&S?m():I?w():S?g():h}return function(y,I){return l?v(y,I):p(y,I)}}function _z(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,o=_d(e,mz),s=n(t,o),a=r(t,o),l=i(t,o),u=o.pure?yz:vz;return u(s,a,l,t,o)}var wz=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function ng(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(o,s){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+s.wrappedComponentName+".")}}function Ez(t,e){return t===e}function Iz(t){var e=t===void 0?{}:t,n=e.connectHOC,r=n===void 0?nz:n,i=e.mapStateToPropsFactories,o=i===void 0?cz:i,s=e.mapDispatchToPropsFactories,a=s===void 0?az:s,l=e.mergePropsFactories,u=l===void 0?gz:l,c=e.selectorFactory,d=c===void 0?_z:c;return function(h,p,m,w){w===void 0&&(w={});var g=w,v=g.pure,_=v===void 0?!0:v,y=g.areStatesEqual,I=y===void 0?Ez:y,S=g.areOwnPropsEqual,b=S===void 0?tg:S,C=g.areStatePropsEqual,O=C===void 0?tg:C,N=g.areMergedPropsEqual,j=N===void 0?tg:N,Ee=_d(g,wz),Le=ng(h,o,"mapStateToProps"),ve=ng(p,a,"mapDispatchToProps"),le=ng(m,u,"mergeProps");return r(d,Q({methodName:"connect",getDisplayName:function(Ct){return"Connect("+Ct+")"},shouldHandleStateChanges:!!h,initMapStateToProps:Le,initMapDispatchToProps:ve,initMergeProps:le,pure:_,areStatesEqual:I,areOwnPropsEqual:b,areStatePropsEqual:O,areMergedPropsEqual:j},Ee))}}const FP=Iz();O9(_f.unstable_batchedUpdates);function Tz(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function $P(t,e){var n=E.useState(function(){return{inputs:e,result:t()}})[0],r=E.useRef(!0),i=E.useRef(n),o=r.current||!!(e&&i.current.inputs&&Tz(e,i.current.inputs)),s=o?i.current:{inputs:e,result:t()};return E.useEffect(function(){r.current=!1,i.current=s},[s]),s.result}function Sz(t,e){return $P(function(){return t},e)}var he=$P,H=Sz,bz=!0,rg="Invariant failed";function Rz(t,e){if(!t){if(bz)throw new Error(rg);var n=typeof e=="function"?e():e,r=n?"".concat(rg,": ").concat(n):rg;throw new Error(r)}}var Wn=function(e){var n=e.top,r=e.right,i=e.bottom,o=e.left,s=r-o,a=i-n,l={top:n,right:r,bottom:i,left:o,width:s,height:a,x:o,y:n,center:{x:(r+o)/2,y:(i+n)/2}};return l},W_=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},dT=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},Az=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},ig={top:0,right:0,bottom:0,left:0},H_=function(e){var n=e.borderBox,r=e.margin,i=r===void 0?ig:r,o=e.border,s=o===void 0?ig:o,a=e.padding,l=a===void 0?ig:a,u=Wn(W_(n,i)),c=Wn(dT(n,s)),d=Wn(dT(c,l));return{marginBox:u,borderBox:Wn(n),paddingBox:c,contentBox:d,margin:i,border:s,padding:l}},En=function(e){var n=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&Rz(!1),i},Cz=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Kd=function(e,n){var r=e.borderBox,i=e.border,o=e.margin,s=e.padding,a=Az(r,n);return H_({borderBox:a,border:i,margin:o,padding:s})},Qd=function(e,n){return n===void 0&&(n=Cz()),Kd(e,n)},UP=function(e,n){var r={top:En(n.marginTop),right:En(n.marginRight),bottom:En(n.marginBottom),left:En(n.marginLeft)},i={top:En(n.paddingTop),right:En(n.paddingRight),bottom:En(n.paddingBottom),left:En(n.paddingLeft)},o={top:En(n.borderTopWidth),right:En(n.borderRightWidth),bottom:En(n.borderBottomWidth),left:En(n.borderLeftWidth)};return H_({borderBox:e,margin:r,padding:i,border:o})},BP=function(e){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e);return UP(n,r)},fT=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Pz(t,e){return!!(t===e||fT(t)&&fT(e))}function Dz(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!Pz(t[n],e[n]))return!1;return!0}function ft(t,e){e===void 0&&(e=Dz);var n,r=[],i,o=!1;function s(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return o&&n===this&&e(a,r)||(i=t.apply(this,a),o=!0,n=this,r=a),i}return s}var xz=function(e){var n=[],r=null,i=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];n=a,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};const Xl=xz;function jP(t,e){}jP.bind(null,"warn");jP.bind(null,"error");function mi(){}function kz(t,e){return Q({},t,{},e)}function An(t,e,n){var r=e.map(function(i){var o=kz(n,i.options);return t.addEventListener(i.eventName,i.fn,o),function(){t.removeEventListener(i.eventName,i.fn,o)}});return function(){r.forEach(function(o){o()})}}var Oz="Invariant failed";function Yd(t){this.message=t}Yd.prototype.toString=function(){return this.message};function M(t,e){if(!t)throw new Yd(Oz)}var Nz=function(t){RP(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o))||this,r.callbacks=null,r.unbind=mi,r.onWindowError=function(a){var l=r.getCallbacks();l.isDragging()&&l.tryAbort();var u=a.error;u instanceof Yd&&a.preventDefault()},r.getCallbacks=function(){if(!r.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return r.callbacks},r.setCallbacks=function(a){r.callbacks=a},r}var n=e.prototype;return n.componentDidMount=function(){this.unbind=An(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(i){if(i instanceof Yd){this.setState({});return}throw i},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},e}(ge.Component),Mz=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Xd=function(e){return e+1},Lz=function(e){return`
  You have lifted an item in position `+Xd(e.source.index)+`
`},zP=function(e,n){var r=e.droppableId===n.droppableId,i=Xd(e.index),o=Xd(n.index);return r?`
      You have moved the item from position `+i+`
      to position `+o+`
    `:`
    You have moved the item from position `+i+`
    in list `+e.droppableId+`
    to list `+n.droppableId+`
    in position `+o+`
  `},WP=function(e,n,r){var i=n.droppableId===r.droppableId;return i?`
      The item `+e+`
      has been combined with `+r.draggableId:`
      The item `+e+`
      in list `+n.droppableId+`
      has been combined with `+r.draggableId+`
      in list `+r.droppableId+`
    `},Vz=function(e){var n=e.destination;if(n)return zP(e.source,n);var r=e.combine;return r?WP(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},hT=function(e){return`
  The item has returned to its starting position
  of `+Xd(e.index)+`
`},Fz=function(e){if(e.reason==="CANCEL")return`
      Movement cancelled.
      `+hT(e.source)+`
    `;var n=e.destination,r=e.combine;return n?`
      You have dropped the item.
      `+zP(e.source,n)+`
    `:r?`
      You have dropped the item.
      `+WP(e.draggableId,e.source,r)+`
    `:`
    The item has been dropped while not over a drop area.
    `+hT(e.source)+`
  `},qc={dragHandleUsageInstructions:Mz,onDragStart:Lz,onDragUpdate:Vz,onDragEnd:Fz},pt={x:0,y:0},Tt=function(e,n){return{x:e.x+n.x,y:e.y+n.y}},ln=function(e,n){return{x:e.x-n.x,y:e.y-n.y}},vi=function(e,n){return e.x===n.x&&e.y===n.y},ra=function(e){return{x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}},Ro=function(e,n,r){var i;return r===void 0&&(r=0),i={},i[e]=n,i[e==="x"?"y":"x"]=r,i},Jl=function(e,n){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))},pT=function(e,n){return Math.min.apply(Math,n.map(function(r){return Jl(e,r)}))},HP=function(e){return function(n){return{x:e(n.x),y:e(n.y)}}},$z=function(t,e){var n=Wn({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n},Uu=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},gT=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},Uz={top:0,right:0,bottom:0,left:0},Bz=function(e,n){return n?Uu(e,n.scroll.diff.displacement):e},jz=function(e,n,r){if(r&&r.increasedBy){var i;return Q({},e,(i={},i[n.end]=e[n.end]+r.increasedBy[n.line],i))}return e},zz=function(e,n){return n&&n.shouldClipSubject?$z(n.pageMarginBox,e):Wn(e)},Bs=function(t){var e=t.page,n=t.withPlaceholder,r=t.axis,i=t.frame,o=Bz(e.marginBox,i),s=jz(o,r,n),a=zz(s,i);return{page:e,withPlaceholder:n,active:a}},q_=function(t,e){t.frame||M(!1);var n=t.frame,r=ln(e,n.scroll.initial),i=ra(r),o=Q({},n,{scroll:{initial:n.scroll.initial,current:e,diff:{value:r,displacement:i},max:n.scroll.max}}),s=Bs({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:o}),a=Q({},t,{frame:o,subject:s});return a};function Jd(t){return Object.values?Object.values(t):Object.keys(t).map(function(e){return t[e]})}function G_(t,e){if(t.findIndex)return t.findIndex(e);for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}function Vi(t,e){if(t.find)return t.find(e);var n=G_(t,e);if(n!==-1)return t[n]}function qP(t){return Array.prototype.slice.call(t)}var GP=ft(function(t){return t.reduce(function(e,n){return e[n.descriptor.id]=n,e},{})}),KP=ft(function(t){return t.reduce(function(e,n){return e[n.descriptor.id]=n,e},{})}),kh=ft(function(t){return Jd(t)}),Wz=ft(function(t){return Jd(t)}),ia=ft(function(t,e){var n=Wz(e).filter(function(r){return t===r.descriptor.droppableId}).sort(function(r,i){return r.descriptor.index-i.descriptor.index});return n});function K_(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function Oh(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var Nh=ft(function(t,e){return e.filter(function(n){return n.descriptor.id!==t.descriptor.id})}),Hz=function(t){var e=t.isMovingForward,n=t.draggable,r=t.destination,i=t.insideDestination,o=t.previousImpact;if(!r.isCombineEnabled)return null;var s=K_(o);if(!s)return null;function a(m){var w={type:"COMBINE",combine:{draggableId:m,droppableId:r.descriptor.id}};return Q({},o,{at:w})}var l=o.displaced.all,u=l.length?l[0]:null;if(e)return u?a(u):null;var c=Nh(n,i);if(!u){if(!c.length)return null;var d=c[c.length-1];return a(d.descriptor.id)}var f=G_(c,function(m){return m.descriptor.id===u});f===-1&&M(!1);var h=f-1;if(h<0)return null;var p=c[h];return a(p.descriptor.id)},oa=function(t,e){return t.descriptor.droppableId===e.descriptor.id},QP={point:pt,value:0},Zl={invisible:{},visible:{},all:[]},qz={displaced:Zl,displacedBy:QP,at:null},Pn=function(t,e){return function(n){return t<=n&&n<=e}},YP=function(t){var e=Pn(t.top,t.bottom),n=Pn(t.left,t.right);return function(r){var i=e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right);if(i)return!0;var o=e(r.top)||e(r.bottom),s=n(r.left)||n(r.right),a=o&&s;if(a)return!0;var l=r.top<t.top&&r.bottom>t.bottom,u=r.left<t.left&&r.right>t.right,c=l&&u;if(c)return!0;var d=l&&s||u&&o;return d}},Gz=function(t){var e=Pn(t.top,t.bottom),n=Pn(t.left,t.right);return function(r){var i=e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right);return i}},Q_={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},XP={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Kz=function(t){return function(e){var n=Pn(e.top,e.bottom),r=Pn(e.left,e.right);return function(i){return t===Q_?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)}}},Qz=function(e,n){var r=n.frame?n.frame.scroll.diff.displacement:pt;return Uu(e,r)},Yz=function(e,n,r){return n.subject.active?r(n.subject.active)(e):!1},Xz=function(e,n,r){return r(n)(e)},Y_=function(e){var n=e.target,r=e.destination,i=e.viewport,o=e.withDroppableDisplacement,s=e.isVisibleThroughFrameFn,a=o?Qz(n,r):n;return Yz(a,r,s)&&Xz(a,i,s)},Jz=function(e){return Y_(Q({},e,{isVisibleThroughFrameFn:YP}))},JP=function(e){return Y_(Q({},e,{isVisibleThroughFrameFn:Gz}))},Zz=function(e){return Y_(Q({},e,{isVisibleThroughFrameFn:Kz(e.destination.axis)}))},e6=function(e,n,r){if(typeof r=="boolean")return r;if(!n)return!0;var i=n.invisible,o=n.visible;if(i[e])return!1;var s=o[e];return s?s.shouldAnimate:!0};function t6(t,e){var n=t.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return Wn(W_(n,r))}function eu(t){var e=t.afterDragging,n=t.destination,r=t.displacedBy,i=t.viewport,o=t.forceShouldAnimate,s=t.last;return e.reduce(function(l,u){var c=t6(u,r),d=u.descriptor.id;l.all.push(d);var f=Jz({target:c,destination:n,viewport:i,withDroppableDisplacement:!0});if(!f)return l.invisible[u.descriptor.id]=!0,l;var h=e6(d,s,o),p={draggableId:d,shouldAnimate:h};return l.visible[d]=p,l},{all:[],visible:{},invisible:{}})}function n6(t,e){if(!t.length)return 0;var n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function mT(t){var e=t.insideDestination,n=t.inHomeList,r=t.displacedBy,i=t.destination,o=n6(e,{inHomeList:n});return{displaced:Zl,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function Zd(t){var e=t.draggable,n=t.insideDestination,r=t.destination,i=t.viewport,o=t.displacedBy,s=t.last,a=t.index,l=t.forceShouldAnimate,u=oa(e,r);if(a==null)return mT({insideDestination:n,inHomeList:u,displacedBy:o,destination:r});var c=Vi(n,function(m){return m.descriptor.index===a});if(!c)return mT({insideDestination:n,inHomeList:u,displacedBy:o,destination:r});var d=Nh(e,n),f=n.indexOf(c),h=d.slice(f),p=eu({afterDragging:h,destination:r,displacedBy:o,last:s,viewport:i.frame,forceShouldAnimate:l});return{displaced:p,displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:a}}}}function Ri(t,e){return!!e.effected[t]}var r6=function(t){var e=t.isMovingForward,n=t.destination,r=t.draggables,i=t.combine,o=t.afterCritical;if(!n.isCombineEnabled)return null;var s=i.draggableId,a=r[s],l=a.descriptor.index,u=Ri(s,o);return u?e?l:l-1:e?l+1:l},i6=function(t){var e=t.isMovingForward,n=t.isInHomeList,r=t.insideDestination,i=t.location;if(!r.length)return null;var o=i.index,s=e?o+1:o-1,a=r[0].descriptor.index,l=r[r.length-1].descriptor.index,u=n?l:l+1;return s<a||s>u?null:s},o6=function(t){var e=t.isMovingForward,n=t.isInHomeList,r=t.draggable,i=t.draggables,o=t.destination,s=t.insideDestination,a=t.previousImpact,l=t.viewport,u=t.afterCritical,c=a.at;if(c||M(!1),c.type==="REORDER"){var d=i6({isMovingForward:e,isInHomeList:n,location:c.destination,insideDestination:s});return d==null?null:Zd({draggable:r,insideDestination:s,destination:o,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:d})}var f=r6({isMovingForward:e,destination:o,displaced:a.displaced,draggables:i,combine:c.combine,afterCritical:u});return f==null?null:Zd({draggable:r,insideDestination:s,destination:o,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:f})},s6=function(t){var e=t.displaced,n=t.afterCritical,r=t.combineWith,i=t.displacedBy,o=!!(e.visible[r]||e.invisible[r]);return Ri(r,n)?o?pt:ra(i.point):o?i.point:pt},a6=function(t){var e=t.afterCritical,n=t.impact,r=t.draggables,i=Oh(n);i||M(!1);var o=i.draggableId,s=r[o].page.borderBox.center,a=s6({displaced:n.displaced,afterCritical:e,combineWith:o,displacedBy:n.displacedBy});return Tt(s,a)},ZP=function(e,n){return n.margin[e.start]+n.borderBox[e.size]/2},l6=function(e,n){return n.margin[e.end]+n.borderBox[e.size]/2},X_=function(e,n,r){return n[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2},vT=function(e){var n=e.axis,r=e.moveRelativeTo,i=e.isMoving;return Ro(n.line,r.marginBox[n.end]+ZP(n,i),X_(n,r.marginBox,i))},yT=function(e){var n=e.axis,r=e.moveRelativeTo,i=e.isMoving;return Ro(n.line,r.marginBox[n.start]-l6(n,i),X_(n,r.marginBox,i))},u6=function(e){var n=e.axis,r=e.moveInto,i=e.isMoving;return Ro(n.line,r.contentBox[n.start]+ZP(n,i),X_(n,r.contentBox,i))},c6=function(t){var e=t.impact,n=t.draggable,r=t.draggables,i=t.droppable,o=t.afterCritical,s=ia(i.descriptor.id,r),a=n.page,l=i.axis;if(!s.length)return u6({axis:l,moveInto:i.page,isMoving:a});var u=e.displaced,c=e.displacedBy,d=u.all[0];if(d){var f=r[d];if(Ri(d,o))return yT({axis:l,moveRelativeTo:f.page,isMoving:a});var h=Kd(f.page,c.point);return yT({axis:l,moveRelativeTo:h,isMoving:a})}var p=s[s.length-1];if(p.descriptor.id===n.descriptor.id)return a.borderBox.center;if(Ri(p.descriptor.id,o)){var m=Kd(p.page,ra(o.displacedBy.point));return vT({axis:l,moveRelativeTo:m,isMoving:a})}return vT({axis:l,moveRelativeTo:p.page,isMoving:a})},nv=function(t,e){var n=t.frame;return n?Tt(e,n.scroll.diff.displacement):e},d6=function(e){var n=e.impact,r=e.draggable,i=e.droppable,o=e.draggables,s=e.afterCritical,a=r.page.borderBox.center,l=n.at;return!i||!l?a:l.type==="REORDER"?c6({impact:n,draggable:r,draggables:o,droppable:i,afterCritical:s}):a6({impact:n,draggables:o,afterCritical:s})},Mh=function(t){var e=d6(t),n=t.droppable,r=n?nv(n,e):e;return r},eD=function(t,e){var n=ln(e,t.scroll.initial),r=ra(n),i=Wn({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),o={frame:i,scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:r}}};return o};function _T(t,e){return t.map(function(n){return e[n]})}function f6(t,e){for(var n=0;n<e.length;n++){var r=e[n].visible[t];if(r)return r}return null}var h6=function(t){var e=t.impact,n=t.viewport,r=t.destination,i=t.draggables,o=t.maxScrollChange,s=eD(n,Tt(n.scroll.current,o)),a=r.frame?q_(r,Tt(r.frame.scroll.current,o)):r,l=e.displaced,u=eu({afterDragging:_T(l.all,i),destination:r,displacedBy:e.displacedBy,viewport:s.frame,last:l,forceShouldAnimate:!1}),c=eu({afterDragging:_T(l.all,i),destination:a,displacedBy:e.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),d={},f={},h=[l,u,c];l.all.forEach(function(m){var w=f6(m,h);if(w){f[m]=w;return}d[m]=!0});var p=Q({},e,{displaced:{all:l.all,invisible:d,visible:f}});return p},p6=function(t,e){return Tt(t.scroll.diff.displacement,e)},J_=function(t){var e=t.pageBorderBoxCenter,n=t.draggable,r=t.viewport,i=p6(r,e),o=ln(i,n.page.borderBox.center);return Tt(n.client.borderBox.center,o)},tD=function(t){var e=t.draggable,n=t.destination,r=t.newPageBorderBoxCenter,i=t.viewport,o=t.withDroppableDisplacement,s=t.onlyOnMainAxis,a=s===void 0?!1:s,l=ln(r,e.page.borderBox.center),u=Uu(e.page.borderBox,l),c={target:u,destination:n,withDroppableDisplacement:o,viewport:i};return a?Zz(c):JP(c)},g6=function(t){var e=t.isMovingForward,n=t.draggable,r=t.destination,i=t.draggables,o=t.previousImpact,s=t.viewport,a=t.previousPageBorderBoxCenter,l=t.previousClientSelection,u=t.afterCritical;if(!r.isEnabled)return null;var c=ia(r.descriptor.id,i),d=oa(n,r),f=Hz({isMovingForward:e,draggable:n,destination:r,insideDestination:c,previousImpact:o})||o6({isMovingForward:e,isInHomeList:d,draggable:n,draggables:i,destination:r,insideDestination:c,previousImpact:o,viewport:s,afterCritical:u});if(!f)return null;var h=Mh({impact:f,draggable:n,droppable:r,draggables:i,afterCritical:u}),p=tD({draggable:n,destination:r,newPageBorderBoxCenter:h,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(p){var m=J_({pageBorderBoxCenter:h,draggable:n,viewport:s});return{clientSelection:m,impact:f,scrollJumpRequest:null}}var w=ln(h,a),g=h6({impact:f,viewport:s,destination:r,draggables:i,maxScrollChange:w});return{clientSelection:l,impact:g,scrollJumpRequest:w}},Bt=function(e){var n=e.subject.active;return n||M(!1),n},m6=function(t){var e=t.isMovingForward,n=t.pageBorderBoxCenter,r=t.source,i=t.droppables,o=t.viewport,s=r.subject.active;if(!s)return null;var a=r.axis,l=Pn(s[a.start],s[a.end]),u=kh(i).filter(function(d){return d!==r}).filter(function(d){return d.isEnabled}).filter(function(d){return!!d.subject.active}).filter(function(d){return YP(o.frame)(Bt(d))}).filter(function(d){var f=Bt(d);return e?s[a.crossAxisEnd]<f[a.crossAxisEnd]:f[a.crossAxisStart]<s[a.crossAxisStart]}).filter(function(d){var f=Bt(d),h=Pn(f[a.start],f[a.end]);return l(f[a.start])||l(f[a.end])||h(s[a.start])||h(s[a.end])}).sort(function(d,f){var h=Bt(d)[a.crossAxisStart],p=Bt(f)[a.crossAxisStart];return e?h-p:p-h}).filter(function(d,f,h){return Bt(d)[a.crossAxisStart]===Bt(h[0])[a.crossAxisStart]});if(!u.length)return null;if(u.length===1)return u[0];var c=u.filter(function(d){var f=Pn(Bt(d)[a.start],Bt(d)[a.end]);return f(n[a.line])});return c.length===1?c[0]:c.length>1?c.sort(function(d,f){return Bt(d)[a.start]-Bt(f)[a.start]})[0]:u.sort(function(d,f){var h=pT(n,gT(Bt(d))),p=pT(n,gT(Bt(f)));return h!==p?h-p:Bt(d)[a.start]-Bt(f)[a.start]})[0]},wT=function(e,n){var r=e.page.borderBox.center;return Ri(e.descriptor.id,n)?ln(r,n.displacedBy.point):r},v6=function(e,n){var r=e.page.borderBox;return Ri(e.descriptor.id,n)?Uu(r,ra(n.displacedBy.point)):r},y6=function(t){var e=t.pageBorderBoxCenter,n=t.viewport,r=t.destination,i=t.insideDestination,o=t.afterCritical,s=i.filter(function(a){return JP({target:v6(a,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(a,l){var u=Jl(e,nv(r,wT(a,o))),c=Jl(e,nv(r,wT(l,o)));return u<c?-1:c<u?1:a.descriptor.index-l.descriptor.index});return s[0]||null},Bu=ft(function(e,n){var r=n[e.line];return{value:r,point:Ro(e.line,r)}}),_6=function(e,n,r){var i=e.axis;if(e.descriptor.mode==="virtual")return Ro(i.line,n[i.line]);var o=e.subject.page.contentBox[i.size],s=ia(e.descriptor.id,r),a=s.reduce(function(c,d){return c+d.client.marginBox[i.size]},0),l=a+n[i.line],u=l-o;return u<=0?null:Ro(i.line,u)},nD=function(e,n){return Q({},e,{scroll:Q({},e.scroll,{max:n})})},rD=function(e,n,r){var i=e.frame;oa(n,e)&&M(!1),e.subject.withPlaceholder&&M(!1);var o=Bu(e.axis,n.displaceBy).point,s=_6(e,o,r),a={placeholderSize:o,increasedBy:s,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!i){var l=Bs({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return Q({},e,{subject:l})}var u=s?Tt(i.scroll.max,s):i.scroll.max,c=nD(i,u),d=Bs({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:c});return Q({},e,{subject:d,frame:c})},w6=function(e){var n=e.subject.withPlaceholder;n||M(!1);var r=e.frame;if(!r){var i=Bs({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return Q({},e,{subject:i})}var o=n.oldFrameMaxScroll;o||M(!1);var s=nD(r,o),a=Bs({page:e.subject.page,axis:e.axis,frame:s,withPlaceholder:null});return Q({},e,{subject:a,frame:s})},E6=function(t){var e=t.previousPageBorderBoxCenter,n=t.moveRelativeTo,r=t.insideDestination,i=t.draggable,o=t.draggables,s=t.destination,a=t.viewport,l=t.afterCritical;if(!n){if(r.length)return null;var u={displaced:Zl,displacedBy:QP,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},c=Mh({impact:u,draggable:i,droppable:s,draggables:o,afterCritical:l}),d=oa(i,s)?s:rD(s,i,o),f=tD({draggable:i,destination:d,newPageBorderBoxCenter:c,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return f?u:null}var h=e[s.axis.line]<=n.page.borderBox.center[s.axis.line],p=function(){var w=n.descriptor.index;return n.descriptor.id===i.descriptor.id||h?w:w+1}(),m=Bu(s.axis,i.displaceBy);return Zd({draggable:i,insideDestination:r,destination:s,viewport:a,displacedBy:m,last:Zl,index:p})},I6=function(t){var e=t.isMovingForward,n=t.previousPageBorderBoxCenter,r=t.draggable,i=t.isOver,o=t.draggables,s=t.droppables,a=t.viewport,l=t.afterCritical,u=m6({isMovingForward:e,pageBorderBoxCenter:n,source:i,droppables:s,viewport:a});if(!u)return null;var c=ia(u.descriptor.id,o),d=y6({pageBorderBoxCenter:n,viewport:a,destination:u,insideDestination:c,afterCritical:l}),f=E6({previousPageBorderBoxCenter:n,destination:u,draggable:r,draggables:o,moveRelativeTo:d,insideDestination:c,viewport:a,afterCritical:l});if(!f)return null;var h=Mh({impact:f,draggable:r,droppable:u,draggables:o,afterCritical:l}),p=J_({pageBorderBoxCenter:h,draggable:r,viewport:a});return{clientSelection:p,impact:f,scrollJumpRequest:null}},fn=function(t){var e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null},T6=function(e,n){var r=fn(e);return r?n[r]:null},S6=function(t){var e=t.state,n=t.type,r=T6(e.impact,e.dimensions.droppables),i=!!r,o=e.dimensions.droppables[e.critical.droppable.id],s=r||o,a=s.axis.direction,l=a==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||a==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(l&&!i)return null;var u=n==="MOVE_DOWN"||n==="MOVE_RIGHT",c=e.dimensions.draggables[e.critical.draggable.id],d=e.current.page.borderBoxCenter,f=e.dimensions,h=f.draggables,p=f.droppables;return l?g6({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:c,destination:s,draggables:h,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):I6({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:c,isOver:s,draggables:h,droppables:p,viewport:e.viewport,afterCritical:e.afterCritical})};function qi(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function iD(t){var e=Pn(t.top,t.bottom),n=Pn(t.left,t.right);return function(i){return e(i.y)&&n(i.x)}}function b6(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function R6(t){var e=t.pageBorderBox,n=t.draggable,r=t.candidates,i=n.page.borderBox.center,o=r.map(function(s){var a=s.axis,l=Ro(s.axis.line,e.center[a.line],s.page.borderBox.center[a.crossAxisLine]);return{id:s.descriptor.id,distance:Jl(i,l)}}).sort(function(s,a){return a.distance-s.distance});return o[0]?o[0].id:null}function A6(t){var e=t.pageBorderBox,n=t.draggable,r=t.droppables,i=kh(r).filter(function(o){if(!o.isEnabled)return!1;var s=o.subject.active;if(!s||!b6(e,s))return!1;if(iD(s)(e.center))return!0;var a=o.axis,l=s.center[a.crossAxisLine],u=e[a.crossAxisStart],c=e[a.crossAxisEnd],d=Pn(s[a.crossAxisStart],s[a.crossAxisEnd]),f=d(u),h=d(c);return!f&&!h?!0:f?u<l:c>l});return i.length?i.length===1?i[0].descriptor.id:R6({pageBorderBox:e,draggable:n,candidates:i}):null}var oD=function(e,n){return Wn(Uu(e,n))},C6=function(t,e){var n=t.frame;return n?oD(e,n.scroll.diff.value):e};function sD(t){var e=t.displaced,n=t.id;return!!(e.visible[n]||e.invisible[n])}function P6(t){var e=t.draggable,n=t.closest,r=t.inHomeList;return n?r&&n.descriptor.index>e.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var D6=function(t){var e=t.pageBorderBoxWithDroppableScroll,n=t.draggable,r=t.destination,i=t.insideDestination,o=t.last,s=t.viewport,a=t.afterCritical,l=r.axis,u=Bu(r.axis,n.displaceBy),c=u.value,d=e[l.start],f=e[l.end],h=Nh(n,i),p=Vi(h,function(w){var g=w.descriptor.id,v=w.page.borderBox.center[l.line],_=Ri(g,a),y=sD({displaced:o,id:g});return _?y?f<=v:d<v-c:y?f<=v+c:d<v}),m=P6({draggable:n,closest:p,inHomeList:oa(n,r)});return Zd({draggable:n,insideDestination:i,destination:r,viewport:s,last:o,displacedBy:u,index:m})},x6=4,k6=function(t){var e=t.draggable,n=t.pageBorderBoxWithDroppableScroll,r=t.previousImpact,i=t.destination,o=t.insideDestination,s=t.afterCritical;if(!i.isCombineEnabled)return null;var a=i.axis,l=Bu(i.axis,e.displaceBy),u=l.value,c=n[a.start],d=n[a.end],f=Nh(e,o),h=Vi(f,function(m){var w=m.descriptor.id,g=m.page.borderBox,v=g[a.size],_=v/x6,y=Ri(w,s),I=sD({displaced:r.displaced,id:w});return y?I?d>g[a.start]+_&&d<g[a.end]-_:c>g[a.start]-u+_&&c<g[a.end]-u-_:I?d>g[a.start]+u+_&&d<g[a.end]+u-_:c>g[a.start]+_&&c<g[a.end]-_});if(!h)return null;var p={displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:i.descriptor.id}}};return p},aD=function(t){var e=t.pageOffset,n=t.draggable,r=t.draggables,i=t.droppables,o=t.previousImpact,s=t.viewport,a=t.afterCritical,l=oD(n.page.borderBox,e),u=A6({pageBorderBox:l,draggable:n,droppables:i});if(!u)return qz;var c=i[u],d=ia(c.descriptor.id,r),f=C6(c,l);return k6({pageBorderBoxWithDroppableScroll:f,draggable:n,previousImpact:o,destination:c,insideDestination:d,afterCritical:a})||D6({pageBorderBoxWithDroppableScroll:f,draggable:n,destination:c,insideDestination:d,last:o.displaced,viewport:s,afterCritical:a})},Z_=function(t,e){var n;return Q({},t,(n={},n[e.descriptor.id]=e,n))},O6=function(e){var n=e.previousImpact,r=e.impact,i=e.droppables,o=fn(n),s=fn(r);if(!o||o===s)return i;var a=i[o];if(!a.subject.withPlaceholder)return i;var l=w6(a);return Z_(i,l)},N6=function(t){var e=t.draggable,n=t.draggables,r=t.droppables,i=t.previousImpact,o=t.impact,s=O6({previousImpact:i,impact:o,droppables:r}),a=fn(o);if(!a)return s;var l=r[a];if(oa(e,l)||l.subject.withPlaceholder)return s;var u=rD(l,e,n);return Z_(s,u)},ol=function(t){var e=t.state,n=t.clientSelection,r=t.dimensions,i=t.viewport,o=t.impact,s=t.scrollJumpRequest,a=i||e.viewport,l=r||e.dimensions,u=n||e.current.client.selection,c=ln(u,e.initial.client.selection),d={offset:c,selection:u,borderBoxCenter:Tt(e.initial.client.borderBoxCenter,c)},f={selection:Tt(d.selection,a.scroll.current),borderBoxCenter:Tt(d.borderBoxCenter,a.scroll.current),offset:Tt(d.offset,a.scroll.diff.value)},h={client:d,page:f};if(e.phase==="COLLECTING")return Q({phase:"COLLECTING"},e,{dimensions:l,viewport:a,current:h});var p=l.draggables[e.critical.draggable.id],m=o||aD({pageOffset:f.offset,draggable:p,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:a,afterCritical:e.afterCritical}),w=N6({draggable:p,impact:m,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables}),g=Q({},e,{current:h,dimensions:{draggables:l.draggables,droppables:w},impact:m,viewport:a,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null});return g};function M6(t,e){return t.map(function(n){return e[n]})}var lD=function(t){var e=t.impact,n=t.viewport,r=t.draggables,i=t.destination,o=t.forceShouldAnimate,s=e.displaced,a=M6(s.all,r),l=eu({afterDragging:a,destination:i,displacedBy:e.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:s});return Q({},e,{displaced:l})},uD=function(t){var e=t.impact,n=t.draggable,r=t.droppable,i=t.draggables,o=t.viewport,s=t.afterCritical,a=Mh({impact:e,draggable:n,draggables:i,droppable:r,afterCritical:s});return J_({pageBorderBoxCenter:a,draggable:n,viewport:o})},cD=function(t){var e=t.state,n=t.dimensions,r=t.viewport;e.movementMode!=="SNAP"&&M(!1);var i=e.impact,o=r||e.viewport,s=n||e.dimensions,a=s.draggables,l=s.droppables,u=a[e.critical.draggable.id],c=fn(i);c||M(!1);var d=l[c],f=lD({impact:i,viewport:o,destination:d,draggables:a}),h=uD({impact:f,draggable:u,droppable:d,draggables:a,viewport:o,afterCritical:e.afterCritical});return ol({impact:f,clientSelection:h,state:e,dimensions:s,viewport:o})},L6=function(t){return{index:t.index,droppableId:t.droppableId}},dD=function(t){var e=t.draggable,n=t.home,r=t.draggables,i=t.viewport,o=Bu(n.axis,e.displaceBy),s=ia(n.descriptor.id,r),a=s.indexOf(e);a===-1&&M(!1);var l=s.slice(a+1),u=l.reduce(function(h,p){return h[p.descriptor.id]=!0,h},{}),c={inVirtualList:n.descriptor.mode==="virtual",displacedBy:o,effected:u},d=eu({afterDragging:l,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),f={displaced:d,displacedBy:o,at:{type:"REORDER",destination:L6(e.descriptor)}};return{impact:f,afterCritical:c}},V6=function(t,e){return{draggables:t.draggables,droppables:Z_(t.droppables,e)}},F6=function(t){var e=t.draggable,n=t.offset,r=t.initialWindowScroll,i=Kd(e.client,n),o=Qd(i,r),s=Q({},e,{placeholder:Q({},e.placeholder,{client:i}),client:i,page:o});return s},$6=function(t){var e=t.frame;return e||M(!1),e},U6=function(t){var e=t.additions,n=t.updatedDroppables,r=t.viewport,i=r.scroll.diff.value;return e.map(function(o){var s=o.descriptor.droppableId,a=n[s],l=$6(a),u=l.scroll.diff.value,c=Tt(i,u),d=F6({draggable:o,offset:c,initialWindowScroll:r.scroll.initial});return d})},B6=function(t){var e=t.state,n=t.published,r=n.modified.map(function(_){var y=e.dimensions.droppables[_.droppableId],I=q_(y,_.scroll);return I}),i=Q({},e.dimensions.droppables,{},GP(r)),o=KP(U6({additions:n.additions,updatedDroppables:i,viewport:e.viewport})),s=Q({},e.dimensions.draggables,{},o);n.removals.forEach(function(_){delete s[_]});var a={droppables:i,draggables:s},l=fn(e.impact),u=l?a.droppables[l]:null,c=a.draggables[e.critical.draggable.id],d=a.droppables[e.critical.droppable.id],f=dD({draggable:c,home:d,draggables:s,viewport:e.viewport}),h=f.impact,p=f.afterCritical,m=u&&u.isCombineEnabled?e.impact:h,w=aD({pageOffset:e.current.page.offset,draggable:a.draggables[e.critical.draggable.id],draggables:a.draggables,droppables:a.droppables,previousImpact:m,viewport:e.viewport,afterCritical:p}),g=Q({phase:"DRAGGING"},e,{phase:"DRAGGING",impact:w,onLiftImpact:h,dimensions:a,afterCritical:p,forceShouldAnimate:!1});if(e.phase==="COLLECTING")return g;var v=Q({phase:"DROP_PENDING"},g,{phase:"DROP_PENDING",reason:e.reason,isWaiting:!1});return v},rv=function(e){return e.movementMode==="SNAP"},og=function(e,n,r){var i=V6(e.dimensions,n);return!rv(e)||r?ol({state:e,dimensions:i}):cD({state:e,dimensions:i})};function sg(t){return t.isDragging&&t.movementMode==="SNAP"?Q({phase:"DRAGGING"},t,{scrollJumpRequest:null}):t}var ET={phase:"IDLE",completed:null,shouldFlush:!1},j6=function(t,e){if(t===void 0&&(t=ET),e.type==="FLUSH")return Q({},ET,{shouldFlush:!0});if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&M(!1);var n=e.payload,r=n.critical,i=n.clientSelection,o=n.viewport,s=n.dimensions,a=n.movementMode,l=s.draggables[r.draggable.id],u=s.droppables[r.droppable.id],c={selection:i,borderBoxCenter:l.client.borderBox.center,offset:pt},d={client:c,page:{selection:Tt(c.selection,o.scroll.initial),borderBoxCenter:Tt(c.selection,o.scroll.initial),offset:Tt(c.selection,o.scroll.diff.value)}},f=kh(s.droppables).every(function($o){return!$o.isFixedOnPage}),h=dD({draggable:l,home:u,draggables:s.draggables,viewport:o}),p=h.impact,m=h.afterCritical,w={phase:"DRAGGING",isDragging:!0,critical:r,movementMode:a,dimensions:s,initial:d,current:d,isWindowScrollAllowed:f,impact:p,afterCritical:m,onLiftImpact:p,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null};return w}if(e.type==="COLLECTION_STARTING"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&M(!1);var g=Q({phase:"COLLECTING"},t,{phase:"COLLECTING"});return g}if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||M(!1),B6({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;qi(t)||M(!1);var v=e.payload.client;return vi(v,t.current.client.selection)?t:ol({state:t,clientSelection:v,impact:rv(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return sg(t);qi(t)||M(!1);var _=e.payload,y=_.id,I=_.newScroll,S=t.dimensions.droppables[y];if(!S)return t;var b=q_(S,I);return og(t,b,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;qi(t)||M(!1);var C=e.payload,O=C.id,N=C.isEnabled,j=t.dimensions.droppables[O];j||M(!1),j.isEnabled===N&&M(!1);var Ee=Q({},j,{isEnabled:N});return og(t,Ee,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;qi(t)||M(!1);var Le=e.payload,ve=Le.id,le=Le.isCombineEnabled,Ke=t.dimensions.droppables[ve];Ke||M(!1),Ke.isCombineEnabled===le&&M(!1);var Ct=Q({},Ke,{isCombineEnabled:le});return og(t,Ct,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;qi(t)||M(!1),t.isWindowScrollAllowed||M(!1);var L=e.payload.newScroll;if(vi(t.viewport.scroll.current,L))return sg(t);var z=eD(t.viewport,L);return rv(t)?cD({state:t,viewport:z}):ol({state:t,viewport:z})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!qi(t))return t;var W=e.payload.maxScroll;if(vi(W,t.viewport.scroll.max))return t;var ue=Q({},t.viewport,{scroll:Q({},t.viewport.scroll,{max:W})});return Q({phase:"DRAGGING"},t,{viewport:ue})}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&M(!1);var ie=S6({state:t,type:e.type});return ie?ol({state:t,impact:ie.impact,clientSelection:ie.clientSelection,scrollJumpRequest:ie.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){var lt=e.payload.reason;t.phase!=="COLLECTING"&&M(!1);var Ze=Q({phase:"DROP_PENDING"},t,{phase:"DROP_PENDING",isWaiting:!0,reason:lt});return Ze}if(e.type==="DROP_ANIMATE"){var Pt=e.payload,Kt=Pt.completed,Mn=Pt.dropDuration,Fo=Pt.newHomeClientOffset;t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||M(!1);var Oe={phase:"DROP_ANIMATING",completed:Kt,dropDuration:Mn,newHomeClientOffset:Fo,dimensions:t.dimensions};return Oe}if(e.type==="DROP_COMPLETE"){var wn=e.payload.completed;return{phase:"IDLE",completed:wn,shouldFlush:!1}}return t},z6=function(e){return{type:"BEFORE_INITIAL_CAPTURE",payload:e}},W6=function(e){return{type:"LIFT",payload:e}},H6=function(e){return{type:"INITIAL_PUBLISH",payload:e}},q6=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},G6=function(){return{type:"COLLECTION_STARTING",payload:null}},K6=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},Q6=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},Y6=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},fD=function(e){return{type:"MOVE",payload:e}},X6=function(e){return{type:"MOVE_BY_WINDOW_SCROLL",payload:e}},J6=function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}},Z6=function(){return{type:"MOVE_UP",payload:null}},eW=function(){return{type:"MOVE_DOWN",payload:null}},tW=function(){return{type:"MOVE_RIGHT",payload:null}},nW=function(){return{type:"MOVE_LEFT",payload:null}},ew=function(){return{type:"FLUSH",payload:null}},rW=function(e){return{type:"DROP_ANIMATE",payload:e}},tw=function(e){return{type:"DROP_COMPLETE",payload:e}},hD=function(e){return{type:"DROP",payload:e}},iW=function(e){return{type:"DROP_PENDING",payload:e}},pD=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},oW=function(t){return function(e){var n=e.getState,r=e.dispatch;return function(i){return function(o){if(o.type!=="LIFT"){i(o);return}var s=o.payload,a=s.id,l=s.clientSelection,u=s.movementMode,c=n();c.phase==="DROP_ANIMATING"&&r(tw({completed:c.completed})),n().phase!=="IDLE"&&M(!1),r(ew()),r(z6({draggableId:a,movementMode:u}));var d={shouldPublishImmediately:u==="SNAP"},f={draggableId:a,scrollOptions:d},h=t.startPublishing(f),p=h.critical,m=h.dimensions,w=h.viewport;r(H6({critical:p,dimensions:m,clientSelection:l,movementMode:u,viewport:w}))}}}},sW=function(t){return function(){return function(e){return function(n){n.type==="INITIAL_PUBLISH"&&t.dragging(),n.type==="DROP_ANIMATE"&&t.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&t.resting(),e(n)}}}},nw={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},tu={opacity:{drop:0,combining:.7},scale:{drop:.75}},rw={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Bi=rw.outOfTheWay+"s "+nw.outOfTheWay,sl={fluid:"opacity "+Bi,snap:"transform "+Bi+", opacity "+Bi,drop:function(e){var n=e+"s "+nw.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+Bi,placeholder:"height "+Bi+", width "+Bi+", margin "+Bi},IT=function(e){return vi(e,pt)?null:"translate("+e.x+"px, "+e.y+"px)"},iv={moveTo:IT,drop:function(e,n){var r=IT(e);return r?n?r+" scale("+tu.scale.drop+")":r:null}},ov=rw.minDropTime,gD=rw.maxDropTime,aW=gD-ov,TT=1500,lW=.6,uW=function(t){var e=t.current,n=t.destination,r=t.reason,i=Jl(e,n);if(i<=0)return ov;if(i>=TT)return gD;var o=i/TT,s=ov+aW*o,a=r==="CANCEL"?s*lW:s;return Number(a.toFixed(2))},cW=function(t){var e=t.impact,n=t.draggable,r=t.dimensions,i=t.viewport,o=t.afterCritical,s=r.draggables,a=r.droppables,l=fn(e),u=l?a[l]:null,c=a[n.descriptor.droppableId],d=uD({impact:e,draggable:n,draggables:s,afterCritical:o,droppable:u||c,viewport:i}),f=ln(d,n.client.borderBox.center);return f},dW=function(t){var e=t.draggables,n=t.reason,r=t.lastImpact,i=t.home,o=t.viewport,s=t.onLiftImpact;if(!r.at||n!=="DROP"){var a=lD({draggables:e,impact:s,destination:i,viewport:o,forceShouldAnimate:!0});return{impact:a,didDropInsideDroppable:!1}}if(r.at.type==="REORDER")return{impact:r,didDropInsideDroppable:!0};var l=Q({},r,{displaced:Zl});return{impact:l,didDropInsideDroppable:!0}},fW=function(t){var e=t.getState,n=t.dispatch;return function(r){return function(i){if(i.type!=="DROP"){r(i);return}var o=e(),s=i.payload.reason;if(o.phase==="COLLECTING"){n(iW({reason:s}));return}if(o.phase!=="IDLE"){var a=o.phase==="DROP_PENDING"&&o.isWaiting;a&&M(!1),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||M(!1);var l=o.critical,u=o.dimensions,c=u.draggables[o.critical.draggable.id],d=dW({reason:s,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),f=d.impact,h=d.didDropInsideDroppable,p=h?K_(f):null,m=h?Oh(f):null,w={index:l.draggable.index,droppableId:l.droppable.id},g={draggableId:c.descriptor.id,type:c.descriptor.type,source:w,reason:s,mode:o.movementMode,destination:p,combine:m},v=cW({impact:f,draggable:c,dimensions:u,viewport:o.viewport,afterCritical:o.afterCritical}),_={critical:o.critical,afterCritical:o.afterCritical,result:g,impact:f},y=!vi(o.current.client.offset,v)||!!g.combine;if(!y){n(tw({completed:_}));return}var I=uW({current:o.current.client.offset,destination:v,reason:s}),S={newHomeClientOffset:v,dropDuration:I,completed:_};n(rW(S))}}}},mD=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function hW(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||t()}}}function pW(t){var e=t.onWindowScroll;function n(){e(mD())}var r=Xl(n),i=hW(r),o=mi;function s(){return o!==mi}function a(){s()&&M(!1),o=An(window,[i])}function l(){s()||M(!1),r.cancel(),o(),o=mi}return{start:a,stop:l,isActive:s}}var gW=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},mW=function(t){var e=pW({onWindowScroll:function(r){t.dispatch(X6({newScroll:r}))}});return function(n){return function(r){!e.isActive()&&r.type==="INITIAL_PUBLISH"&&e.start(),e.isActive()&&gW(r)&&e.stop(),n(r)}}},vW=function(t){var e=!1,n=!1,r=setTimeout(function(){n=!0}),i=function(s){e||n||(e=!0,t(s),clearTimeout(r))};return i.wasCalled=function(){return e},i},yW=function(){var t=[],e=function(o){var s=G_(t,function(u){return u.timerId===o});s===-1&&M(!1);var a=t.splice(s,1),l=a[0];l.callback()},n=function(o){var s=setTimeout(function(){return e(s)}),a={timerId:s,callback:o};t.push(a)},r=function(){if(t.length){var o=[].concat(t);t.length=0,o.forEach(function(s){clearTimeout(s.timerId),s.callback()})}};return{add:n,flush:r}},_W=function(e,n){return e==null&&n==null?!0:e==null||n==null?!1:e.droppableId===n.droppableId&&e.index===n.index},wW=function(e,n){return e==null&&n==null?!0:e==null||n==null?!1:e.draggableId===n.draggableId&&e.droppableId===n.droppableId},EW=function(e,n){if(e===n)return!0;var r=e.draggable.id===n.draggable.id&&e.draggable.droppableId===n.draggable.droppableId&&e.draggable.type===n.draggable.type&&e.draggable.index===n.draggable.index,i=e.droppable.id===n.droppable.id&&e.droppable.type===n.droppable.type;return r&&i},ba=function(e,n){n()},wc=function(e,n){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:n}},ag=function(e,n,r,i){if(!e){r(i(n));return}var o=vW(r),s={announce:o};e(n,s),o.wasCalled()||r(i(n))},IW=function(t,e){var n=yW(),r=null,i=function(f,h){r&&M(!1),ba("onBeforeCapture",function(){var p=t().onBeforeCapture;if(p){var m={draggableId:f,mode:h};p(m)}})},o=function(f,h){r&&M(!1),ba("onBeforeDragStart",function(){var p=t().onBeforeDragStart;p&&p(wc(f,h))})},s=function(f,h){r&&M(!1);var p=wc(f,h);r={mode:h,lastCritical:f,lastLocation:p.source,lastCombine:null},n.add(function(){ba("onDragStart",function(){return ag(t().onDragStart,p,e,qc.onDragStart)})})},a=function(f,h){var p=K_(h),m=Oh(h);r||M(!1);var w=!EW(f,r.lastCritical);w&&(r.lastCritical=f);var g=!_W(r.lastLocation,p);g&&(r.lastLocation=p);var v=!wW(r.lastCombine,m);if(v&&(r.lastCombine=m),!(!w&&!g&&!v)){var _=Q({},wc(f,r.mode),{combine:m,destination:p});n.add(function(){ba("onDragUpdate",function(){return ag(t().onDragUpdate,_,e,qc.onDragUpdate)})})}},l=function(){r||M(!1),n.flush()},u=function(f){r||M(!1),r=null,ba("onDragEnd",function(){return ag(t().onDragEnd,f,e,qc.onDragEnd)})},c=function(){if(r){var f=Q({},wc(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});u(f)}};return{beforeCapture:i,beforeStart:o,start:s,update:a,flush:l,drop:u,abort:c}},TW=function(t,e){var n=IW(t,e);return function(r){return function(i){return function(o){if(o.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(o.type==="INITIAL_PUBLISH"){var s=o.payload.critical;n.beforeStart(s,o.payload.movementMode),i(o),n.start(s,o.payload.movementMode);return}if(o.type==="DROP_COMPLETE"){var a=o.payload.completed.result;n.flush(),i(o),n.drop(a);return}if(i(o),o.type==="FLUSH"){n.abort();return}var l=r.getState();l.phase==="DRAGGING"&&n.update(l.critical,l.impact)}}}},SW=function(t){return function(e){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){e(n);return}var r=t.getState();r.phase!=="DROP_ANIMATING"&&M(!1),t.dispatch(tw({completed:r.completed}))}}},bW=function(t){var e=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return function(i){return function(o){if((o.type==="FLUSH"||o.type==="DROP_COMPLETE"||o.type==="DROP_ANIMATION_FINISHED")&&r(),i(o),o.type==="DROP_ANIMATE"){var s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var l=t.getState();l.phase==="DROP_ANIMATING"&&t.dispatch(pD())}};n=requestAnimationFrame(function(){n=null,e=An(window,[s])})}}}},RW=function(t){return function(){return function(e){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&t.stopPublishing(),e(n)}}}},AW=function(t){var e=!1;return function(){return function(n){return function(r){if(r.type==="INITIAL_PUBLISH"){e=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),t.tryRestoreFocusRecorded();return}if(n(r),!!e){if(r.type==="FLUSH"){e=!1,t.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){e=!1;var i=r.payload.completed.result;i.combine&&t.tryShiftRecord(i.draggableId,i.combine.draggableId),t.tryRestoreFocusRecorded()}}}}}},CW=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},PW=function(t){return function(e){return function(n){return function(r){if(CW(r)){t.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);var i=e.getState();i.phase!=="DRAGGING"&&M(!1),t.start(i);return}n(r),t.scroll(e.getState())}}}},DW=function(t){return function(e){return function(n){if(e(n),n.type==="PUBLISH_WHILE_DRAGGING"){var r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(hD({reason:r.reason})))}}}},xW=Dl,kW=function(t){var e=t.dimensionMarshal,n=t.focusMarshal,r=t.styleMarshal,i=t.getResponders,o=t.announce,s=t.autoScroller;return Iy(j6,xW(F1(sW(r),RW(e),oW(e),fW,SW,bW,DW,PW(s),mW,AW(n),TW(i,o))))},lg=function(){return{additions:{},removals:{},modified:{}}};function OW(t){var e=t.registry,n=t.callbacks,r=lg(),i=null,o=function(){i||(n.collectionStarting(),i=requestAnimationFrame(function(){i=null;var c=r,d=c.additions,f=c.removals,h=c.modified,p=Object.keys(d).map(function(g){return e.draggable.getById(g).getDimension(pt)}).sort(function(g,v){return g.descriptor.index-v.descriptor.index}),m=Object.keys(h).map(function(g){var v=e.droppable.getById(g),_=v.callbacks.getScrollWhileDragging();return{droppableId:g,scroll:_}}),w={additions:p,removals:Object.keys(f),modified:m};r=lg(),n.publish(w)}))},s=function(c){var d=c.descriptor.id;r.additions[d]=c,r.modified[c.descriptor.droppableId]=!0,r.removals[d]&&delete r.removals[d],o()},a=function(c){var d=c.descriptor;r.removals[d.id]=!0,r.modified[d.droppableId]=!0,r.additions[d.id]&&delete r.additions[d.id],o()},l=function(){i&&(cancelAnimationFrame(i),i=null,r=lg())};return{add:s,remove:a,stop:l}}var vD=function(t){var e=t.scrollHeight,n=t.scrollWidth,r=t.height,i=t.width,o=ln({x:n,y:e},{x:i,y:r}),s={x:Math.max(0,o.x),y:Math.max(0,o.y)};return s},yD=function(){var t=document.documentElement;return t||M(!1),t},_D=function(){var t=yD(),e=vD({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight});return e},NW=function(){var t=mD(),e=_D(),n=t.y,r=t.x,i=yD(),o=i.clientWidth,s=i.clientHeight,a=r+o,l=n+s,u=Wn({top:n,left:r,right:a,bottom:l}),c={frame:u,scroll:{initial:t,current:t,max:e,diff:{value:pt,displacement:pt}}};return c},MW=function(t){var e=t.critical,n=t.scrollOptions,r=t.registry,i=NW(),o=i.scroll.current,s=e.droppable,a=r.droppable.getAllByType(s.type).map(function(d){return d.callbacks.getDimensionAndWatchScroll(o,n)}),l=r.draggable.getAllByType(e.draggable.type).map(function(d){return d.getDimension(o)}),u={draggables:KP(l),droppables:GP(a)},c={dimensions:u,critical:e,viewport:i};return c};function ST(t,e,n){if(n.descriptor.id===e.id||n.descriptor.type!==e.type)return!1;var r=t.droppable.getById(n.descriptor.droppableId);return r.descriptor.mode==="virtual"}var LW=function(t,e){var n=null,r=OW({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),i=function(h,p){t.droppable.exists(h)||M(!1),n&&e.updateDroppableIsEnabled({id:h,isEnabled:p})},o=function(h,p){n&&(t.droppable.exists(h)||M(!1),e.updateDroppableIsCombineEnabled({id:h,isCombineEnabled:p}))},s=function(h,p){n&&(t.droppable.exists(h)||M(!1),e.updateDroppableScroll({id:h,newScroll:p}))},a=function(h,p){n&&t.droppable.getById(h).callbacks.scroll(p)},l=function(){if(n){r.stop();var h=n.critical.droppable;t.droppable.getAllByType(h.type).forEach(function(p){return p.callbacks.dragStopped()}),n.unsubscribe(),n=null}},u=function(h){n||M(!1);var p=n.critical.draggable;h.type==="ADDITION"&&ST(t,p,h.value)&&r.add(h.value),h.type==="REMOVAL"&&ST(t,p,h.value)&&r.remove(h.value)},c=function(h){n&&M(!1);var p=t.draggable.getById(h.draggableId),m=t.droppable.getById(p.descriptor.droppableId),w={draggable:p.descriptor,droppable:m.descriptor},g=t.subscribe(u);return n={critical:w,unsubscribe:g},MW({critical:w,registry:t,scrollOptions:h.scrollOptions})},d={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:o,scrollDroppable:a,updateDroppableScroll:s,startPublishing:c,stopPublishing:l};return d},wD=function(t,e){return t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP"},VW=function(t){window.scrollBy(t.x,t.y)},FW=ft(function(t){return kh(t).filter(function(e){return!(!e.isEnabled||!e.frame)})}),$W=function(e,n){var r=Vi(FW(n),function(i){return i.frame||M(!1),iD(i.frame.pageMarginBox)(e)});return r},UW=function(t){var e=t.center,n=t.destination,r=t.droppables;if(n){var i=r[n];return i.frame?i:null}var o=$W(e,r);return o},yi={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(e){return Math.pow(e,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},BW=function(t,e){var n=t[e.size]*yi.startFromPercentage,r=t[e.size]*yi.maxScrollAtPercentage,i={startScrollingFrom:n,maxScrollValueAt:r};return i},ED=function(t){var e=t.startOfRange,n=t.endOfRange,r=t.current,i=n-e;if(i===0)return 0;var o=r-e,s=o/i;return s},iw=1,jW=function(t,e){if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return yi.maxPixelScroll;if(t===e.startScrollingFrom)return iw;var n=ED({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),r=1-n,i=yi.maxPixelScroll*yi.ease(r);return Math.ceil(i)},bT=yi.durationDampening.accelerateAt,RT=yi.durationDampening.stopDampeningAt,zW=function(t,e){var n=e,r=RT,i=Date.now(),o=i-n;if(o>=RT)return t;if(o<bT)return iw;var s=ED({startOfRange:bT,endOfRange:r,current:o}),a=t*yi.ease(s);return Math.ceil(a)},AT=function(t){var e=t.distanceToEdge,n=t.thresholds,r=t.dragStartTime,i=t.shouldUseTimeDampening,o=jW(e,n);return o===0?0:i?Math.max(zW(o,r),iw):o},CT=function(t){var e=t.container,n=t.distanceToEdges,r=t.dragStartTime,i=t.axis,o=t.shouldUseTimeDampening,s=BW(e,i),a=n[i.end]<n[i.start];return a?AT({distanceToEdge:n[i.end],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o}):-1*AT({distanceToEdge:n[i.start],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o})},WW=function(t){var e=t.container,n=t.subject,r=t.proposedScroll,i=n.height>e.height,o=n.width>e.width;return!o&&!i?r:o&&i?null:{x:o?0:r.x,y:i?0:r.y}},HW=HP(function(t){return t===0?0:t}),ID=function(t){var e=t.dragStartTime,n=t.container,r=t.subject,i=t.center,o=t.shouldUseTimeDampening,s={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},a=CT({container:n,distanceToEdges:s,dragStartTime:e,axis:Q_,shouldUseTimeDampening:o}),l=CT({container:n,distanceToEdges:s,dragStartTime:e,axis:XP,shouldUseTimeDampening:o}),u=HW({x:l,y:a});if(vi(u,pt))return null;var c=WW({container:n,subject:r,proposedScroll:u});return c?vi(c,pt)?null:c:null},qW=HP(function(t){return t===0?0:t>0?1:-1}),ow=function(){var t=function(n,r){return n<0?n:n>r?n-r:0};return function(e){var n=e.current,r=e.max,i=e.change,o=Tt(n,i),s={x:t(o.x,r.x),y:t(o.y,r.y)};return vi(s,pt)?null:s}}(),TD=function(e){var n=e.max,r=e.current,i=e.change,o={x:Math.max(r.x,n.x),y:Math.max(r.y,n.y)},s=qW(i),a=ow({max:o,current:r,change:s});return!a||s.x!==0&&a.x===0||s.y!==0&&a.y===0},sw=function(e,n){return TD({current:e.scroll.current,max:e.scroll.max,change:n})},GW=function(e,n){if(!sw(e,n))return null;var r=e.scroll.max,i=e.scroll.current;return ow({current:i,max:r,change:n})},aw=function(e,n){var r=e.frame;return r?TD({current:r.scroll.current,max:r.scroll.max,change:n}):!1},KW=function(e,n){var r=e.frame;return!r||!aw(e,n)?null:ow({current:r.scroll.current,max:r.scroll.max,change:n})},QW=function(t){var e=t.viewport,n=t.subject,r=t.center,i=t.dragStartTime,o=t.shouldUseTimeDampening,s=ID({dragStartTime:i,container:e.frame,subject:n,center:r,shouldUseTimeDampening:o});return s&&sw(e,s)?s:null},YW=function(t){var e=t.droppable,n=t.subject,r=t.center,i=t.dragStartTime,o=t.shouldUseTimeDampening,s=e.frame;if(!s)return null;var a=ID({dragStartTime:i,container:s.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o});return a&&aw(e,a)?a:null},PT=function(t){var e=t.state,n=t.dragStartTime,r=t.shouldUseTimeDampening,i=t.scrollWindow,o=t.scrollDroppable,s=e.current.page.borderBoxCenter,a=e.dimensions.draggables[e.critical.draggable.id],l=a.page.marginBox;if(e.isWindowScrollAllowed){var u=e.viewport,c=QW({dragStartTime:n,viewport:u,subject:l,center:s,shouldUseTimeDampening:r});if(c){i(c);return}}var d=UW({center:s,destination:fn(e.impact),droppables:e.dimensions.droppables});if(d){var f=YW({dragStartTime:n,droppable:d,subject:l,center:s,shouldUseTimeDampening:r});f&&o(d.descriptor.id,f)}},XW=function(t){var e=t.scrollWindow,n=t.scrollDroppable,r=Xl(e),i=Xl(n),o=null,s=function(c){o||M(!1);var d=o,f=d.shouldUseTimeDampening,h=d.dragStartTime;PT({state:c,scrollWindow:r,scrollDroppable:i,dragStartTime:h,shouldUseTimeDampening:f})},a=function(c){o&&M(!1);var d=Date.now(),f=!1,h=function(){f=!0};PT({state:c,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:h,scrollDroppable:h}),o={dragStartTime:d,shouldUseTimeDampening:f},f&&s(c)},l=function(){o&&(r.cancel(),i.cancel(),o=null)};return{start:a,stop:l,scroll:s}},JW=function(t){var e=t.move,n=t.scrollDroppable,r=t.scrollWindow,i=function(u,c){var d=Tt(u.current.client.selection,c);e({client:d})},o=function(u,c){if(!aw(u,c))return c;var d=KW(u,c);if(!d)return n(u.descriptor.id,c),null;var f=ln(c,d);n(u.descriptor.id,f);var h=ln(c,f);return h},s=function(u,c,d){if(!u||!sw(c,d))return d;var f=GW(c,d);if(!f)return r(d),null;var h=ln(d,f);r(h);var p=ln(d,h);return p},a=function(u){var c=u.scrollJumpRequest;if(c){var d=fn(u.impact);d||M(!1);var f=o(u.dimensions.droppables[d],c);if(f){var h=u.viewport,p=s(u.isWindowScrollAllowed,h,f);p&&i(u,p)}}};return a},ZW=function(t){var e=t.scrollDroppable,n=t.scrollWindow,r=t.move,i=XW({scrollWindow:n,scrollDroppable:e}),o=JW({move:r,scrollWindow:n,scrollDroppable:e}),s=function(u){if(u.phase==="DRAGGING"){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&o(u)}},a={scroll:s,start:i.start,stop:i.stop};return a},js="data-rbd",zs=function(){var t=js+"-drag-handle";return{base:t,draggableId:t+"-draggable-id",contextId:t+"-context-id"}}(),sv=function(){var t=js+"-draggable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),e5=function(){var t=js+"-droppable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),DT={contextId:js+"-scroll-container-context-id"},t5=function(e){return function(n){return"["+n+'="'+e+'"]'}},Ra=function(e,n){return e.map(function(r){var i=r.styles[n];return i?r.selector+" { "+i+" }":""}).join(" ")},n5="pointer-events: none;",r5=function(t){var e=t5(t),n=function(){var a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(zs.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:n5,dropAnimating:a}}}(),r=function(){var a=`
      transition: `+sl.outOfTheWay+`;
    `;return{selector:e(sv.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}}(),i={selector:e(e5.contextId),styles:{always:"overflow-anchor: none;"}},o={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},s=[r,n,i,o];return{always:Ra(s,"always"),resting:Ra(s,"resting"),dragging:Ra(s,"dragging"),dropAnimating:Ra(s,"dropAnimating"),userCancel:Ra(s,"userCancel")}},hn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?E.useLayoutEffect:E.useEffect,ug=function(){var e=document.querySelector("head");return e||M(!1),e},xT=function(e){var n=document.createElement("style");return e&&n.setAttribute("nonce",e),n.type="text/css",n};function i5(t,e){var n=he(function(){return r5(t)},[t]),r=E.useRef(null),i=E.useRef(null),o=H(ft(function(d){var f=i.current;f||M(!1),f.textContent=d}),[]),s=H(function(d){var f=r.current;f||M(!1),f.textContent=d},[]);hn(function(){!r.current&&!i.current||M(!1);var d=xT(e),f=xT(e);return r.current=d,i.current=f,d.setAttribute(js+"-always",t),f.setAttribute(js+"-dynamic",t),ug().appendChild(d),ug().appendChild(f),s(n.always),o(n.resting),function(){var h=function(m){var w=m.current;w||M(!1),ug().removeChild(w),m.current=null};h(r),h(i)}},[e,s,o,n.always,n.resting,t]);var a=H(function(){return o(n.dragging)},[o,n.dragging]),l=H(function(d){if(d==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),u=H(function(){i.current&&o(n.resting)},[o,n.resting]),c=he(function(){return{dragging:a,dropping:l,resting:u}},[a,l,u]);return c}var SD=function(t){return t&&t.ownerDocument?t.ownerDocument.defaultView:window};function Lh(t){return t instanceof SD(t).HTMLElement}function o5(t,e){var n="["+zs.contextId+'="'+t+'"]',r=qP(document.querySelectorAll(n));if(!r.length)return null;var i=Vi(r,function(o){return o.getAttribute(zs.draggableId)===e});return!i||!Lh(i)?null:i}function s5(t){var e=E.useRef({}),n=E.useRef(null),r=E.useRef(null),i=E.useRef(!1),o=H(function(f,h){var p={id:f,focus:h};return e.current[f]=p,function(){var w=e.current,g=w[f];g!==p&&delete w[f]}},[]),s=H(function(f){var h=o5(t,f);h&&h!==document.activeElement&&h.focus()},[t]),a=H(function(f,h){n.current===f&&(n.current=h)},[]),l=H(function(){r.current||i.current&&(r.current=requestAnimationFrame(function(){r.current=null;var f=n.current;f&&s(f)}))},[s]),u=H(function(f){n.current=null;var h=document.activeElement;h&&h.getAttribute(zs.draggableId)===f&&(n.current=f)},[]);hn(function(){return i.current=!0,function(){i.current=!1;var f=r.current;f&&cancelAnimationFrame(f)}},[]);var c=he(function(){return{register:o,tryRecordFocus:u,tryRestoreFocusRecorded:l,tryShiftRecord:a}},[o,u,l,a]);return c}function a5(){var t={draggables:{},droppables:{}},e=[];function n(d){return e.push(d),function(){var h=e.indexOf(d);h!==-1&&e.splice(h,1)}}function r(d){e.length&&e.forEach(function(f){return f(d)})}function i(d){return t.draggables[d]||null}function o(d){var f=i(d);return f||M(!1),f}var s={register:function(f){t.draggables[f.descriptor.id]=f,r({type:"ADDITION",value:f})},update:function(f,h){var p=t.draggables[h.descriptor.id];p&&p.uniqueId===f.uniqueId&&(delete t.draggables[h.descriptor.id],t.draggables[f.descriptor.id]=f)},unregister:function(f){var h=f.descriptor.id,p=i(h);p&&f.uniqueId===p.uniqueId&&(delete t.draggables[h],r({type:"REMOVAL",value:f}))},getById:o,findById:i,exists:function(f){return!!i(f)},getAllByType:function(f){return Jd(t.draggables).filter(function(h){return h.descriptor.type===f})}};function a(d){return t.droppables[d]||null}function l(d){var f=a(d);return f||M(!1),f}var u={register:function(f){t.droppables[f.descriptor.id]=f},unregister:function(f){var h=a(f.descriptor.id);h&&f.uniqueId===h.uniqueId&&delete t.droppables[f.descriptor.id]},getById:l,findById:a,exists:function(f){return!!a(f)},getAllByType:function(f){return Jd(t.droppables).filter(function(h){return h.descriptor.type===f})}};function c(){t.draggables={},t.droppables={},e.length=0}return{draggable:s,droppable:u,subscribe:n,clean:c}}function l5(){var t=he(a5,[]);return E.useEffect(function(){return function(){requestAnimationFrame(t.clean)}},[t]),t}var lw=ge.createContext(null),ef=function(){var t=document.body;return t||M(!1),t},u5={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},c5=function(e){return"rbd-announcement-"+e};function d5(t){var e=he(function(){return c5(t)},[t]),n=E.useRef(null);E.useEffect(function(){var o=document.createElement("div");return n.current=o,o.id=e,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),Q(o.style,u5),ef().appendChild(o),function(){setTimeout(function(){var l=ef();l.contains(o)&&l.removeChild(o),o===n.current&&(n.current=null)})}},[e]);var r=H(function(i){var o=n.current;if(o){o.textContent=i;return}},[]);return r}var f5=0,h5={separator:"::"};function uw(t,e){return e===void 0&&(e=h5),he(function(){return""+t+e.separator+f5++},[e.separator,t])}function p5(t){var e=t.contextId,n=t.uniqueId;return"rbd-hidden-text-"+e+"-"+n}function g5(t){var e=t.contextId,n=t.text,r=uw("hidden-text",{separator:"-"}),i=he(function(){return p5({contextId:e,uniqueId:r})},[r,e]);return E.useEffect(function(){var s=document.createElement("div");return s.id=i,s.textContent=n,s.style.display="none",ef().appendChild(s),function(){var l=ef();l.contains(s)&&l.removeChild(s)}},[i,n]),i}var Vh=ge.createContext(null);function bD(t){var e=E.useRef(t);return E.useEffect(function(){e.current=t}),e}function m5(){var t=null;function e(){return!!t}function n(s){return s===t}function r(s){t&&M(!1);var a={abandon:s};return t=a,a}function i(){t||M(!1),t=null}function o(){t&&(t.abandon(),i())}return{isClaimed:e,isActive:n,claim:r,release:i,tryAbandon:o}}var v5=9,y5=13,cw=27,RD=32,_5=33,w5=34,E5=35,I5=36,T5=37,S5=38,b5=39,R5=40,Ec,A5=(Ec={},Ec[y5]=!0,Ec[v5]=!0,Ec),AD=function(t){A5[t.keyCode]&&t.preventDefault()},Fh=function(){var t="visibilitychange";if(typeof document>"u")return t;var e=[t,"ms"+t,"webkit"+t,"moz"+t,"o"+t],n=Vi(e,function(r){return"on"+r in document});return n||t}(),CD=0,kT=5;function C5(t,e){return Math.abs(e.x-t.x)>=kT||Math.abs(e.y-t.y)>=kT}var OT={type:"IDLE"};function P5(t){var e=t.cancel,n=t.completed,r=t.getPhase,i=t.setPhase;return[{eventName:"mousemove",fn:function(s){var a=s.button,l=s.clientX,u=s.clientY;if(a===CD){var c={x:l,y:u},d=r();if(d.type==="DRAGGING"){s.preventDefault(),d.actions.move(c);return}d.type!=="PENDING"&&M(!1);var f=d.point;if(C5(f,c)){s.preventDefault();var h=d.actions.fluidLift(c);i({type:"DRAGGING",actions:h})}}}},{eventName:"mouseup",fn:function(s){var a=r();if(a.type!=="DRAGGING"){e();return}s.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(s){r().type==="DRAGGING"&&s.preventDefault(),e()}},{eventName:"keydown",fn:function(s){var a=r();if(a.type==="PENDING"){e();return}if(s.keyCode===cw){s.preventDefault(),e();return}AD(s)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:function(s){var a=r();if(a.type==="IDLE"&&M(!1),a.actions.shouldRespectForcePress()){e();return}s.preventDefault()}},{eventName:Fh,fn:e}]}function D5(t){var e=E.useRef(OT),n=E.useRef(mi),r=he(function(){return{eventName:"mousedown",fn:function(d){if(!d.defaultPrevented&&d.button===CD&&!(d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)){var f=t.findClosestDraggableId(d);if(f){var h=t.tryGetLock(f,s,{sourceEvent:d});if(h){d.preventDefault();var p={x:d.clientX,y:d.clientY};n.current(),u(h,p)}}}}}},[t]),i=he(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(d){if(!d.defaultPrevented){var f=t.findClosestDraggableId(d);if(f){var h=t.findOptionsForDraggable(f);h&&(h.shouldRespectForcePress||t.canGetLock(f)&&d.preventDefault())}}}}},[t]),o=H(function(){var d={passive:!1,capture:!0};n.current=An(window,[i,r],d)},[i,r]),s=H(function(){var c=e.current;c.type!=="IDLE"&&(e.current=OT,n.current(),o())},[o]),a=H(function(){var c=e.current;s(),c.type==="DRAGGING"&&c.actions.cancel({shouldBlockNextClick:!0}),c.type==="PENDING"&&c.actions.abort()},[s]),l=H(function(){var d={capture:!0,passive:!1},f=P5({cancel:a,completed:s,getPhase:function(){return e.current},setPhase:function(p){e.current=p}});n.current=An(window,f,d)},[a,s]),u=H(function(d,f){e.current.type!=="IDLE"&&M(!1),e.current={type:"PENDING",point:f,actions:d},l()},[l]);hn(function(){return o(),function(){n.current()}},[o])}var Wo;function x5(){}var k5=(Wo={},Wo[w5]=!0,Wo[_5]=!0,Wo[I5]=!0,Wo[E5]=!0,Wo);function O5(t,e){function n(){e(),t.cancel()}function r(){e(),t.drop()}return[{eventName:"keydown",fn:function(o){if(o.keyCode===cw){o.preventDefault(),n();return}if(o.keyCode===RD){o.preventDefault(),r();return}if(o.keyCode===R5){o.preventDefault(),t.moveDown();return}if(o.keyCode===S5){o.preventDefault(),t.moveUp();return}if(o.keyCode===b5){o.preventDefault(),t.moveRight();return}if(o.keyCode===T5){o.preventDefault(),t.moveLeft();return}if(k5[o.keyCode]){o.preventDefault();return}AD(o)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Fh,fn:n}]}function N5(t){var e=E.useRef(x5),n=he(function(){return{eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==RD)return;var s=t.findClosestDraggableId(o);if(!s)return;var a=t.tryGetLock(s,c,{sourceEvent:o});if(!a)return;o.preventDefault();var l=!0,u=a.snapLift();e.current();function c(){l||M(!1),l=!1,e.current(),r()}e.current=An(window,O5(u,c),{capture:!0,passive:!1})}}},[t]),r=H(function(){var o={passive:!1,capture:!0};e.current=An(window,[n],o)},[n]);hn(function(){return r(),function(){e.current()}},[r])}var cg={type:"IDLE"},M5=120,L5=.15;function V5(t){var e=t.cancel,n=t.getPhase;return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(n().type!=="DRAGGING"){e();return}i.keyCode===cw&&i.preventDefault(),e()}},{eventName:Fh,fn:e}]}function F5(t){var e=t.cancel,n=t.completed,r=t.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(o){var s=r();if(s.type!=="DRAGGING"){e();return}s.hasMoved=!0;var a=o.touches[0],l=a.clientX,u=a.clientY,c={x:l,y:u};o.preventDefault(),s.actions.move(c)}},{eventName:"touchend",fn:function(o){var s=r();if(s.type!=="DRAGGING"){e();return}o.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(o){if(r().type!=="DRAGGING"){e();return}o.preventDefault(),e()}},{eventName:"touchforcechange",fn:function(o){var s=r();s.type==="IDLE"&&M(!1);var a=o.touches[0];if(a){var l=a.force>=L5;if(l){var u=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){u&&e();return}if(u){if(s.hasMoved){o.preventDefault();return}e();return}o.preventDefault()}}}},{eventName:Fh,fn:e}]}function $5(t){var e=E.useRef(cg),n=E.useRef(mi),r=H(function(){return e.current},[]),i=H(function(h){e.current=h},[]),o=he(function(){return{eventName:"touchstart",fn:function(h){if(!h.defaultPrevented){var p=t.findClosestDraggableId(h);if(p){var m=t.tryGetLock(p,a,{sourceEvent:h});if(m){var w=h.touches[0],g=w.clientX,v=w.clientY,_={x:g,y:v};n.current(),d(m,_)}}}}}},[t]),s=H(function(){var h={capture:!0,passive:!1};n.current=An(window,[o],h)},[o]),a=H(function(){var f=e.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),i(cg),n.current(),s())},[s,i]),l=H(function(){var f=e.current;a(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[a]),u=H(function(){var h={capture:!0,passive:!1},p={cancel:l,completed:a,getPhase:r},m=An(window,F5(p),h),w=An(window,V5(p),h);n.current=function(){m(),w()}},[l,r,a]),c=H(function(){var h=r();h.type!=="PENDING"&&M(!1);var p=h.actions.fluidLift(h.point);i({type:"DRAGGING",actions:p,hasMoved:!1})},[r,i]),d=H(function(h,p){r().type!=="IDLE"&&M(!1);var m=setTimeout(c,M5);i({type:"PENDING",point:p,actions:h,longPressTimerId:m}),u()},[u,r,i,c]);hn(function(){return s(),function(){n.current();var p=r();p.type==="PENDING"&&(clearTimeout(p.longPressTimerId),i(cg))}},[r,s,i]),hn(function(){var h=An(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return h},[])}var U5={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function PD(t,e){if(e==null)return!1;var n=!!U5[e.tagName.toLowerCase()];if(n)return!0;var r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===t?!1:PD(t,e.parentElement)}function B5(t,e){var n=e.target;return Lh(n)?PD(t,n):!1}var j5=function(t){return Wn(t.getBoundingClientRect()).center};function z5(t){return t instanceof SD(t).Element}var W5=function(){var t="matches";if(typeof document>"u")return t;var e=[t,"msMatchesSelector","webkitMatchesSelector"],n=Vi(e,function(r){return r in Element.prototype});return n||t}();function DD(t,e){return t==null?null:t[W5](e)?t:DD(t.parentElement,e)}function H5(t,e){return t.closest?t.closest(e):DD(t,e)}function q5(t){return"["+zs.contextId+'="'+t+'"]'}function G5(t,e){var n=e.target;if(!z5(n))return null;var r=q5(t),i=H5(n,r);return!i||!Lh(i)?null:i}function K5(t,e){var n=G5(t,e);return n?n.getAttribute(zs.draggableId):null}function Q5(t,e){var n="["+sv.contextId+'="'+t+'"]',r=qP(document.querySelectorAll(n)),i=Vi(r,function(o){return o.getAttribute(sv.id)===e});return!i||!Lh(i)?null:i}function Y5(t){t.preventDefault()}function Ic(t){var e=t.expected,n=t.phase,r=t.isLockActive;return t.shouldWarn,!(!r()||e!==n)}function xD(t){var e=t.lockAPI,n=t.store,r=t.registry,i=t.draggableId;if(e.isClaimed())return!1;var o=r.draggable.findById(i);return!(!o||!o.options.isEnabled||!wD(n.getState(),i))}function X5(t){var e=t.lockAPI,n=t.contextId,r=t.store,i=t.registry,o=t.draggableId,s=t.forceSensorStop,a=t.sourceEvent,l=xD({lockAPI:e,store:r,registry:i,draggableId:o});if(!l)return null;var u=i.draggable.getById(o),c=Q5(n,u.descriptor.id);if(!c||a&&!u.options.canDragInteractiveElements&&B5(c,a))return null;var d=e.claim(s||mi),f="PRE_DRAG";function h(){return u.options.shouldRespectForcePress}function p(){return e.isActive(d)}function m(S,b){Ic({expected:S,phase:f,isLockActive:p,shouldWarn:!0})&&r.dispatch(b())}var w=m.bind(null,"DRAGGING");function g(S){function b(){e.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(b(),f!=="PRE_DRAG"&&M(!1)),r.dispatch(W6(S.liftActionArgs)),f="DRAGGING";function C(O,N){if(N===void 0&&(N={shouldBlockNextClick:!1}),S.cleanup(),N.shouldBlockNextClick){var j=An(window,[{eventName:"click",fn:Y5,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(j)}b(),r.dispatch(hD({reason:O}))}return Q({isActive:function(){return Ic({expected:"DRAGGING",phase:f,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:h,drop:function(N){return C("DROP",N)},cancel:function(N){return C("CANCEL",N)}},S.actions)}function v(S){var b=Xl(function(O){w(function(){return fD({client:O})})}),C=g({liftActionArgs:{id:o,clientSelection:S,movementMode:"FLUID"},cleanup:function(){return b.cancel()},actions:{move:b}});return Q({},C,{move:b})}function _(){var S={moveUp:function(){return w(Z6)},moveRight:function(){return w(tW)},moveDown:function(){return w(eW)},moveLeft:function(){return w(nW)}};return g({liftActionArgs:{id:o,clientSelection:j5(c),movementMode:"SNAP"},cleanup:mi,actions:S})}function y(){var S=Ic({expected:"PRE_DRAG",phase:f,isLockActive:p,shouldWarn:!0});S&&e.release()}var I={isActive:function(){return Ic({expected:"PRE_DRAG",phase:f,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:h,fluidLift:v,snapLift:_,abort:y};return I}var J5=[D5,N5,$5];function Z5(t){var e=t.contextId,n=t.store,r=t.registry,i=t.customSensors,o=t.enableDefaultSensors,s=[].concat(o?J5:[],i||[]),a=E.useState(function(){return m5()})[0],l=H(function(v,_){v.isDragging&&!_.isDragging&&a.tryAbandon()},[a]);hn(function(){var v=n.getState(),_=n.subscribe(function(){var y=n.getState();l(v,y),v=y});return _},[a,n,l]),hn(function(){return a.tryAbandon},[a.tryAbandon]);for(var u=H(function(g){return xD({lockAPI:a,registry:r,store:n,draggableId:g})},[a,r,n]),c=H(function(g,v,_){return X5({lockAPI:a,registry:r,contextId:e,store:n,draggableId:g,forceSensorStop:v,sourceEvent:_&&_.sourceEvent?_.sourceEvent:null})},[e,a,r,n]),d=H(function(g){return K5(e,g)},[e]),f=H(function(g){var v=r.draggable.findById(g);return v?v.options:null},[r.draggable]),h=H(function(){a.isClaimed()&&(a.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(ew()))},[a,n]),p=H(a.isClaimed,[a]),m=he(function(){return{canGetLock:u,tryGetLock:c,findClosestDraggableId:d,findOptionsForDraggable:f,tryReleaseLock:h,isLockClaimed:p}},[u,c,d,f,h,p]),w=0;w<s.length;w++)s[w](m)}var eH=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function Aa(t){return t.current||M(!1),t.current}function tH(t){var e=t.contextId,n=t.setCallbacks,r=t.sensors,i=t.nonce,o=t.dragHandleUsageInstructions,s=E.useRef(null),a=bD(t),l=H(function(){return eH(a.current)},[a]),u=d5(e),c=g5({contextId:e,text:o}),d=i5(e,i),f=H(function(O){Aa(s).dispatch(O)},[]),h=he(function(){return _E({publishWhileDragging:q6,updateDroppableScroll:K6,updateDroppableIsEnabled:Q6,updateDroppableIsCombineEnabled:Y6,collectionStarting:G6},f)},[f]),p=l5(),m=he(function(){return LW(p,h)},[p,h]),w=he(function(){return ZW(Q({scrollWindow:VW,scrollDroppable:m.scrollDroppable},_E({move:fD},f)))},[m.scrollDroppable,f]),g=s5(e),v=he(function(){return kW({announce:u,autoScroller:w,dimensionMarshal:m,focusMarshal:g,getResponders:l,styleMarshal:d})},[u,w,m,g,l,d]);s.current=v;var _=H(function(){var O=Aa(s),N=O.getState();N.phase!=="IDLE"&&O.dispatch(ew())},[]),y=H(function(){var O=Aa(s).getState();return O.isDragging||O.phase==="DROP_ANIMATING"},[]),I=he(function(){return{isDragging:y,tryAbort:_}},[y,_]);n(I);var S=H(function(O){return wD(Aa(s).getState(),O)},[]),b=H(function(){return qi(Aa(s).getState())},[]),C=he(function(){return{marshal:m,focus:g,contextId:e,canLift:S,isMovementAllowed:b,dragHandleUsageInstructionsId:c,registry:p}},[e,m,c,g,S,b,p]);return Z5({contextId:e,store:v,registry:p,customSensors:r,enableDefaultSensors:t.enableDefaultSensors!==!1}),E.useEffect(function(){return _},[_]),ge.createElement(Vh.Provider,{value:C},ge.createElement(L9,{context:lw,store:v},t.children))}var nH=0;function rH(){return he(function(){return""+nH++},[])}function iH(t){var e=rH(),n=t.dragHandleUsageInstructions||qc.dragHandleUsageInstructions;return ge.createElement(Nz,null,function(r){return ge.createElement(tH,{nonce:t.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd},t.children)})}var kD=function(e){return function(n){return e===n}},oH=kD("scroll"),sH=kD("auto"),NT=function(e,n){return n(e.overflowX)||n(e.overflowY)},aH=function(e){var n=window.getComputedStyle(e),r={overflowX:n.overflowX,overflowY:n.overflowY};return NT(r,oH)||NT(r,sH)},lH=function(){return!1},uH=function t(e){return e==null?null:e===document.body?lH()?e:null:e===document.documentElement?null:aH(e)?e:t(e.parentElement)},av=function(t){return{x:t.scrollLeft,y:t.scrollTop}},cH=function t(e){if(!e)return!1;var n=window.getComputedStyle(e);return n.position==="fixed"?!0:t(e.parentElement)},dH=function(t){var e=uH(t),n=cH(t);return{closestScrollable:e,isFixedOnPage:n}},fH=function(t){var e=t.descriptor,n=t.isEnabled,r=t.isCombineEnabled,i=t.isFixedOnPage,o=t.direction,s=t.client,a=t.page,l=t.closest,u=function(){if(!l)return null;var h=l.scrollSize,p=l.client,m=vD({scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth,height:p.paddingBox.height,width:p.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:p,scrollSize:h,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:m,diff:{value:pt,displacement:pt}}}}(),c=o==="vertical"?Q_:XP,d=Bs({page:a,withPlaceholder:null,axis:c,frame:u}),f={descriptor:e,isCombineEnabled:r,isFixedOnPage:i,axis:c,isEnabled:n,client:s,page:a,frame:u,subject:d};return f},hH=function(e,n){var r=BP(e);if(!n||e!==n)return r;var i=r.paddingBox.top-n.scrollTop,o=r.paddingBox.left-n.scrollLeft,s=i+n.scrollHeight,a=o+n.scrollWidth,l={top:i,right:a,bottom:s,left:o},u=W_(l,r.border),c=H_({borderBox:u,margin:r.margin,border:r.border,padding:r.padding});return c},pH=function(t){var e=t.ref,n=t.descriptor,r=t.env,i=t.windowScroll,o=t.direction,s=t.isDropDisabled,a=t.isCombineEnabled,l=t.shouldClipSubject,u=r.closestScrollable,c=hH(e,u),d=Qd(c,i),f=function(){if(!u)return null;var p=BP(u),m={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:p,page:Qd(p,i),scroll:av(u),scrollSize:m,shouldClipSubject:l}}(),h=fH({descriptor:n,isEnabled:!s,isCombineEnabled:a,isFixedOnPage:r.isFixedOnPage,direction:o,client:c,page:d,closest:f});return h},gH={passive:!1},mH={passive:!0},MT=function(t){return t.shouldPublishImmediately?gH:mH};function tf(t){var e=E.useContext(t);return e||M(!1),e}var Tc=function(e){return e&&e.env.closestScrollable||null};function vH(t){var e=E.useRef(null),n=tf(Vh),r=uw("droppable"),i=n.registry,o=n.marshal,s=bD(t),a=he(function(){return{id:t.droppableId,type:t.type,mode:t.mode}},[t.droppableId,t.mode,t.type]),l=E.useRef(a),u=he(function(){return ft(function(y,I){e.current||M(!1);var S={x:y,y:I};o.updateDroppableScroll(a.id,S)})},[a.id,o]),c=H(function(){var y=e.current;return!y||!y.env.closestScrollable?pt:av(y.env.closestScrollable)},[]),d=H(function(){var y=c();u(y.x,y.y)},[c,u]),f=he(function(){return Xl(d)},[d]),h=H(function(){var y=e.current,I=Tc(y);y&&I||M(!1);var S=y.scrollOptions;if(S.shouldPublishImmediately){d();return}f()},[f,d]),p=H(function(y,I){e.current&&M(!1);var S=s.current,b=S.getDroppableRef();b||M(!1);var C=dH(b),O={ref:b,descriptor:a,env:C,scrollOptions:I};e.current=O;var N=pH({ref:b,descriptor:a,env:C,windowScroll:y,direction:S.direction,isDropDisabled:S.isDropDisabled,isCombineEnabled:S.isCombineEnabled,shouldClipSubject:!S.ignoreContainerClipping}),j=C.closestScrollable;return j&&(j.setAttribute(DT.contextId,n.contextId),j.addEventListener("scroll",h,MT(O.scrollOptions))),N},[n.contextId,a,h,s]),m=H(function(){var y=e.current,I=Tc(y);return y&&I||M(!1),av(I)},[]),w=H(function(){var y=e.current;y||M(!1);var I=Tc(y);e.current=null,I&&(f.cancel(),I.removeAttribute(DT.contextId),I.removeEventListener("scroll",h,MT(y.scrollOptions)))},[h,f]),g=H(function(y){var I=e.current;I||M(!1);var S=Tc(I);S||M(!1),S.scrollTop+=y.y,S.scrollLeft+=y.x},[]),v=he(function(){return{getDimensionAndWatchScroll:p,getScrollWhileDragging:m,dragStopped:w,scroll:g}},[w,p,m,g]),_=he(function(){return{uniqueId:r,descriptor:a,callbacks:v}},[v,a,r]);hn(function(){return l.current=_.descriptor,i.droppable.register(_),function(){e.current&&w(),i.droppable.unregister(_)}},[v,a,w,_,o,i.droppable]),hn(function(){e.current&&o.updateDroppableIsEnabled(l.current.id,!t.isDropDisabled)},[t.isDropDisabled,o]),hn(function(){e.current&&o.updateDroppableIsCombineEnabled(l.current.id,t.isCombineEnabled)},[t.isCombineEnabled,o])}function dg(){}var LT={width:0,height:0,margin:Uz},yH=function(e){var n=e.isAnimatingOpenOnMount,r=e.placeholder,i=e.animate;return n||i==="close"?LT:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}},_H=function(e){var n=e.isAnimatingOpenOnMount,r=e.placeholder,i=e.animate,o=yH({isAnimatingOpenOnMount:n,placeholder:r,animate:i});return{display:r.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?sl.placeholder:null}};function wH(t){var e=E.useRef(null),n=H(function(){e.current&&(clearTimeout(e.current),e.current=null)},[]),r=t.animate,i=t.onTransitionEnd,o=t.onClose,s=t.contextId,a=E.useState(t.animate==="open"),l=a[0],u=a[1];E.useEffect(function(){return l?r!=="open"?(n(),u(!1),dg):e.current?dg:(e.current=setTimeout(function(){e.current=null,u(!1)}),n):dg},[r,l,n]);var c=H(function(f){f.propertyName==="height"&&(i(),r==="close"&&o())},[r,o,i]),d=_H({isAnimatingOpenOnMount:l,animate:t.animate,placeholder:t.placeholder});return ge.createElement(t.placeholder.tagName,{style:d,"data-rbd-placeholder-context-id":s,onTransitionEnd:c,ref:t.innerRef})}var EH=ge.memo(wH),dw=ge.createContext(null),IH=function(t){RP(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o))||this,r.state={isVisible:!!r.props.on,data:r.props.on,animate:r.props.shouldAnimate&&r.props.on?"open":"none"},r.onClose=function(){r.state.animate==="close"&&r.setState({isVisible:!1})},r}e.getDerivedStateFromProps=function(i,o){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:o.isVisible?{isVisible:!0,data:o.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}};var n=e.prototype;return n.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},e}(ge.PureComponent),VT={dragging:5e3,dropAnimating:4500},TH=function(e,n){return n?sl.drop(n.duration):e?sl.snap:sl.fluid},SH=function(e,n){return e?n?tu.opacity.drop:tu.opacity.combining:null},bH=function(e){return e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP"};function RH(t){var e=t.dimension,n=e.client,r=t.offset,i=t.combineWith,o=t.dropping,s=!!i,a=bH(t),l=!!o,u=l?iv.drop(r,s):iv.moveTo(r),c={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:TH(a,o),transform:u,opacity:SH(s,l),zIndex:l?VT.dropAnimating:VT.dragging,pointerEvents:"none"};return c}function AH(t){return{transform:iv.moveTo(t.offset),transition:t.shouldAnimateDisplacement?null:"none"}}function CH(t){return t.type==="DRAGGING"?RH(t):AH(t)}function PH(t,e,n){n===void 0&&(n=pt);var r=window.getComputedStyle(e),i=e.getBoundingClientRect(),o=UP(i,r),s=Qd(o,n),a={client:o,tagName:e.tagName.toLowerCase(),display:r.display},l={x:o.marginBox.width,y:o.marginBox.height},u={descriptor:t,placeholder:a,displaceBy:l,client:o,page:s};return u}function DH(t){var e=uw("draggable"),n=t.descriptor,r=t.registry,i=t.getDraggableRef,o=t.canDragInteractiveElements,s=t.shouldRespectForcePress,a=t.isEnabled,l=he(function(){return{canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:a}},[o,a,s]),u=H(function(h){var p=i();return p||M(!1),PH(n,p,h)},[n,i]),c=he(function(){return{uniqueId:e,descriptor:n,options:l,getDimension:u}},[n,u,l,e]),d=E.useRef(c),f=E.useRef(!0);hn(function(){return r.draggable.register(d.current),function(){return r.draggable.unregister(d.current)}},[r.draggable]),hn(function(){if(f.current){f.current=!1;return}var h=d.current;d.current=c,r.draggable.update(c,h)},[c,r.draggable])}function xH(t){t.preventDefault()}function kH(t){var e=E.useRef(null),n=H(function(O){e.current=O},[]),r=H(function(){return e.current},[]),i=tf(Vh),o=i.contextId,s=i.dragHandleUsageInstructionsId,a=i.registry,l=tf(dw),u=l.type,c=l.droppableId,d=he(function(){return{id:t.draggableId,index:t.index,type:u,droppableId:c}},[t.draggableId,t.index,u,c]),f=t.children,h=t.draggableId,p=t.isEnabled,m=t.shouldRespectForcePress,w=t.canDragInteractiveElements,g=t.isClone,v=t.mapped,_=t.dropAnimationFinished;if(!g){var y=he(function(){return{descriptor:d,registry:a,getDraggableRef:r,canDragInteractiveElements:w,shouldRespectForcePress:m,isEnabled:p}},[d,a,r,w,m,p]);DH(y)}var I=he(function(){return p?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":h,"data-rbd-drag-handle-context-id":o,draggable:!1,onDragStart:xH}:null},[o,s,h,p]),S=H(function(O){v.type==="DRAGGING"&&v.dropping&&O.propertyName==="transform"&&_()},[_,v]),b=he(function(){var O=CH(v),N=v.type==="DRAGGING"&&v.dropping?S:null,j={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":o,"data-rbd-draggable-id":h,style:O,onTransitionEnd:N},dragHandleProps:I};return j},[o,I,h,v,S,n]),C=he(function(){return{draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}},[d.droppableId,d.id,d.index,d.type]);return f(b,v.snapshot,C)}var OD=function(t,e){return t===e},ND=function(t){var e=t.combine,n=t.destination;return n?n.droppableId:e?e.droppableId:null},OH=function(e){return e.combine?e.combine.draggableId:null},NH=function(e){return e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null};function MH(){var t=ft(function(i,o){return{x:i,y:o}}),e=ft(function(i,o,s,a,l){return{isDragging:!0,isClone:o,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:s,combineWith:a,combineTargetFor:null}}),n=ft(function(i,o,s,a,l,u,c){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:u,mode:o,offset:i,dimension:s,forceShouldAnimate:c,snapshot:e(o,a,l,u,null)}}}),r=function(o,s){if(o.isDragging){if(o.critical.draggable.id!==s.draggableId)return null;var a=o.current.client.offset,l=o.dimensions.draggables[s.draggableId],u=fn(o.impact),c=NH(o.impact),d=o.forceShouldAnimate;return n(t(a.x,a.y),o.movementMode,l,s.isClone,u,c,d)}if(o.phase==="DROP_ANIMATING"){var f=o.completed;if(f.result.draggableId!==s.draggableId)return null;var h=s.isClone,p=o.dimensions.draggables[s.draggableId],m=f.result,w=m.mode,g=ND(m),v=OH(m),_=o.dropDuration,y={duration:_,curve:nw.drop,moveTo:o.newHomeClientOffset,opacity:v?tu.opacity.drop:null,scale:v?tu.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:p,dropping:y,draggingOver:g,combineWith:v,mode:w,forceShouldAnimate:null,snapshot:e(w,h,g,v,y)}}}return null};return r}function MD(t){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}var LH={mapped:{type:"SECONDARY",offset:pt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:MD(null)}};function VH(){var t=ft(function(s,a){return{x:s,y:a}}),e=ft(MD),n=ft(function(s,a,l){return a===void 0&&(a=null),{mapped:{type:"SECONDARY",offset:s,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:e(a)}}}),r=function(a){return a?n(pt,a,!0):null},i=function(a,l,u,c){var d=u.displaced.visible[a],f=!!(c.inVirtualList&&c.effected[a]),h=Oh(u),p=h&&h.draggableId===a?l:null;if(!d){if(!f)return r(p);if(u.displaced.invisible[a])return null;var m=ra(c.displacedBy.point),w=t(m.x,m.y);return n(w,p,!0)}if(f)return r(p);var g=u.displacedBy.point,v=t(g.x,g.y);return n(v,p,d.shouldAnimate)},o=function(a,l){if(a.isDragging)return a.critical.draggable.id===l.draggableId?null:i(l.draggableId,a.critical.draggable.id,a.impact,a.afterCritical);if(a.phase==="DROP_ANIMATING"){var u=a.completed;return u.result.draggableId===l.draggableId?null:i(l.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null};return o}var FH=function(){var e=MH(),n=VH(),r=function(o,s){return e(o,s)||n(o,s)||LH};return r},$H={dropAnimationFinished:pD},UH=FP(FH,$H,null,{context:lw,pure:!0,areStatePropsEqual:OD})(kH);function LD(t){var e=tf(dw),n=e.isUsingCloneFor;return n===t.draggableId&&!t.isClone?null:ge.createElement(UH,t)}function BH(t){var e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,r=!!t.shouldRespectForcePress;return ge.createElement(LD,Q({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:r}))}function jH(t){var e=E.useContext(Vh);e||M(!1);var n=e.contextId,r=e.isMovementAllowed,i=E.useRef(null),o=E.useRef(null),s=t.children,a=t.droppableId,l=t.type,u=t.mode,c=t.direction,d=t.ignoreContainerClipping,f=t.isDropDisabled,h=t.isCombineEnabled,p=t.snapshot,m=t.useClone,w=t.updateViewportMaxScroll,g=t.getContainerForClone,v=H(function(){return i.current},[]),_=H(function(j){i.current=j},[]);H(function(){return o.current},[]);var y=H(function(j){o.current=j},[]),I=H(function(){r()&&w({maxScroll:_D()})},[r,w]);vH({droppableId:a,type:l,mode:u,direction:c,isDropDisabled:f,isCombineEnabled:h,ignoreContainerClipping:d,getDroppableRef:v});var S=ge.createElement(IH,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},function(j){var Ee=j.onClose,Le=j.data,ve=j.animate;return ge.createElement(EH,{placeholder:Le,onClose:Ee,innerRef:y,animate:ve,contextId:n,onTransitionEnd:I})}),b=he(function(){return{innerRef:_,placeholder:S,droppableProps:{"data-rbd-droppable-id":a,"data-rbd-droppable-context-id":n}}},[n,a,S,_]),C=m?m.dragging.draggableId:null,O=he(function(){return{droppableId:a,type:l,isUsingCloneFor:C}},[a,C,l]);function N(){if(!m)return null;var j=m.dragging,Ee=m.render,Le=ge.createElement(LD,{draggableId:j.draggableId,index:j.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(ve,le){return Ee(ve,le,j)});return NO.createPortal(Le,g())}return ge.createElement(dw.Provider,{value:O},s(b,p),N())}var fg=function(e,n){return e===n.droppable.type},FT=function(e,n){return n.draggables[e.draggable.id]},zH=function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=Q({},e,{shouldAnimatePlaceholder:!1}),r=ft(function(s){return{draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}}}),i=ft(function(s,a,l,u,c,d){var f=c.descriptor.id,h=c.descriptor.droppableId===s;if(h){var p=d?{render:d,dragging:r(c.descriptor)}:null,m={isDraggingOver:l,draggingOverWith:l?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:m,useClone:p}}if(!a)return n;if(!u)return e;var w={isDraggingOver:l,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:w,useClone:null}}),o=function(a,l){var u=l.droppableId,c=l.type,d=!l.isDropDisabled,f=l.renderClone;if(a.isDragging){var h=a.critical;if(!fg(c,h))return n;var p=FT(h,a.dimensions),m=fn(a.impact)===u;return i(u,d,m,m,p,f)}if(a.phase==="DROP_ANIMATING"){var w=a.completed;if(!fg(c,w.critical))return n;var g=FT(w.critical,a.dimensions);return i(u,d,ND(w.result)===u,fn(w.impact)===u,g,f)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){var v=a.completed;if(!fg(c,v.critical))return n;var _=fn(v.impact)===u,y=!!(v.impact.at&&v.impact.at.type==="COMBINE"),I=v.critical.droppable.id===u;return _?y?e:n:I?e:n}return n};return o},WH={updateViewportMaxScroll:J6};function HH(){return document.body||M(!1),document.body}var qH={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:HH},fw=FP(zH,WH,null,{context:lw,pure:!0,areStatePropsEqual:OD})(jH);fw.defaultProps=qH;const VD=t=>A.jsx(BH,{draggableId:t.employee.id,index:t.index,children:e=>A.jsxs("li",{className:"employee__item",...e.draggableProps,...e.dragHandleProps,ref:e.innerRef,children:[A.jsx("picture",{className:"employee__item-image",children:A.jsx("img",{src:t.employee.photo,width:"150",alt:""})}),A.jsxs("p",{className:"employee__item-name",children:[A.jsx("span",{children:t.employee.name}),A.jsx("span",{children:t.employee.surname})]})]})},t.employee.id),GH=({children:t,...e})=>{const[n,r]=E.useState(!1);return E.useEffect(()=>{const i=requestAnimationFrame(()=>r(!0));return()=>{cancelAnimationFrame(i),r(!1)}},[]),n?A.jsx(fw,{...e,children:t}):null},KH=t=>A.jsxs("section",{className:"employees",children:[A.jsx("h2",{children:"Employees"}),A.jsx(GH,{direction:"horizontal",droppableId:"employees",children:e=>A.jsx("div",{ref:e.innerRef,...e.droppableProps,children:A.jsxs("ul",{className:"employee__list",children:[t.employees.map((n,r)=>A.jsx(VD,{employee:n,index:r},n.id)),e.placeholder]})})},"employeeList")]}),QH=t=>A.jsx(fw,{direction:"horizontal",droppableId:t.task.id,children:e=>A.jsxs("div",{ref:e.innerRef,...e.droppableProps,className:"task__item",children:[A.jsx("h3",{children:t.task.taskName}),A.jsx("p",{children:t.task.taskDescription}),A.jsxs("ul",{className:"employee__list",children:[t.task.assignedFor.map((n,r)=>A.jsx(VD,{employee:n,index:r},n.id)),e.placeholder]})]})}),YH=t=>A.jsxs("section",{className:"tasks",children:[A.jsx("h2",{children:"Tasks"}),A.jsx("ul",{className:"tasks__list",children:t.tasks.map((e,n)=>A.jsx(QH,{task:e,index:n},n))})]}),XH="tasks",JH="employees",hw=E.createContext({}),ZH=hw.Provider;hw.Consumer;const hg=t=>{const e=eq();return A.jsx(ZH,{value:e,children:t.children})},FD=()=>{const t=E.useContext(hw);if(t===void 0)throw new Error("useEmployeeUpdate must be used within a EmployeeUpdateProvider");return t};function eq(){const[t,e]=E.useState([]),[n,r]=E.useState(void 0),{user:i}=Li(),o=xo();return E.useEffect(()=>{i||o("/login")},[i]),E.useEffect(()=>{let a,l=!0;return(async()=>{try{if(i==null||a!==void 0)return;const c=_P(bh(bo,JH),_9("active","==",!0));a=SP(c,d=>{d.docChanges().forEach(f=>{const h=f.doc.data();switch(f.type){case"added":case"modified":{const m={id:h.id,name:h.name,surname:h.surname,photo:h.photo,active:h.active};l&&e(w=>{const g=[...w];return g.push(m),g});break}case"removed":{l&&e(m=>[...m].filter(v=>v.id!==h.id)),console.log("Employee was removed");break}}})})}catch(c){l&&r(c)}})(),function(){l=!1,a&&a()}},[i]),{employees:t,errorEmployee:n}}const pw=E.createContext({}),tq=pw.Provider;pw.Consumer;const $T=t=>{const e=rq();return A.jsx(tq,{value:e,children:t.children})},nq=()=>{const t=E.useContext(pw);if(t===void 0)throw new Error("useTaskUpdate must be used within a TaskUpdateProvider");return t};function rq(){const[t,e]=E.useState([]),[n,r]=E.useState(void 0),{user:i}=Li(),o=xo();return E.useEffect(()=>{i||o("/login")},[i]),E.useEffect(()=>{let a,l=!0;return(async()=>{try{if(i==null||a!==void 0)return;const c=_P(bh(bo,XH));a=SP(c,d=>{d.docChanges().forEach(f=>{const h=f.doc.data();switch(f.type){case"added":{const m={id:h.id,date:h.date,taskName:h.taskName,taskDescription:h.taskDescription,assignedFor:h.assignedFor};l&&e(w=>{const g=[...w];return g.push(m),g});break}case"modified":{const m={id:h.id,date:h.date,taskName:h.taskName,taskDescription:h.taskDescription,assignedFor:h.assignedFor};l&&e(w=>JSON.parse(JSON.stringify(w)).map(_=>m.id===_.id?m:_));break}case"removed":{console.log("Task was removed");break}}})})}catch(c){l&&r(c)}})(),function(){l=!1,a&&a()}},[i]),{tasks:t,errorTask:n}}const iq=()=>{const{user:t}=Li(),{employees:e}=FD(),{tasks:n}=nq(),[r,i]=ge.useState([]),[o,s]=ge.useState([]);ge.useEffect(()=>{const u=n.map(d=>d.assignedFor).flat().map(d=>d.id).flat(),c=[];e.forEach(d=>{u.includes(d.id)===!1&&c.push(d)}),i(c)},[e,n]),ge.useEffect(()=>{n&&(console.log("tasks",n),s(n))},[n]);const a=async(u,c)=>{const d=Rh(bo,"tasks",u);await $_(d,{...c})},l=u=>{const{destination:c,source:d,draggableId:f}=u;if(!c||c.droppableId===d.droppableId&&c.index===d.index)return;const h=JSON.parse(JSON.stringify(o)),p=d.droppableId!=="employees"?h.filter(g=>g.id===d.droppableId)[0]:void 0,m=h.filter(g=>g.id===c.droppableId)[0],w=e.filter(g=>g.id===f)[0];if(p){const g=p.assignedFor.findIndex(v=>v.id===f);p.assignedFor.splice(g,1),a(p.id,p)}else{const g=r.filter(v=>v.id!==f);i(g)}if(c.droppableId==="employees"){const g=[...r];g.push(w),i(g)}else m.assignedFor.push(w),a(m.id,m)};return A.jsxs(A.Fragment,{children:[!t&&A.jsx(B_,{}),t&&A.jsx(A.Fragment,{children:A.jsx(iH,{onDragEnd:l,children:A.jsxs("section",{className:"day_schedule",children:[A.jsx(KH,{employees:r}),A.jsx(YH,{tasks:o})]})})})]})},oq=()=>{const{user:t}=Li();return A.jsxs(A.Fragment,{children:[!t&&A.jsx(B_,{}),t&&A.jsx(A.Fragment,{children:A.jsx(iq,{})})]})},sq=()=>{const{signout:t}=Li();return A.jsx("button",{onClick:()=>t(),children:"Log Out"})},aq=()=>{const[t,e]=E.useState(""),[n,r]=E.useState(""),[i,o]=E.useState([]),s=xo(),{employees:a}=FD();ge.useEffect(()=>{if(a&&Object.keys(a).length>0){const f=[];for(const h in a){const m={...a[h],assigned:!1};f.push(m),o(f)}}},[a]);const l=f=>{e(f.target.value)},u=f=>{r(f.target.value)},c=async(f,h)=>{const p=[...i].map(m=>m.id===h.id?{...m,assigned:!0}:m);o(p)},d=async f=>{f.preventDefault();const h=new Date().getTime();try{const p=await TP(bh(bo,"tasks"),{}),m={id:p.id,date:h,taskName:t,taskDescription:n,assignedFor:i.filter(g=>g.assigned===!0)};console.log("taskData",m);const w=Rh(bo,"tasks",p.id);await $_(w,{...m}),console.log("Document written with ID: ",p.id)}catch(p){console.error("Error adding document: ",p)}s("/")};return A.jsxs(A.Fragment,{children:[A.jsx("h1",{children:"Add Task"}),A.jsxs("div",{className:"fieldset",children:[A.jsx("label",{htmlFor:"taskName",children:"Task name"}),A.jsx("input",{type:"text",name:"taskName",onChange:l,value:t})]}),A.jsxs("div",{className:"fieldset",children:[A.jsx("label",{htmlFor:"taskDescription",children:"Task Description"}),A.jsx("textarea",{name:"taskDescription",id:"taskDescription",cols:30,rows:10,onChange:u})]}),A.jsxs("div",{className:"fieldset",children:[A.jsx("label",{children:"Assign for:"}),i.map((f,h)=>A.jsxs("div",{children:[A.jsx("input",{type:"checkbox",name:"assignedFor",id:f.id,value:f.id,onChange:p=>c(p,f)}),A.jsxs("label",{htmlFor:f.id,children:[f.name," ",f.surname]})]},h))]}),A.jsx("button",{onClick:d,children:"Add Task"})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="firebasestorage.googleapis.com",UD="storageBucket",lq=2*60*1e3,uq=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge extends Nn{constructor(e,n,r=0){super(pg(e),`Firebase Storage: ${n} (${pg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ge.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return pg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qe;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qe||(qe={}));function pg(t){return"storage/"+t}function gw(){const t="An unknown error occurred, please check the error payload for server response.";return new Ge(qe.UNKNOWN,t)}function cq(t){return new Ge(qe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function dq(t){return new Ge(qe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function fq(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ge(qe.UNAUTHENTICATED,t)}function hq(){return new Ge(qe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function pq(t){return new Ge(qe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function gq(){return new Ge(qe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function mq(){return new Ge(qe.CANCELED,"User canceled the upload/download.")}function vq(t){return new Ge(qe.INVALID_URL,"Invalid URL '"+t+"'.")}function yq(t){return new Ge(qe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function _q(){return new Ge(qe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+UD+"' property when initializing the app?")}function wq(){return new Ge(qe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Eq(){return new Ge(qe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Iq(t){return new Ge(qe.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function lv(t){return new Ge(qe.INVALID_ARGUMENT,t)}function BD(){return new Ge(qe.APP_DELETED,"The Firebase app was deleted.")}function Tq(t){return new Ge(qe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function al(t,e){return new Ge(qe.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ca(t){throw new Ge(qe.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=un.makeFromUrl(e,n)}catch{return new un(e,"")}if(r.path==="")return r;throw yq(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(y){y.path.charAt(y.path.length-1)==="/"&&(y.path_=y.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(y){y.path_=decodeURIComponent(y.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",h=new RegExp(`^https?://${d}/${c}/b/${i}/o${f}`,"i"),p={bucket:1,path:3},m=n===$D?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",g=new RegExp(`^https?://${m}/${i}/${w}`,"i"),_=[{regex:a,indices:l,postModify:o},{regex:h,indices:p,postModify:u},{regex:g,indices:{bucket:1,path:2},postModify:u}];for(let y=0;y<_.length;y++){const I=_[y],S=I.regex.exec(e);if(S){const b=S[I.indices.bucket];let C=S[I.indices.path];C||(C=""),r=new un(b,C),I.postModify(r);break}}if(r==null)throw vq(e);return r}}class Sq{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bq(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function c(...w){u||(u=!0,e.apply(null,w))}function d(w){i=setTimeout(()=>{i=null,t(h,l())},w)}function f(){o&&clearTimeout(o)}function h(w,...g){if(u){f();return}if(w){f(),c.call(null,w,...g);return}if(l()||s){f(),c.call(null,w,...g);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,d(_)}let p=!1;function m(w){p||(p=!0,f(),!u&&(i!==null?(w||(a=2),clearTimeout(i),d(0)):w||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,m(!0)},n),m}function Rq(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aq(t){return t!==void 0}function Cq(t){return typeof t=="object"&&!Array.isArray(t)}function mw(t){return typeof t=="string"||t instanceof String}function UT(t){return vw()&&t instanceof Blob}function vw(){return typeof Blob<"u"&&!iV()}function BT(t,e,n,r){if(r<e)throw lv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw lv(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function jD(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ao;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ao||(ao={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pq(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(e,n,r,i,o,s,a,l,u,c,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Sc(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===ao.NO_ERROR,l=o.getStatus();if(!a||Pq(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===ao.ABORT;r(!1,new Sc(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Sc(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Aq(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=gw();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?BD():mq();s(l)}else{const l=gq();s(l)}};this.canceled_?n(!1,new Sc(!1,null,!0)):this.backoffId_=bq(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Rq(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Sc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function xq(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function kq(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Oq(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Nq(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Mq(t,e,n,r,i,o,s=!0){const a=jD(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return Oq(u,e),xq(u,n),kq(u,o),Nq(u,r),new Dq(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lq(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Vq(...t){const e=Lq();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(vw())return new Blob(t);throw new Ge(qe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Fq(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $q(t){if(typeof atob>"u")throw Iq("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class gg{constructor(e,n){this.data=e,this.contentType=n||null}}function Uq(t,e){switch(t){case or.RAW:return new gg(zD(e));case or.BASE64:case or.BASE64URL:return new gg(WD(t,e));case or.DATA_URL:return new gg(jq(e),zq(e))}throw gw()}function zD(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Bq(t){let e;try{e=decodeURIComponent(t)}catch{throw al(or.DATA_URL,"Malformed data URL.")}return zD(e)}function WD(t,e){switch(t){case or.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw al(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case or.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw al(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=$q(e)}catch(i){throw i.message.includes("polyfill")?i:al(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class HD{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw al(or.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Wq(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function jq(t){const e=new HD(t);return e.base64?WD(or.BASE64,e.rest):Bq(e.rest)}function zq(t){return new HD(t).contentType}function Wq(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n){let r=0,i="";UT(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(UT(this.data_)){const r=this.data_,i=Fq(r,e,n);return i===null?null:new Jr(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Jr(r,!0)}}static getBlob(...e){if(vw()){const n=e.map(r=>r instanceof Jr?r.data_:r);return new Jr(Vq.apply(null,n))}else{const n=e.map(s=>mw(s)?Uq(or.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new Jr(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(t){let e;try{e=JSON.parse(t)}catch{return null}return Cq(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hq(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function qq(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function GD(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gq(t,e){return e}class jt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Gq}}let bc=null;function Kq(t){return!mw(t)||t.length<2?t:GD(t)}function KD(){if(bc)return bc;const t=[];t.push(new jt("bucket")),t.push(new jt("generation")),t.push(new jt("metageneration")),t.push(new jt("name","fullPath",!0));function e(o,s){return Kq(s)}const n=new jt("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new jt("size");return i.xform=r,t.push(i),t.push(new jt("timeCreated")),t.push(new jt("updated")),t.push(new jt("md5Hash",null,!0)),t.push(new jt("cacheControl",null,!0)),t.push(new jt("contentDisposition",null,!0)),t.push(new jt("contentEncoding",null,!0)),t.push(new jt("contentLanguage",null,!0)),t.push(new jt("contentType",null,!0)),t.push(new jt("metadata","customMetadata",!0)),bc=t,bc}function Qq(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new un(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function Yq(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return Qq(r,t),r}function QD(t,e,n){const r=qD(e);return r===null?null:Yq(t,r,n)}function Xq(t,e,n,r){const i=qD(e);if(i===null||!mw(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const c=t.bucket,d=t.fullPath,f="/b/"+s(c)+"/o/"+s(d),h=yw(f,n,r),p=jD({alt:"media",token:u});return h+p})[0]}function Jq(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class YD{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(t){if(!t)throw gw()}function Zq(t,e){function n(r,i){const o=QD(t,i,e);return XD(o!==null),o}return n}function eG(t,e){function n(r,i){const o=QD(t,i,e);return XD(o!==null),Xq(o,i,t.host,t._protocol)}return n}function JD(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=hq():i=fq():n.getStatus()===402?i=dq(t.bucket):n.getStatus()===403?i=pq(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function tG(t){const e=JD(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=cq(t.path)),o.serverResponse=i.serverResponse,o}return n}function nG(t,e,n){const r=e.fullServerUrl(),i=yw(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new YD(i,o,eG(t,n),s);return a.errorHandler=tG(e),a}function rG(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function iG(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=rG(null,e)),r}function oG(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let y=0;y<2;y++)_=_+Math.random().toString().slice(2);return _}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const u=iG(e,r,i),c=Jq(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",h=Jr.getBlob(d,r,f);if(h===null)throw wq();const p={name:u.fullPath},m=yw(o,t.host,t._protocol),w="POST",g=t.maxUploadRetryTime,v=new YD(m,w,Zq(t,n),g);return v.urlParams=p,v.headers=s,v.body=h.uploadData(),v.errorHandler=JD(e),v}class sG{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ao.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ao.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ao.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Ca("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ca("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ca("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ca("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ca("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class aG extends sG{initXhr(){this.xhr_.responseType="text"}}function ZD(){return new aG}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n){this._service=e,n instanceof un?this._location=n:this._location=un.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ao(e,n)}get root(){const e=new un(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return GD(this._location.path)}get storage(){return this._service}get parent(){const e=Hq(this._location.path);if(e===null)return null;const n=new un(this._location.bucket,e);return new Ao(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Tq(e)}}function lG(t,e,n){t._throwIfRoot("uploadBytes");const r=oG(t.storage,t._location,KD(),new Jr(e,!0),n);return t.storage.makeRequestWithTokens(r,ZD).then(i=>({metadata:i,ref:t}))}function uG(t){t._throwIfRoot("getDownloadURL");const e=nG(t.storage,t._location,KD());return t.storage.makeRequestWithTokens(e,ZD).then(n=>{if(n===null)throw Eq();return n})}function cG(t,e){const n=qq(t._location.path,e),r=new un(t._location.bucket,n);return new Ao(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dG(t){return/^[A-Za-z]+:\/\//.test(t)}function fG(t,e){return new Ao(t,e)}function ex(t,e){if(t instanceof _w){const n=t;if(n._bucket==null)throw _q();const r=new Ao(n,n._bucket);return e!=null?ex(r,e):r}else return e!==void 0?cG(t,e):t}function hG(t,e){if(e&&dG(e)){if(t instanceof _w)return fG(t,e);throw lv("To use ref(service, url), the first argument must be a Storage instance.")}else return ex(t,e)}function jT(t,e){const n=e==null?void 0:e[UD];return n==null?null:un.makeFromBucketSpec(n,t)}function pG(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:X1(i,t.app.options.projectId))}class _w{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=$D,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=lq,this._maxUploadRetryTime=uq,this._requests=new Set,i!=null?this._bucket=un.makeFromBucketSpec(i,this._host):this._bucket=jT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=un.makeFromBucketSpec(this._url,e):this._bucket=jT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){BT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){BT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ao(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new Sq(BD());{const s=Mq(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const zT="@firebase/storage",WT="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="storage";function gG(t,e,n){return t=Be(t),lG(t,e,n)}function mG(t){return t=Be(t),uG(t)}function vG(t,e){return t=Be(t),hG(t,e)}function yG(t=Gf(),e){t=Be(t);const r=Di(t,tx).getImmediate({identifier:e}),i=K1("storage");return i&&_G(r,...i),r}function _G(t,e,n,r={}){pG(t,e,n,r)}function wG(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new _w(n,r,i,e,Oo)}function EG(){Kn(new kn(tx,wG,"PUBLIC").setMultipleInstances(!0)),tn(zT,WT,""),tn(zT,WT,"esm2017")}EG();const IG=async(t,e)=>{const n=yG(),r=vG(n,e);return await gG(r,t),await mG(r)},TG=()=>{const{user:t}=Li(),[e,n]=E.useState(""),[r,i]=E.useState(""),[o,s]=E.useState(!0),[a,l]=E.useState(),u=gy(),c=xo();E.useEffect(()=>{t||c("/login")},[t]);const d=()=>{n(""),i(""),l(void 0)},f=m=>{const{name:w,value:g}=m.target;switch(w){case"name":n(g);break;case"surname":i(g);break;case"active":s(!o);break}},h=m=>{if(m.target.files!==null){const w=m.target.files[0];l(w)}},p=async m=>{if(m.preventDefault(),e&&e.length>0&&r&&r.length>0)try{const w=await TP(bh(bo,"employees"),{}),g=Rh(bo,"employees",w.id),v=`/employees-pictures/${e}-${r}`;let _="";a&&(_=await IG(a,v)),await $_(g,{id:w.id,name:e,surname:r,photo:_,active:o}),w.id&&u(Sy({type:Wf.success,text:"New employee added successfully"})),d()}catch(w){console.error("Error adding document: ",w)}};return A.jsxs("div",{children:[A.jsx("h1",{children:"Add Employee"}),A.jsxs("div",{className:"fieldset",children:[A.jsx("label",{htmlFor:"name",children:"Name"}),A.jsx("input",{type:"text",name:"name",onChange:f,value:e})]}),A.jsxs("div",{className:"fieldset",children:[A.jsx("label",{htmlFor:"surname",children:"Surname"}),A.jsx("input",{type:"text",name:"surname",onChange:f,value:r})]}),A.jsxs("div",{className:"fieldset",children:[A.jsx("label",{htmlFor:"active",children:"Active"}),A.jsx("input",{type:"checkbox",name:"active",onChange:f,checked:o})]}),A.jsxs("div",{className:"fieldset",children:[A.jsx("label",{htmlFor:"photo",children:"Photo"}),A.jsx("input",{type:"file",name:"photo",onChange:h})]}),A.jsx("button",{onClick:p,type:"button",children:"Add employee"})]})};function SG(){const t=Li(),e=iL(r=>r.common.message),n=lu();return A.jsx(A.Fragment,{children:A.jsxs("div",{children:[t.user&&A.jsx(sq,{}),A.jsx("nav",{className:"main-nav",children:A.jsxs("ul",{children:[n.pathname!=="/"&&A.jsx("li",{children:A.jsx(cc,{to:"/",children:"Home"})}),t.user&&A.jsx("li",{children:A.jsx(cc,{to:"/add-task",children:"Add Task"})}),t.user&&A.jsx("li",{children:A.jsx(cc,{to:"/add-employee",children:"Add Employee"})}),!t.user&&A.jsx("li",{children:A.jsx(cc,{to:"/signup",children:"SignUp"})})]})}),e&&A.jsx(MO,{message:e.text,type:e.type}),A.jsxs(BN,{children:[A.jsx(Ho,{path:"/",element:A.jsx($T,{children:A.jsx(hg,{children:A.jsx(oq,{})})})}),A.jsx(Ho,{path:"/add-task",element:A.jsx($T,{children:A.jsx(hg,{children:A.jsx(aq,{})})})}),A.jsx(Ho,{path:"/add-employee",element:A.jsx(hg,{children:A.jsx(TG,{})})}),A.jsx(Ho,{path:"/login",element:A.jsx(B_,{})}),A.jsx(Ho,{path:"/signup",element:A.jsx(x9,{})})]})]})})}const bG=LL({reducer:{common:KL}}),RG=GN([{path:"*",element:A.jsx(SG,{})}]);mg.createRoot(document.getElementById("root")).render(A.jsx(ge.StrictMode,{children:A.jsx(eL,{store:bG,children:A.jsx(P9,{children:A.jsx(tM,{router:RG})})})}));
